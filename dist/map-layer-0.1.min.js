/*!
 * map-layer.js
 * https://github.com/Lyxea/map-layers.js
 * Version: 0.1
 *
 * Copyright 2018 Map-layers.js Contributors
 * Released under the Apache License 2.0
 * https://github.com/Lyxea/map-layers.js/blob/master/LICENSE
 */
jQuery.fn.centerHorizontal=function(){this.css("position","absolute");$(".map").width();return this},jQuery.fn.centerVertical=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(".map").height()-$(this).outerHeight())/2+$(".map").scrollTop())+"px"),this};var dimensionSlider=function(n,s){var a,p,h=this,e=new Date("1990-11-25T12:00:00.000Z"),l=[],u=[],c={},y={};n=n,s=s;this.resetDimensionSlider=function(){l=[],u=[],c={},{},y={}},this.setCallbackUpdateParam=function(t){a=t},this.setCallbackChangeVisiblity=function(t){p=t};var f=function(t){return date=new Date(t),val=(date-e)/36e5,val},o=function(t,e,i){void 0!==e&&$.each(e.Dimension,function(t,o){currentVal=o.values.split(","),$.each(currentVal,function(t,e){"time"==o.name?i(c,e,u):"elevation"==o.name&&i(y,parseInt(e),l)})})};this.sliderAddLayer=function(i,t){void 0!==t&&void 0!==t.Dimension&&o(0,t,function(t,e,o){$.inArray(i,o)<0&&o.push(i),t[e]||(t[e]=[]),$.inArray(i,t[e])<0&&t[e].push(i)})},this.sliderRemoveLayer=function(i,t){u=jQuery.grep(u,function(t){return t!=i}),l=jQuery.grep(l,function(t){return t!=i}),o(0,t,function(t,e,o){t[e]&&(t[e]=jQuery.grep(t[e],function(t){return t!=i}),t[e].length<=0&&delete t[e])})},this.updateElevSlider=function(t){var o=Object.keys(y),e=$("#slider_layer_input").val();if($("#"+n).html(""),$("#"+n).hide(),!(o.length<=1)){""!=e&&null!=e||(e=Math.min.apply(null,o));if(void 0!==$("#"+s).find("#slider_time_input"))$("#"+s).find("#slider_time_input").val();$("#"+n).show(),$("#"+n).append("<span class='textColor1'>"+trans.level+"</span><i class='fa fa-caret-up fa-2x sl-up color1Hover' id='up_elev' aria-hidden='true'></i><input id='slider_layer_input' class='dim2-slider'><i class='fa fa-caret-down fa-2x color1Hover sl-down' id='down_elev' aria-hidden='true'></i>");$("#slider_layer_input").slider({value:e,step:1,min:Math.min.apply(null,o),max:Math.max.apply(null,o),ticks:o,orientation:"vertical"}).on("slideStop",function(){$.each(u,function(t,e){h.updateLayer(e)})});$("#"+n).centerVertical(),$("#slider_layer_input").trigger("slideStop"),$("#"+n).find("#down_elev").click(function(){if(!($("#slider_layer_input").val()>=Math.max.apply(null,o))){var t=$("#slider_layer_input").val(),e=o[t];$("#slider_layer_input").slider("setValue",e),$("#slider_layer_input").trigger("slideStop")}}),$("#"+n).find("#up_elev").click(function(){if(!($("#slider_layer_input").val()<=Math.min.apply(null,o))){var t=$("#slider_layer_input").val(),e=o[t-2];$("#slider_layer_input").slider("setValue",e),$("#slider_layer_input").trigger("slideStop")}})}},this.updateTimeSlider=function(t){var e=Object.keys(c),o=[];$.each(e,function(t,e){o.push(f(e))});var i={};$.each(c,function(t,e){var o=f(t).toString()+" ";i[o]||(i[o]=[]),$.each(e,function(t,e){i[o].push(e)})});var r=$("#slider_time_input").val();if($("#"+s).html(""),$("#"+s).hide(),!(o.length<=1)){""!=r&&null!=r||(r=Math.min.apply(null,o));if(void 0!==$("#"+n).find("#slider_layer_input"))$("#"+n).find("#slider_layer_input").val();$("#"+s).show(),$("#"+s).append("<span class='textColor1 col-md-2'>"+trans.time+"</span> <span class='col-md-10'><i class='fa fa-caret-left fa-2x sl-left color1Hover' id='down_time' aria-hidden='true'></i><input id='slider_time_input'><i class='fa fa-caret-right fa-2x color1Hover sl-right' id='up_time' aria-hidden='true'></i></span>"),$("#slider_time_input").slider({value:r,step:1,min:Math.min.apply(null,o),max:Math.max.apply(null,o)}).on("slideStop",function(){$.each(l,function(t,e){h.updateLayer(e)})}),$("#"+s).centerHorizontal(),$("#slider_time_input").trigger("slideStop"),$("#"+s).find("#down_time").click(function(){if(!($("#slider_time_input").val()<=Math.min.apply(null,o))){var t=o[$("#slider_time_input").val()-1];$("#slider_time_input").slider("setValue",t),$("#slider_time_input").trigger("slideStop")}}),$("#"+s).find("#up_time").click(function(){if(!($("#slider_time_input").val()>=Math.max.apply(null,o))){var t=o[parseInt($("#slider_time_input").val())+1];$("#slider_time_input").slider("setValue",t),$("#slider_time_input").trigger("slideStop")}})}},this.updateLayer=function(o){if(!($.inArray(o,l)<0&&$.inArray(o,u)<0)){var i,t,r=!1,e=!1;void 0!==$("#"+s).find("#slider_time_input")&&(i=$("#"+s).find("#slider_time_input").val()),void 0!==$("#"+n).find("#slider_layer_input")&&(t=$("#"+n).find("#slider_layer_input").val()),$.each(c,function(t,e){i==f(t)&&0<=$.inArray(o,e)&&(r=!0,a(o,"TIME",t))}),y[t]&&0<=$.inArray(o,y[t])&&(e=!0,a(o,"ELEVATION",t)),0!=e&&0!=r||p(o,!1)}}},geoMap=function(o,t,e){this.mapDiv=o,this.geoServerURL=t;var n,s,a,p,h=this,i=ol.proj.transform([2,45.07],"EPSG:4326","EPSG:3857"),r=13,l=new Map,u=0,c=(new Map,""),y={},f="OSM",d=[],g=!0,v=document.getElementById("popup"),m=document.getElementById("popup-content"),b=document.getElementById("popup-closer"),w=new ol.Overlay({element:v,autoPan:!0,autoPanAnimation:{duration:250}});this.initMap=function(t){void 0===t.defaultBaseMap&&""==t.defaultBaseMap||(f=t.defaultBaseMap),void 0===t.defaultZoomLevel&&""==t.defaultZoomLevel||(r=t.defaultZoomLevel),void 0===t.defaultXCenter&&""==t.defaultXCenter||void 0===t.defaultYCenter&&""==t.defaultYCenter||(i=ol.proj.transform([parseFloat(t.defaultXCenter),parseFloat(t.defaultYCenter)],"EPSG:4326","EPSG:3857")),h.initBaseMap();var e=new ol.control.ScaleLine;i=i,(n=new ol.Map({layers:void 0,target:o,view:new ol.View({center:i,zoom:r}),controls:[]})).addControl(e),$.each(y,function(t,e){t==f&&(e.setVisible(!0),l.set(0,e)),n.addLayer(e)}),S()};var x=void 0,M=void 0;this.asMeasureInteractive=function(){return null!=x},this.createMeasureLayer=function(i){(M=new ol.layer.Vector({source:new ol.source.Vector})).setZIndex(9998),n.addLayer(M),x=new ol.interaction.Draw({type:i,source:M.getSource()}),a&&a.parentNode.removeChild(a),(a=document.createElement("div")).className="tooltip tooltip-measure",s=new ol.Overlay({element:a,offset:[0,-15],positioning:"bottom-center"}),n.addOverlay(s);var r="Polygon"===i?"<sup>2</sup>":"";x.on("drawstart",function(t){M.getSource().clear(),t.feature.on("change",function(t){var e="Polygon"===i?t.target.getGeometry().getArea():t.target.getGeometry().getLength(),o=100<e?(e/1e3).toFixed(2)+"km":e.toFixed(2)+"m";p="Polygon"===i?t.target.getGeometry().getInteriorPoint().getCoordinates():t.target.getGeometry().getLastCoordinate(),a.innerHTML=o+r,s.setPosition(p)})}),n.addInteraction(x)},this.deleteMeasureLayer=function(){null!=M&&(M.getSource().clear(),M=void 0),null!=x&&(n.removeInteraction(x),x=void 0),a=null,n.removeOverlay(s),s=null},this.bindView=function(t){t&&t.getMapObj()&&t.getMapObj().setView(n.getView())},this.getMapObj=function(){return n},this.enableGetFeatureInfo=function(t){g=t=void 0===t||t,b.onclick()},this.clickPopup=function(e){if(m.innerHTML="",0!=g){e.coordinate;w.setPosition(e.coordinate);for(var t=0;t<l.length;t++){var o=l[t];if(0!=o[0]){var i=o[1].getSource().getGetFeatureInfoUrl(e.coordinate,n.getView().getResolution(),n.getView().getProjection(),{INFO_FORMAT:"text/html"});$.ajax({url:i}).done(function(t){w.setPosition(e.coordinate),m.innerHTML=m.innerHTML+t})}else b.onclick()}}},this.clickPopupAvailableLayers=function(e,t){if(m.innerHTML="",0!=g){e.coordinate;w.setPosition(e.coordinate);for(var o=0;o<l.length;o++){var i=l[o];if(0!=i[0]&&0<=$.inArray(i[0],t)){var r=i[1].getSource().getGetFeatureInfoUrl(e.coordinate,n.getView().getResolution(),n.getView().getProjection(),{INFO_FORMAT:"text/html"});$.ajax({url:r}).done(function(t){w.setPosition(e.coordinate),m.innerHTML=m.innerHTML+t})}else b.onclick()}}},this.initWithMapObjet=function(t){n=t,h.initBaseMap(),$.each(y,function(t,e){t==f&&(e.setVisible(!0),l.set(0,e)),n.addLayer(e)}),n.addOverlay(w),S()},this.addCallbackOnMoveMap=function(t){console.log(t),d.push(t)};var S=function(){n.on("moveend",function(t){actualExtent=n.getView().calculateExtent(n.getSize()),epsg=n.getView().getProjection().getCode(),zoom=n.getView().getZoom(),$.each(d,function(t,e){e(zoom,actualExtent,epsg)})})};this.saveCurrentMap=function(){alert("not implemented yet")},this.addLayer=function(t,e){var o=this.geoServerURL;null!=e&&(console.log("Change server by : "+e),o=e),newLayerSource=new ol.source.ImageWMS({url:o+"geoserver/ows?",serverType:"geoserver"}),newLayer=new ol.layer.Image({source:newLayerSource}),newLayer.getSource().updateParams({LAYERS:t});n.addLayer(newLayer);return u+=1,l.set(u,newLayer),u},this.onLayerLoading=function(t,e){l.get(t).getSource().on("imageloadstart",function(t){e()})},this.onLayerIsLoading=function(t,e){l.get(t).getSource().on("imageloadend",function(t){e()})},this.removeLayer=function(t){t=parseInt(t),n.removeLayer(l.get(t)),l.delete(t)},this.getCap=function(e,t){t=void 0!==t&&t;if(""==c||1==t){var o=this.geoServerURL+"geoserver/wms?request=GetCapabilities&service=WMS&version=1.3.0",i=new ol.format.WMSCapabilities;$.ajax(o).then(function(t){c=i.read(t),e(c)})}else e(c)},this.getCenterOfExtent=function(t){return[t[0]+(t[2]-t[0])/2,t[1]+(t[3]-t[1])/2]},this.setMapCenter=function(t,e){e=void 0!==e?e:"EPSG:4326";n.getView().setCenter(ol.proj.transform(h.getCenterOfExtent(t),e,"EPSG:3857"));t=ol.extent.applyTransform(t,ol.proj.getTransform(e,"EPSG:3857"));n.getView().fit(t,n.getSize())},this.setZoom=function(t){n.getView().setZoom(t)},this.zoomToLayer=function(t){layerName=l.get(t).getSource().getParams("LAYERS").LAYERS,this.getCap(function(t){var e;allLayer=t.Capability.Layer.Layer;for(var o=0,i=allLayer.length;o<i;o++){var r=allLayer[o];if(r.Name==layerName){e=r.BoundingBox[0].extent,h.setMapCenter(e);break}}})},this.zoomToLayers=function(e){var s=[];h.getCap(function(t){var n;if(allLayer=t.Capability.Layer.Layer,$.each(e,function(t,e){layerName=l.get(e).getSource().getParams("LAYERS").LAYERS;for(var o=0,i=allLayer.length;o<i;o++){var r=allLayer[o];r.Name==layerName&&(n=r.BoundingBox[0].extent,s.push(n))}}),s.length<=0)console.log("Aucune extent trouvée");else{var o=s[0];$.each(s,function(t,e){e[0]<o[0]&&(o[0]=e[0]),e[1]<o[1]&&(o[1]=e[1]),e[2]>o[2]&&(o[2]=e[2]),e[3]>o[3]&&(o[3]=e[3])}),h.setMapCenter(o)}})},this.changeOpacity=function(t,e){l.get(t).setOpacity(e)},this.changeLayerIndex=function(t,e){t=parseInt(t),l.get(t).setZIndex(e)},this.setLayerVisibility=function(t,o){$.isArray(t)?(t=t.map(parseInt),$.each(t,function(t,e){l.get(e).setVisible(o)})):h.setLayerVisibility([parseInt(t)],o)},this.updateParam=function(t,e,o){var i={};i[e]=o,l.get(t).getSource().updateParams(i)},this.getSource=function(t){return l.get(t).getSource()},this.updateDivMapSize=function(){var t=$(window).height();$("#"+h.mapDiv).height(t)},this.initBaseMap=function(){(y={}).OSM=new ol.layer.Tile({title:"OSM",preload:1/0,source:new ol.source.OSM({crossOrigin:null}),visible:!1}),y["Bing Aerial"]=new ol.layer.Tile({title:"Bing Aerial",preload:1/0,visible:!1,source:new ol.source.BingMaps({key:e,imagerySet:"Aerial"})}),y["Bing Road"]=new ol.layer.Tile({title:"Bing Road",preload:1/0,visible:!1,source:new ol.source.BingMaps({key:e,imagerySet:"Road"})}),y["Stamen Toner"]=new ol.layer.Tile({title:"Stamen Toner",preload:1/0,source:new ol.source.Stamen({layer:"toner"}),visible:!1}),y["Stamen Watercolor"]=new ol.layer.Tile({title:"Stamen Watercolor",preload:1/0,source:new ol.source.Stamen({layer:"watercolor"}),visible:!1}),y["Stamen Terrain"]=new ol.layer.Tile({title:"Stamen Terrain",preload:1/0,source:new ol.source.Stamen({layer:"terrain"}),visible:!1}),y["Mapbox Geography"]=new ol.layer.Tile({title:"Mapbox Geography",preload:1/0,source:new ol.source.TileJSON({url:"https://api.tiles.mapbox.com/v3/mapbox.geography-class.json?secure"}),visible:!1}),y["Mapbox Natural earth"]=new ol.layer.Tile({title:"Mapbox Natural earth",preload:1/0,source:new ol.source.TileJSON({url:"https://api.tiles.mapbox.com/v3/mapbox.natural-earth-hypso-bathy.json?secure"}),visible:!1})},this.getBaseMaps=function(){return y},this.changeBaseMap=function(o){$.each(h.getBaseMaps(),function(t,e){e.setVisible(!1),t==o&&(e.setVisible(!0),l.set(0,e))})}},jsonWriter=function(t){var h=this,l={},o=t;this.getJsonObj=function(){return l},this.getJsonString=function(){return JSON.stringify(l)};this.readMapCookie=function(){return function(t){for(var e=t+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var r=o[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return null}(o)},this.clearMapCookie=function(){$.removeCookie(o)},this.writeConfigCookies=function(){h.setMapName(o);var t,e=new Date;e.setFullYear(e.getFullYear()+1),t=o+"="+h.getJsonString()+"; expires="+e.toUTCString(),document.cookie=t},this.setIdMap=function(t){l.mapID=t},this.setMapName=function(t){l.mapName=t},this.geoServer=function(t){l.geoserver=t.toString(),h.writeConfigCookies()},this.ownerName=function(t){l.ownerName=t.toString(),h.writeConfigCookies()},this.userName=function(t){l.userName=t.toString(),h.writeConfigCookies()};this.lastModificationDate=function(t){l.lastModificationDate=t.toString(),h.writeConfigCookies()},this.mapName=function(t){l.mapName=t.toString(),h.writeConfigCookies()},this.mapTitle=function(t){l.mapTitle=t.toString(),h.writeConfigCookies()},this.mapID=function(t){l.mapID=t.toString(),h.writeConfigCookies()},this.shareStatus=function(t){l.shareStatus=t.toString(),h.writeConfigCookies()},this.newLayer=function(e,t,o,i,r,n,s,a){void 0===l.layers&&(l.layers=[]),e=parseInt(e);var p=l.layers.findIndex(function(t){return t.layerId===e});return-1<p||(p=l.layers.length,l.layers[p]={},l.layers[p].layerId=e,l.layers[p].layerName=t,l.layers[p].layerDisplayName=o,l.layers[p].layerGroupName=i,l.layers[p].layerOrderInGroup=r,l.layers[p].active=n,l.layers[p].visibility=s,l.layers[p].opacity=a,h.writeConfigCookies()),l.layers[p]},this.setlayerDisplayName=function(e,t){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var o=l.layers.findIndex(function(t){return t.layerId===e});return l.layers[o].layerDisplayName=t,h.writeConfigCookies(),l.layers[o]}},this.setLayerOrderInGroup=function(e,t){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var o=l.layers.findIndex(function(t){return t.layerId===e});return l.layers[o].layerOrderInGroup=t,h.writeConfigCookies(),l.layers[o]}},this.setOpacity=function(e,t){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var o=l.layers.findIndex(function(t){return t.layerId===e});return l.layers[o].opacity=t,h.writeConfigCookies(),l.layers[o]}},this.setActive=function(e,t){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var o=l.layers.findIndex(function(t){return t.layerId===e});return l.layers[o].active=t,h.writeConfigCookies(),l.layers[o]}},this.setVisibility=function(e,t){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var o=l.layers.findIndex(function(t){return t.layerId===e});return l.layers[o].visibility=t,h.writeConfigCookies(),l.layers[o]}},this.setOpacity=function(e,t){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var o=l.layers.findIndex(function(t){return t.layerId===e});return l.layers[o].opacity=t,h.writeConfigCookies(),l.layers[o]}},this.setExtent=function(t,e){l.extent=t,l.extentEPSG=e,h.writeConfigCookies()},this.setZoom=function(t){l.zoom=t},this.removeLayer=function(e){if(e=parseInt(e),!(void 0===l.layers||l.layers.findIndex(function(t){return t.layerId===e})<=-1)){var t=l.layers.findIndex(function(t){return t.layerId===e});l.layers.splice(t,1),h.writeConfigCookies()}},this.forceRemoveAllLayer=function(){l.layers=[],h.writeConfigCookies()},this.newLayerGroup=function(e,t,o,i,r){void 0===l.layerGroups&&(l.layerGroups=[]);var n=l.layerGroups.findIndex(function(t){return t.groupName===e});return-1<n||(n=l.layerGroups.length,l.layerGroups[n]={},l.layerGroups[n].groupName=e,l.layerGroups[n].groupDisplayName=t,l.layerGroups[n].groupOrder=o,l.layerGroups[n].groupActive=i,l.layerGroups[n].groupVisibility=r,h.writeConfigCookies()),l.layerGroups[n]},this.setGroupDisplayName=function(e,t){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var o=l.layerGroups.findIndex(function(t){return t.groupName===e});return l.layerGroups[o].groupDisplayName=t,h.writeConfigCookies(),l.layerGroups[o]}},this.setGroupOrder=function(e,t){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var o=l.layerGroups.findIndex(function(t){return t.groupName===e});return l.layerGroups[o].groupOrder=t,h.writeConfigCookies(),l.layerGroups[o]}},this.setGroupActive=function(e,t){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var o=l.layerGroups.findIndex(function(t){return t.groupName===e});return l.layerGroups[o].groupActive=t,h.writeConfigCookies(),l.layerGroups[o]}},this.setGroupVisibility=function(e,t){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var o=l.layerGroups.findIndex(function(t){return t.groupName===e});return l.layerGroups[o].groupVisibility=t,h.writeConfigCookies(),l.layerGroups[o]}},this.setMinmizeGroupe=function(e,t){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var o=l.layerGroups.findIndex(function(t){return t.groupName===e});return l.layerGroups[o].minimize=t,h.writeConfigCookies(),l.layerGroups[o]}},this.setActiveGroup=function(e,t){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var o=l.layerGroups.findIndex(function(t){return t.groupName===e});return l.layerGroups[o].groupActive=t,h.writeConfigCookies(),l.layerGroups[o]}},this.removeGroup=function(e){if(!(void 0===l.layerGroups||l.layerGroups.findIndex(function(t){return t.groupName===e})<=-1)){var t=l.layerGroups.findIndex(function(t){return t.groupName===e});l.layerGroups.splice(t,1),h.writeConfigCookies()}},this.forceRemoveAllGroup=function(){l.layerGroups=[],h.writeConfigCookies()},this.newBaseMap=function(t,e,o){return void 0!==l.baseMap||(l.baseMap={},l.baseMap.baseMapName=t,l.baseMap.opacity=e,l.baseMap.active=o,h.writeConfigCookies()),l.baseMap},this.setBaseMapName=function(t){if(void 0!==l.baseMap)return l.baseMap.baseMapName=t,h.writeConfigCookies(),l.baseMap},this.setBaseMapOpacity=function(t){if(void 0!==l.baseMap)return l.baseMap.opacity=t,h.writeConfigCookies(),l.baseMap},this.setBaseMapActive=function(t){if(void 0!==l.baseMap)return l.baseMap.active=t,h.writeConfigCookies(),l.baseMap}},layerManager=function(r,p,h,t,e,l){var u=this;this.lmDiv=r;var o=$("#"+this.lmDiv),i=$("#"+this.lmDiv).append("<div id='contenairList' class=''></div>").find("#contenairList"),n=$("#"+this.lmDiv).append("<div id='contenairConfig' class='bgColor2'></div>").find("#contenairConfig"),s=i.append("<div id='layerList' class='layer-list'></div>").find("#layerList"),a=n.append("<div id='baseMap' ></div>").find("#baseMap"),c=n.append("<div id='CRUD' ></div>").find("#CRUD");this.geoMap=p,this.jsonWriter=h,this.dimensionSlider=t,this.library=e;l=l;var y=1,f=y,d={},g=[],v={},m=1;this.getGroup=function(){return v},this.init=function(){u.geoMap.addCallbackOnMoveMap(b),void 0!==t&&(t.setCallbackUpdateParam(u.geoMap.updateParam),t.setCallbackChangeVisiblity(u.setActiveLayer))},this.removeAllLayer=function(){s.find(".layer-conf").each(function(){V($(this).attr("id"),$(this))}),y=f,u.jsonWriter.forceRemoveAllGroup(),u.jsonWriter.forceRemoveAllLayer()},this.removeLayerManager=function(){u.removeAllLayer(),o.html(""),o=$("#"+this.lmDiv),s=$("#"+this.lmDiv).append("<div id='layerList' class='layer-list'></div>").find("#layerList"),a=$("#"+this.lmDiv).append("<div id='baseMap' ></div>").find("#baseMap"),c=$("#"+this.lmDiv).append("<div id='CRUD' ></div>").find("#CRUD")};var b=function(t,e,o){u.jsonWriter.setZoom(t),u.jsonWriter.setExtent(e,o)};this.addCrud=function(t,e,o,i){divCRUD='<div class="CRUD-layer-manager">             <span class="fa-stack fa-lg fa-2x bgColor1" id="saveMap" data-toggle="tooltip" title="'+trans.layerManagerSaveMap+'">                 <i class="fa fa-floppy-o fa-stack-1x animated bgColor1 color2Hover"></i>             </span>             <span class="fa-stack fa-lg fa-2x bgColor1" id="openMap" data-toggle="tooltip" title="'+trans.layerManagerOpenMap+'">                 <i class="fa fa-folder-open-o fa-stack-1x animated  bgColor1 color2Hover"></i>             </span>             <span class="fa-stack fa-lg fa-2x bgColor1" id="addMap" data-toggle="tooltip" title="'+trans.layerManagerAddLayer+'">                 <i class="fa fa-plus fa-stack-1x animated  bgColor1 color2Hover"></i>             </span>             <span class="fa-stack fa-lg fa-2x bgColor1" id="removeAllLayers" data-toggle="tooltip" title="'+trans.layerManagerRemoveAllLayer+'">                 <i class="fa fa-trash fa-stack-1x animated bgColor1 color2Hover"></i>             </span>         </div>',newDiv=void 0!==i?$(i).append(divCRUD):c.append(divCRUD),newDiv.find("#saveMap").click(function(){e(u.jsonWriter.getJsonString())}),newDiv.find("#openMap").click(function(){o(u.loadJsonMap)}),newDiv.find("#addMap").click(function(){t()}),newDiv.find("#removeAllLayers").click(function(){confirm(trans.layerManagerConfirmRemoveAll)&&u.removeAllLayer()}),c=newDiv},this.addLayer=function(t,e,o,i,r){console.log(t+" - "+e+" - "+o+" - "+i+" - "+r),layerCap=u.library.getLayerCapabilities(t),""!=e&&void 0!==e||(e=void 0===layerCap||void 0===layerCap.Title||""==layerCap.Title?t:layerCap.Title),""!=o&&void 0!==o||(o=trans.standardGroupName),groupDiv=M(o,i);var n=groupDiv.attr("id");actualOrderGroup=groupDiv.data("ordergroup");var s=(groupDiv.find(".layer-conf").length+1)/1e3;thisOrder=actualOrderGroup+s;var a=0;return $.each(_(n),function(t,e){u.dimensionSlider.updateLayer(e);var o=u.getOrderLayer(e);a<o&&(a=o)}),999<=(a=1e3*a-1e3*parseInt(a))?(console.log("Le nombre maxi de couche dans le groupe à été atteint"),null):"undefined"==typeof layerCap||null===layerCap?(console.log("Error : Le layer "+t+" n'est pas disponible"),newDiv=E(thisOrder,t),groupDiv.find("#layers").prepend(newDiv),G(thisOrder,newDiv),null):(idLayer=p.addLayer(t,r),u.setOrderLayer(idLayer,thisOrder),idLayer=parseInt(idLayer),d[idLayer]=layerCap,g.push([idLayer,t,e,o]),newDiv=A(idLayer,t,e,thisOrder),groupDiv.find("#layers").prepend(newDiv),u.sortDivGroup(),void 0!==u.dimensionSlider&&(u.dimensionSlider.sliderAddLayer(idLayer,layerCap),u.dimensionSlider.updateElevSlider(idLayer),u.dimensionSlider.updateTimeSlider(idLayer)),u.setActiveLayer(idLayer,l.defaultLayerActive),u.setOpacity(idLayer,l.defaultOpacity),h.newLayer(idLayer,t,e,n,thisOrder,!0,!0,1),N(idLayer,newDiv),k(idLayer,newDiv),D(idLayer,newDiv),R(idLayer,newDiv),G(idLayer,newDiv),I(idLayer,newDiv),B(idLayer,newDiv),O(idLayer,newDiv),w(idLayer,newDiv),x(idLayer,newDiv),idLayer)};var w=function(t,e){u.geoMap.onLayerLoading(t,function(){$(e).find(".loadingLayer").show(),$(e).find("#eyeVisibility").hide()})},x=function(t,e){u.geoMap.onLayerIsLoading(t,function(){$(e).find(".loadingLayer").hide(),$(e).find("#eyeVisibility").show()}),$('[data-toggle="tooltip"]').tooltip()},M=function(t,e){var o=v[t];if(null!=o&&""!=o){var i=s.find(".group-div#"+o);if(i.length)return i}var r=S(t,e);return s.prepend(r),r},S=function(t,e){return m+=1,v[t]=m,y+=1,actualGroupOrder=y,null!=e&&-1<e&&(actualGroupOrder=e,y<e&&(y=e+1)),r=P(m,actualGroupOrder,t),W(m,r),Y(m,r),L(m,r),K(m,r),H(m,r),z(m,r),Z(m,r),u.jsonWriter.newLayerGroup(m,t,actualGroupOrder,!0,!0),$(r)},P=function(t,e,o){return r='<div class="group-div" id="'+t+'" data-ordergroup="'+e+'"><div class="group"><table width="100%" cellpadding="0" cellmargin="0" class="layer-conf "><tr><td class="cola"></td><td class="col2"></td><td class="col2b"></td><td class="col3 bgColor2Darker borderBottomColor2Darker"></td></tr></table></div><div id="layers"></div></div>',eyeVisibility='<i id="gpEyeVisibility" class="fa fa-eye group-eye-visibility bgColor2" aria-hidden="true" data-toggle="tooltip" title="'+trans.hideGroup+'"></i>',minusGroup='<i id="gpMinus" class="fa fa-minus group-minus bgColor2" aria-hidden="true" data-toggle="tooltip" title="'+trans.hideGroup+'"></i>',label='<div class="group-name"><label Color2><b>'+o+"</b></label></div>",zoomOn='<i class="fa fa-search-plus group-zoom Color2" aria-hidden="true" id="zoomOn" data-toggle="tooltip" title="'+trans.zoomGroup+'"></i>',up='<i class="fa fa-chevron-up Color2" aria-hidden="true" id="upGroup" data-toggle="tooltip" title="'+trans.upGroup+'"></i>',down='<i class="fa fa-chevron-down Color2" aria-hidden="true" id="downGroup" data-toggle="tooltip" title="'+trans.upGroup+'"></i>',deleteGroup='<i class="fa fa-trash trash-group bgColor2" aria-hidden="true" id="trashGroup" data-toggle="tooltip" title="'+trans.deleteGroup+'"></i>',newDiv=$(r),newDiv.find(".cola").append(eyeVisibility).append(minusGroup),newDiv.find(".col2").append(label),newDiv.find(".col2b").append(zoomOn).append(up).append(down),newDiv.find(".col3").append(deleteGroup),newDiv},L=function(o,i){var r=i;$(i).find(".group-name").find("label").unbind("click"),$(i).find(".group-name").find("label").click(function(){var e=$(this).text(),t='<input value="'+e+'"></input>';$(this).replaceWith(t),$(i).find(".group-name").find("input").focus(),$(i).find(".group-name").find("input").keypress(function(t){"13"==(t.keyCode?t.keyCode:t.which)&&C(o,e,$(this),r)}),$(i).find(".group-name").find("input").focusout(function(){C(o,e,$(this),r)})})},C=function(t,e,o,i){var r=$(o).val();void 0!==v[r]&&r!=e?(alert("Ce group existe déjà"),r=e):(v[r]=v[e],delete v[e]);var n="<label><b>"+r+"</b></label>";u.jsonWriter.setGroupDisplayName($(i).attr("id"),r),$(o).replaceWith(n),L(t,i)};this.getAllActiveLayer=function(){var o=[];return $.each(g,function(t,e){u.getActiveLayer(e[0])&&o.push(e)}),o},this.loadLibraryLayers=function(t,o){$.each(t,function(t,e){u.addLayer(e,"",o)})};var A=function(t,e,o,i){return r='<div class="layer-conf" id="'+t+'" data-layer="'+e+'" data-orderLayer="'+i+'"><table width="100%" cellpadding="0" cellmargin="0"><tr><td class="col1"></td><td class="col2"><div class="row line1"></div><div class="row line2 animated"></div></td><td class="col3 bgColor2Darker borderBottomColor2Darker"></td></tr></table></div>',eyeVisibility='<i id="eyeVisibility" class="fa fa-eye eye-visibility color2darker" aria-hidden="true"  data-toggle="tooltip" data-layer="'+e+'" title="'+trans.hideLayer+'"></i>',loadingLayer='<i class="fa fa-spinner fa-spin fa-fw loadingLayer" id="'+t+'" style="display:none;"></i>',label=T(o),updownLayer='<i class="fa fa-chevron-up color1" aria-hidden="true" id="upLayer" data-toggle="tooltip" title="'+trans.upLayer+'"></i><i class="fa fa-chevron-down color1" aria-hidden="true" id="downLayer"  data-toggle="tooltip" title="'+trans.downLayer+'"></i>',deleteLAyer='<i class="fa fa-trash trash-layer color1" aria-hidden="true" id="trashLayer" data-toggle="tooltip" title="'+trans.deleteLayer+'"></i>',extractMenu=j(),separator='<span class="separator"></span>',zoomOn='<i class="fa fa-search-plus zoom-layer color1" aria-hidden="true" id="zoomOn" data-toggle="tooltip" title="'+trans.zoomLayer+'"></i>',opacitySlider='<input id="opacity"/><span class="opacity-percent" id="opacityPercent"></span>',legend='<i class="fa fa-list get-legend color1" aria-hidden="true" id="getLegend" data-img="'+d[t].Style[0].LegendURL[0].OnlineResource+'"></i>',newDiv=$(r),newDiv.find(".col1").append(eyeVisibility).append(loadingLayer),newDiv.find(".col2 .line1").append(label),newDiv.find(".col2 .line2").append(separator).append(opacitySlider).append(zoomOn).append(legend).append(updownLayer),newDiv.find(".col3").append(deleteLAyer),newDiv.find("#opacity").slider({id:"opacitySlider",class:"gh-slider",value:1,step:.05,min:0,max:1,tooltip:"hide"}),newDiv},E=function(t,e){return r='<div class="layer-conf" id="'+t+'" data-layer="'+e+'" data-orderLayer="-1"><table width="100%" cellpadding="0" cellmargin="0"><tr><td class="col1"></td><td class="col2"><div class="row line1"></div><div class="row line2 animated"></div></td><td class="col3 bgColor2Darker borderBottomColor2Darker"></td></tr></table></div>',eyeVisibility='<i id="eyeVisibility" class="fa fa-eye-slash eye-visibility color2darker" aria-hidden="true"  data-toggle="tooltip" title="'+trans.hidenLayer+'"></i>',label=T(e.replace(/\_/g," ")),unavailableLabel='<label class="col-md-10 animated color2 unavailableLabel">'+trans.unavailableLayer+"</label>",deleteLAyer='<i class="fa fa-trash trash-layer color1" aria-hidden="true" id="trashLayer" data-toggle="tooltip" title="'+trans.deleteLayer+'"></i>',newDiv=$(r),newDiv.find(".col1").append(eyeVisibility),newDiv.find(".col2 .line1").append(label),newDiv.find(".col2 .line2").append(unavailableLabel),newDiv.find(".col3").append(deleteLAyer),newDiv},T=function(t){return'<label class="col-md-10 animated labelLayerName"><b>'+t+"</b></label>"},j=function(){return'<div class="dropdown extract-menu pull-right">             <i class="fa fa-ellipsis-h dropdown-toggle" data-toggle="dropdown" aria-hidden="true" id="extractMenu"></i>             <ul class="dropdown-menu pull-left" role="menu" style="left:auto;">                 <li><a href="#">Renommer la couche</a></li>                 <li><a href="#">Autre action</a></li>             </ul>         </div>'};this.createBaseMap=function(){return r='<div class="form-group base-map layer-conf" id="0"><table width="100%"><tr><td class="col1 bgColor2Darker"></td><td class="col2 animated"></td></tr></table></div>',eyeVisibility='<i id="eyeVisibility" class="fa fa-eye eye-visibility color2darker" aria-hidden="true"  data-toggle="tooltip" title="'+trans.layerManagerHideMapBackground+'"></i>',baseMaps=$('<select class="form-control animated" id="baseMapSelect">'),defaultBaseMapName="",$.each(u.geoMap.getBaseMaps(),function(t,e){value=t.split(" ").join("_");var o=$("<option value="+value+">"+t+"</option>");e.getVisible()&&(o.attr("selected",!0),defaultBaseMapName=t),baseMaps=baseMaps.append(o)}),baseMaps=baseMaps.append("</select>"),opacitySlider='<input id="opacity"/><span class="opacity-percent" id="opacityPercent"></span>',newDiv=$(r),newDiv.find(".col1").append(eyeVisibility),newDiv.find(".col2").append(baseMaps).append(opacitySlider),newDiv.find("#opacity").slider({id:"opacitySlider",value:1,step:.05,min:0,max:1,tooltip:"hide"}),a.append(newDiv),u.setActiveLayer(0,l.defaultLayerActive),u.setOpacity(0,l.defaultOpacity),N(0,newDiv),R(0,newDiv),U(newDiv),u.jsonWriter.newBaseMap(defaultBaseMapName,1,!0),newDiv};var R=function(t,e){$(e).find("#eyeVisibility").click(function(){0!=u.getActiveGroupByIdLayer(t)&&(u.setActiveLayer(t,!$(this).hasClass("fa-eye")),void 0!==u.dimensionSlider&&$(this).hasClass("fa-eye")&&u.dimensionSlider.updateLayer(t))})},I=function(t,e){$(e).find("#zoomOn").click(function(){u.geoMap.zoomToLayer(t)})},N=function(t,e){$(e).find("#opacity").change(function(){u.setOpacity(t,$(this).val())})},k=function(o,i){$(i).find("#upLayer").click(function(){var t=parseFloat(i.attr("data-orderLayer")),e=i.prev(".layer-conf");e.hasClass("layer-conf")&&(newOrderLayer=parseFloat(e.attr("data-orderLayer")),u.setOrderLayer(e.attr("id"),t),u.setOrderLayer(o,newOrderLayer),u.sortDivLayer())})},D=function(o,i){$(i).find("#downLayer").click(function(){var t=parseFloat(i.attr("data-orderLayer")),e=i.next(".layer-conf");e.hasClass("layer-conf")&&(newOrderLayer=parseFloat(e.attr("data-orderLayer")),u.setOrderLayer(e.attr("id"),t),u.setOrderLayer(o,newOrderLayer),u.sortDivLayer())})},O=function(t,e){var o=t,i=e;$(e).find(".labelLayerName").unbind("click"),$(e).find(".labelLayerName").click(function(){var t='<input class="inputLayerLayerName" value="'+$(this).text()+'"></input>';$(this).replaceWith(t),$(e).find(".inputLayerLayerName").focus(),$(e).find(".inputLayerLayerName").keypress(function(t){"13"==(t.keyCode?t.keyCode:t.which)&&F($(this),o,i)}),$(e).find(".inputLayerLayerName").focusout(function(){F($(this),o,i)})})},F=function(t,e,o){var i=$(t).val(),r=T(i);u.jsonWriter.setlayerDisplayName(e,i),$(t).replaceWith(r),O(e,o)},G=function(t,e){$(e).find("#trashLayer").click(function(){V(t,e)})},U=function(t){$(t).change(function(){var t=$(this).find("option:selected").text(),e=a.find("#opacity").val(),o=u.getActiveLayer(0);u.setBaseMap(t),u.setActiveLayer(0,o),u.setOpacity(0,e)})},B=function(t,e){$(e).find("#getLegend").popover({html:!0,trigger:"hover",placement:"bottom",content:function(){return'<img src="'+$(this).data("img")+'" />'}})},V=function(t,e){u.geoMap.removeLayer(t),u.jsonWriter.removeLayer(t),$(e).toggle(function(){$(this).remove(),X()}),void 0!==u.dimensionSlider&&(u.dimensionSlider.sliderRemoveLayer(t,d[t]),u.dimensionSlider.updateElevSlider(t),u.dimensionSlider.updateTimeSlider(t))},X=function(){s.find(".group-div").each(function(){if($(this).find("#layers").find(".layer-conf").length<=0){$(this).remove();var o=$(this).attr("id");u.jsonWriter.removeGroup(o);var i=void 0;$.each(v,function(t,e){e==o&&(i=t)}),i&&delete v[i]}})},W=function(e,t){$(t).find("#zoomOn").click(function(){var t=_(e);u.geoMap.zoomToLayers(t)})},z=function(o,i){$(i).find("#upGroup").click(function(){var t=parseFloat(i.attr("data-ordergroup")),e=i.prev(".group-div");e.hasClass("group-div")&&(newOrderGroup=parseFloat(e.attr("data-ordergroup")),u.setOrderGroup(e.attr("id"),t),u.setOrderGroup(o,newOrderGroup),u.sortDivGroup())})},Z=function(o,i){$(i).find("#downGroup").click(function(){var t=parseInt(i.attr("data-ordergroup")),e=i.next(".group-div");e.hasClass("group-div")&&(newOrderGroup=parseFloat(e.attr("data-ordergroup")),u.setOrderGroup(e.attr("id"),t),u.setOrderGroup(o,newOrderGroup),u.sortDivGroup())})},Y=function(t,e){$(e).find("#gpMinus").click(function(){u.setMinimizeGroup(t,!$(this).hasClass("fa-plus"))})},H=function(t,e){$(e).find("#gpEyeVisibility").click(function(){u.setActiveGroup(t,!$(this).hasClass("fa-eye")),void 0!==u.dimensionSlider&&$(this).hasClass("fa-eye")&&$.each(_(t),function(t,e){u.dimensionSlider.updateLayer(e)})})},K=function(t,e){$(e).find("#trashGroup").click(function(){J(t).each(function(){V($(this).attr("id"),$(this))}),X()})},J=function(t){return s.find(".group-div#"+t).find("#layers").find(".layer-conf")},_=function(t){var e=[];return J(t).each(function(){e.push(parseInt($(this).attr("id")))}),e};this.setOpacity=function(t,e){1<e&&(e=1),e<0&&(e=0);var o=s;0==t&&(o=a),r=o.find(".layer-conf#"+t).find("#opacity").slider("setValue",e),o.find(".layer-conf#"+t).find("#opacityPercent").text(parseInt(100*e)+" %"),u.geoMap.changeOpacity(t,e),u.jsonWriter.setOpacity(t,e),0<t?u.jsonWriter.setOpacity(t,e):u.jsonWriter.setBaseMapOpacity(e)},this.setActiveLayer=function(t,e){var o=s;0==t&&(o=a),e?(o.find(".layer-conf#"+t).find("#eyeVisibility").removeClass("fa-eye-slash").addClass("fa-eye"),o.find(".layer-conf#"+t).find("#eyeVisibility").attr("title",trans.hideLayer),o.find(".layer-conf#"+t).find("#eyeVisibility").attr("data-original-title",trans.hideLayer),0==t&&(o.find(".layer-conf#"+t).find("#eyeVisibility").attr("title",trans.layerManagerHideMapBackground),o.find(".layer-conf#"+t).find("#eyeVisibility").attr("data-original-title",trans.layerManagerHideMapBackground)),o.find(".layer-conf#"+t).removeClass("inactiveLayer")):(o.find(".layer-conf#"+t).find("#eyeVisibility").removeClass("fa-eye").addClass("fa-eye-slash"),o.find(".layer-conf#"+t).find("#eyeVisibility").attr("title",trans.showLayer),o.find(".layer-conf#"+t).find("#eyeVisibility").attr("data-original-title",trans.showLayer),0==t&&(o.find(".layer-conf#"+t).find("#eyeVisibility").attr("title",trans.layerManagerShowMapBackground),o.find(".layer-conf#"+t).find("#eyeVisibility").attr("data-original-title",trans.layerManagerShowMapBackground)),o.find(".layer-conf#"+t).addClass("inactiveLayer")),u.geoMap.setLayerVisibility(t,e),0<t?u.jsonWriter.setActive(t,e):u.jsonWriter.setBaseMapActive(e)},this.setActiveGroup=function(t,o){o?s.find(".group-div#"+t).find(".group").find("#gpEyeVisibility").removeClass("fa-eye-slash").addClass("fa-eye"):s.find(".group-div#"+t).find(".group").find("#gpEyeVisibility").removeClass("fa-eye").addClass("fa-eye-slash"),$.each(_(t),function(t,e){o?u.getActiveLayer(e)&&(u.geoMap.setLayerVisibility(e,o),s.find(".layer-conf#"+e).removeClass("inactiveLayer")):(u.geoMap.setLayerVisibility(e,o),s.find(".layer-conf#"+e).addClass("inactiveLayer"))}),u.jsonWriter.setActiveGroup(t,o)},this.setOrderLayer=function(t,e){s.find(".layer-conf#"+t).attr("data-orderLayer",e),u.jsonWriter.setLayerOrderInGroup(t,e),u.geoMap.changeLayerIndex(t,e)},this.getOrderLayer=function(t){return s.find(".layer-conf#"+t).attr("data-orderLayer")},this.setOrderGroup=function(t,r){$.each(_(t),function(t,e){var o=parseFloat(s.find(".layer-conf#"+e).attr("data-orderLayer")),i=o+parseInt(parseInt(r)-parseInt(o));u.setOrderLayer(e,i)}),s.find(".group-div#"+t).attr("data-ordergroup",r),u.jsonWriter.setGroupOrder(t,r)},this.setBaseMap=function(t){u.geoMap.changeBaseMap(t);var e=t.split(" ").join("_");a.find("select").val(e),u.jsonWriter.setBaseMapName(t)},this.getActiveGroup=function(t){return s.find(".group-div#"+t).find(".group").find("#gpEyeVisibility").hasClass("fa-eye")},this.getActiveGroupByIdLayer=function(t){var e=s.find(".layer-conf#"+t).closest(".group-div").attr("id");return u.getActiveGroup(e)},this.getActiveLayer=function(t){var e=s;return 0==t&&(e=a),e.find(".layer-conf#"+t).find("#eyeVisibility").hasClass("fa-eye")},this.getEyeVisibility=function(t){var e=s;return 0==t&&(e=a),e.find(".layer-conf#"+t).find("#eyeVisibility").hasClass("fa fa-eye")},this.sortDivLayer=function(){s.find(".group-div").each(function(){var t=$(this).find("#layers");t.children("div").sort(function(t,e){return $(t).attr("data-orderLayer")-$(e).attr("data-orderLayer")}).each(function(){t.prepend(this)})})},this.sortDivGroup=function(){s.children(".group-div").sort(function(t,e){return $(t).attr("data-ordergroup")-$(e).attr("data-ordergroup")}).each(function(){s.prepend(this)})},this.setMinimizeGroup=function(t,e){e?(s.find(".group-div#"+t).find(".group").find("#gpMinus").removeClass("fa-minus").addClass("fa-plus"),s.find(".group-div#"+t).find("#layers").hide("slow")):(s.find(".group-div#"+t).find(".group").find("#gpMinus").removeClass("fa-plus").addClass("fa-minus"),s.find(".group-div#"+t).find("#layers").show("slow")),u.jsonWriter.setMinmizeGroupe(t,e)},this.checkMapCookies=function(){var t=u.jsonWriter.readMapCookie();""!=t&&u.loadJsonMap(t)},this.loadJsonMap=function(t){if(jsonObj=JSON.parse(t),u.removeAllLayer(),u.dimensionSlider.resetDimensionSlider(),null!=jsonObj&&""!=jsonObj){if(void 0!==jsonObj.mapName&&""!=jsonObj.mapName&&(l.mapName=jsonObj.mapName),""==jsonObj.layers&&void 0===jsonObj.layers||($.each(jsonObj.layers,function(t,o){var i=void 0;""==jsonObj.layerGroups&&void 0===jsonObj.layerGroups||$.each(jsonObj.layerGroups,function(t,e){e.groupName==o.layerGroupName&&(i=e.groupDisplayName)});var e=u.addLayer(o.layerName,o.layerDisplayName,i);if(null==e)return!0;u.setActiveLayer(e,o.active),u.setOpacity(e,o.opacity),u.setOrderLayer(e,o.layerOrderInGroup)}),u.sortDivLayer()),""==jsonObj.layerGroups&&void 0===jsonObj.layerGroups||$.each(jsonObj.layerGroups,function(t,e){var o=M(e.groupDisplayName).attr("id");u.setActiveGroup(o,e.groupActive),u.setMinimizeGroup(o,e.minimize)}),""!=jsonObj.baseMap||void 0!==jsonObj.baseMap){var e=jsonObj.baseMap.baseMapName,o=jsonObj.baseMap.opacity,i=jsonObj.baseMap.active;u.setBaseMap(e),u.setActiveLayer(0,i),u.setOpacity(0,o)}jsonObj.extent&&jsonObj.extentEPSG&&u.geoMap.setMapCenter(jsonObj.extent,jsonObj.extentEPSG),jsonObj.zoom&&u.geoMap.setZoom(jsonObj.zoom)}else console.log("Erreur de chargement de la jsonMap")},this.updateDivLayerListSize=function(t){var e=t;s.css("max-height",e)}},library=function(t,a,e){var p=this;this.modalDiv=t;var h=$("#"+t);this.workspaceLimit=e;a=a;var l={};this.createModalListLayer=function(){var t=o();h.append(t),h.find("#groupName").on("keypress",function(t){13===t.keyCode&&h.find("#add_layers").trigger("click")});var s=new ol.format.WMSCapabilities;$.each(p.workspaceLimit,function(t,e){var o=e.split(":"),n=o[0],i=n;1<o.length&&(o.shift(),i=o.join(":"));var r=a+"geoserver/"+n+"/wms?service=wms&version=1.3.0&request=GetCapabilities";$.ajax(r).done(function(t){if(getCapabilitiesLib=s.read(t),null!=getCapabilitiesLib.Capability.Layer.Layer){var e=u(n,i,getCapabilitiesLib.Capability.Layer.Layer.length);h.find(".modal-body").append(e),c(n),allLayer=getCapabilitiesLib.Capability.Layer.Layer,$.each(allLayer,function(t,e){var o=e.Name,i=e.Title,r=y(n,o,i);l[n+":"+o]=e,h.find(".modal-body").find("#"+n).find(".list-layers").append(r)}),f(h.find(".modal-body").find("#"+n)),p.sortDivWorkspace()}else console.log("Error with cap-worksapce : "+n)}).fail(function(){console.log("Faild to load workspace : \t"+n)})})},this.getLayerCapabilities=function(t){return l[t]},this.openLibrary=function(){h.find("#modalAddLayer").modal("show")},this.addLayers=function(o){h.find("#add_layers").click(function(){var t=[];h.find("#modalAddLayer #layer input[type='checkbox']").each(function(){$(this).is(":checked")&&(1,layer=$(this).closest("#layer").data("layer"),workspace=$(this).closest("#layer").data("workspace"),t.push(workspace+":"+layer))});var e=h.find("#modalAddLayer .modal-footer .group-name #groupName").val();o(t,e),h.find("#modalAddLayer").modal("hide"),h.find("#modalAddLayer input[type='checkbox']").each(function(){$(this).is(":checked")&&$(this).prop("checked",!1)}),h.find("#modalAddLayer .panel-collapse").each(function(){$(this).collapse("hide")})})};var o=function(){return'<div class="modal fade" id="modalAddLayer" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">         <div class="modal-dialog">             <div class="modal-content">                 <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>                     <h4 class="modal-title" id="myModalLabel">'+trans.layerLibrary+'</h4>                 </div>                 <div class="modal-body">                 </div>                 <div class="modal-footer">                     <div class="input-group group-name">                         <span class="input-group-addon">'+trans.newGroupName+'</span>                         <input id="groupName" type="text" class="form-control" name="msg" placeholder="'+trans.standardGroupName+'">                     </div>                     <button type="button" class="btn btn-default cancel" data-dismiss="modal">'+trans.cancel+'</button>                     <button type="button" class="btn btn-primary" id="add_layers">'+trans.loadLayers+"</button>                 </div>             </div>         </div>     </div>"},u=function(t,e,o){return'<div class="panel-group" id="'+t+'" data-display-name="'+e+'">       <div class="panel panel-primary">         <div class="panel-heading bgColor2Darker">           <h4 class="panel-title">             <input type="checkbox" id="selectWorkspaceLayers">             <span data-toggle="collapse" class="workspace-link" href="#collapse_'+p.modalDiv+t+'">                 <b>'+e+'</b>                 <span class="left-separator borderColor2"></span>                 <span class="label label-default bgColor2">'+o+'</span>                <i class="fa fa-map-o layer-icon" aria-hidden="true"></i>                 <i class="fa fa-plus open-workspace"></i>            </span>           </h4>         </div>         <div id="collapse_'+p.modalDiv+t+'" class="panel-collapse collapse">           <ul class="list-group list-layers">           </ul>           <div class="panel-footer"></div>         </div>       </div>     </div>'},c=function(t){h.find("#collapse_"+p.modalDiv+t).on("shown.bs.collapse",function(){h.find(".panel-group#"+t+" .workspace-link .open-workspace").removeClass("fa-plus").addClass("fa-minus")}),h.find("#collapse_"+p.modalDiv+t).on("hidden.bs.collapse",function(){h.find(".panel-group#"+t+" .workspace-link .open-workspace").removeClass("fa-minus").addClass("fa-plus")})},y=function(t,e,o){return""!=o&&null!=o||(o=e),'<li class="list-group-item" id="layer" data-layer="'+e+'" data-workspace="'+t+'">         <label for="'+e+'">              <input type="checkbox" id="'+e+'">             <div class="layer-description">                 <i class="fa fa-map-o layer-icon" aria-hidden="true"></i>                 <strong>'+o+"</strong><br/>"+e+"            </div>        </label>        </li>"},f=function(t){t.find("#selectWorkspaceLayers").click(function(){var t=$(this).prop("checked");$(this).parent().parent().parent().find(".list-layers").find("input").each(function(){$(this).prop("checked",t)})})};this.sortDivWorkspace=function(){h.find(".panel-group").sort(function(t,e){return $(t).attr("data-display-name")<$(e).attr("data-display-name")}).each(function(){h.find(".modal-body").prepend(this)})}},mapLayer=function(t){var e,r={lang:"en",map:{divMap:"map",geoMapConfig:{defaultBaseMap:"OSM",defaultXCenter:2,defaultYCenter:48,defaultZoomLevel:5},geoserverName:"<yourGeoServerURL>",workspaceLimit:["<workspaceName[:workspaceDisplayName]>","<workspaceName[:workspaceDisplayName]>"],keyBING:"<yourBingKey>"},layerManager:{height:"",divLayerManagerModal:"layerManagerModal",divLayerManager:"layerManager",divSaveMapModal:"LMSaveMapModal",config:{defaultOpacity:1,defaultLayerActive:!0}},dynSlider:{divMapLevelAxe:"slider_elev",divMapTimeAxe:"slider_time"}};"object"==typeof t&&(e=t,$.each(e,function(i,t){"object"==typeof r[i]?$.each(e[i],function(o,t){"object"==typeof r[i][o]?$.each(e[i][o],function(t,e){r[i][o][t]=e}):r[i][o]=t}):r[i]=t}));var o=this;(t=r).layerManager.config;o.map=new geoMap(t.map.divMap,t.map.geoserverName,t.map.keyBING),o.myJsonWriter=new jsonWriter,o.myDimensionSlider=new dimensionSlider(t.dynSlider.divMapLevelAxe,t.dynSlider.divMapTimeAxe),o.myLibrary=new library(t.layerManager.divLayerManagerModal,t.map.geoserverName,t.map.workspaceLimit),o.layerManager=new layerManager(t.layerManager.divLayerManager,o.map,o.myJsonWriter,o.myDimensionSlider,o.myLibrary,t.layerManager.config),o.saveLoadMap=new saveLoadMap(t.layerManager.divSaveMapModal,[],"#",""),o.map.initMap(t.map.geoMapConfig),o.layerManager.init(),o.myLibrary.createModalListLayer(),o.layerManager.createBaseMap(),o.saveLoadMap.init(),o.layerManager.addCrud(o.myLibrary.openLibrary,o.saveLoadMap.openSaveMapModal,o.saveLoadMap.openLoadMapModal),o.myLibrary.addLayers(o.layerManager.loadLibraryLayers),$('[data-toggle="tooltip"]').tooltip(),$(window).resize(function(){""===t.layerManager.height?o.layerManager.updateDivLayerListSize($(window).height()-$("#contenairConfig").height()-$(".layer-manager-title").outerHeight()-$(".map-title-first").outerHeight()):o.layerManager.updateDivLayerListSize(t.layerManager.height),o.map.updateDivMapSize}).resize()};!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.ol=e()}(this,function(){var t,e,o,n={},s=this;function i(t,e){var o,i=n,r=t.split(".");i=i||s;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(o=r.shift());)r.length||void 0===e?i=i[o]?i[o]:i[o]={}:i[o]=e}function D(t,e){return e<t?1:t<e?-1:0}function v(t,e){return 0<=t.indexOf(e)}function m(t,e,o){var i=t.length;if(t[0]<=e)return 0;if(!(e<=t[i-1]))if(0<o){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(o<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return i-1}function c(t,e){var o,i=Array.isArray(e)?e:[e],r=i.length;for(o=0;o<r;o++)t[t.length]=i[o]}function b(t,e){for(var o,i=t.length>>>0,r=0;r<i;r++)if(e(o=t[r],r,t))return o;return null}function G(t,e){var o=t.length;if(o!==e.length)return!1;for(var i=0;i<o;i++)if(t[i]!==e[i])return!1;return!0}function h(t){var e,o=as,i=t.length,r=Array(t.length);for(e=0;e<i;e++)r[e]={index:e,value:t[e]};for(r.sort(function(t,e){return o(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=r[e].value}function w(o,i){var r;return o.every(function(t,e){return!i(t,r=e,o)})?-1:r}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function a(){}function U(t){return t.ko||(t.ko=++p)}var p=0;function l(t){this.message="Assertion failed. See https://openlayers.org/en/v4.0.1/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function k(t,e){if(!t)throw new l(e)}function O(t,e,o,i){this.da=t,this.ba=e,this.fa=o,this.ja=i}function u(t,e,o){return t.da<=e&&e<=t.ba&&t.fa<=o&&o<=t.ja}function T(t,e){return t.da<=e.ba&&t.ba>=e.da&&t.fa<=e.ja&&t.ja>=e.fa}function x(t,e,o){return Math.min(Math.max(t,e),o)}r(l,Error);var y="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function M(t,e,o,i,r,n){var s=r-o,a=n-i;if(s||a){var p=((t-o)*s+(e-i)*a)/(s*s+a*a);1<p?(o=r,i=n):0<p&&(o+=s*p,i+=a*p)}return f(t,e,o,i)}function f(t,e,o,i){return(t=o-t)*t+(e=i-e)*e}function S(t){return t*Math.PI/180}function j(t,e){var o=t%e;return o*e<0?o+e:o}function d(t,e,o){return t+o*(e-t)}function g(t,e,o){return void 0===o&&(o=[0,0]),o[0]=t[0]+2*e,o[1]=t[1]+2*e,o}function P(t,e,o){return void 0===o&&(o=[0,0]),o[0]=t[0]*e+.5|0,o[1]=t[1]*e+.5|0,o}function F(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function L(t){for(var e=V(),o=0,i=t.length;o<i;++o)Y(e,t[o]);return e}function C(t,e,o){return o?(o[0]=t[0]-e,o[1]=t[1]-e,o[2]=t[2]+e,o[3]=t[3]+e,o):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function A(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function E(t,e,o){return(e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*e+(t=o<t[1]?t[1]-o:t[3]<o?o-t[3]:0)*t}function R(t,e){return I(t,e[0],e[1])}function B(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function I(t,e,o){return t[0]<=e&&e<=t[2]&&t[1]<=o&&o<=t[3]}function N(t,e){var o=t[1],i=t[2],r=t[3],n=e[0],s=e[1],a=0;return n<t[0]?a|=16:i<n&&(a|=4),s<o?a|=8:r<s&&(a|=2),a||(a=1),a}function V(){return[1/0,1/0,-1/0,-1/0]}function X(t,e,o,i,r){return r?(r[0]=t,r[1]=e,r[2]=o,r[3]=i,r):[t,e,o,i]}function W(t,e){var o=t[0],i=t[1];return X(o,i,o,i,e)}function z(t,e,o,i,r){return H(r=X(1/0,1/0,-1/0,-1/0,r),t,e,o,i)}function $(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Z(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Y(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function H(t,e,o,i,r){for(;o<i;o+=r){var n=t,s=e[o],a=e[o+1];n[0]=Math.min(n[0],s),n[1]=Math.min(n[1],a),n[2]=Math.max(n[2],s),n[3]=Math.max(n[3],a)}return t}function K(t,e,o){var i;return(i=e.call(o,_(t)))||(i=e.call(o,q(t)))||(i=e.call(o,rt(t)))?i:!!(i=e.call(o,it(t)))&&i}function J(t){var e=0;return at(t)||(e=nt(t)*et(t)),e}function _(t){return[t[0],t[1]]}function q(t){return[t[2],t[1]]}function Q(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function tt(t,e,o,i,r){var n=e*i[0]/2;i=e*i[1]/2,e=Math.cos(o);var s=Math.sin(o);o=n*e,n*=s,e*=i;var a=i*s,p=t[0],h=t[1];t=p-o+a,i=p-o-a,s=p+o-a,o=p+o+a;a=h-n-e,p=h-n+e;var l=h+n+e;n=h+n-e;return X(Math.min(t,i,s,o),Math.min(a,p,l,n),Math.max(t,i,s,o),Math.max(a,p,l,n),r)}function et(t){return t[3]-t[1]}function ot(t,e,o){return o=o||[1/0,1/0,-1/0,-1/0],st(t,e)&&(o[0]=t[0]>e[0]?t[0]:e[0],o[1]=t[1]>e[1]?t[1]:e[1],o[2]=t[2]<e[2]?t[2]:e[2],o[3]=t[3]<e[3]?t[3]:e[3]),o}function it(t){return[t[0],t[3]]}function rt(t){return[t[2],t[3]]}function nt(t){return t[2]-t[0]}function st(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function at(t){return t[2]<t[0]||t[3]<t[1]}function pt(t,e){var o=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=o,t[2]+=o,t[1]-=i,t[3]+=i}function ht(t,e,o){e(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2);var i=[t[0],t[2],t[4],t[6]],r=[t[1],t[3],t[5],t[7]];return X(e=Math.min.apply(null,i),t=Math.min.apply(null,r),i=Math.max.apply(null,i),r=Math.max.apply(null,r),o)}var lt="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1,r=arguments.length;i<r;++i){var n=arguments[i];if(null!=n)for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s])}return o};function ut(t){for(var e in t)delete t[e]}function ct(t){var e,o=[];for(e in t)o.push(t[e]);return o}function yt(t){for(var e in t)return!1;return!e}function ft(t){this.radius=t}ft.prototype.a=function(t){for(var e=0,o=t.length,i=t[o-1][0],r=t[o-1][1],n=0;n<o;n++){var s=t[n][0],a=t[n][1];e=e+S(s-i)*(2+Math.sin(S(r))+Math.sin(S(a))),i=s,r=a}return e*this.radius*this.radius/2},ft.prototype.b=function(t,e){var o=S(t[1]),i=S(e[1]),r=(i-o)/2,n=S(e[0]-t[0])/2;o=Math.sin(r)*Math.sin(r)+Math.sin(n)*Math.sin(n)*Math.cos(o)*Math.cos(i);return 2*this.radius*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))},ft.prototype.offset=function(t,e,o){var i=S(t[1]);e/=this.radius;var r=Math.asin(Math.sin(i)*Math.cos(e)+Math.cos(i)*Math.sin(e)*Math.cos(o));return[180*(S(t[0])+Math.atan2(Math.sin(o)*Math.sin(e)*Math.cos(i),Math.cos(e)-Math.sin(i)*Math.sin(r)))/Math.PI,180*r/Math.PI]};var dt=new ft(6370997),gt={};gt.degrees=2*Math.PI*dt.radius/360,gt.ft=.3048,gt.m=1,gt["us-ft"]=1200/3937;var vt=null;function mt(t){this.nb=t.code,this.i=t.units,this.c=void 0!==t.extent?t.extent:null,this.g=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.f=void 0!==t.global&&t.global,this.a=!(!this.f||!this.c),this.j=t.getPointResolution,this.l=null,this.o=t.metersPerUnit;var e=t.code,o=vt||window.proj4;"function"==typeof o&&(void 0!==(e=o.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.o=e.to_meter),void 0===t.units&&(this.i=e.units)))}(t=mt.prototype).nk=function(){return this.nb},t.D=function(){return this.c},t.Jb=function(){return this.i},t.sc=function(){return this.o||gt[this.i]},t.Zk=function(){return this.g},t.Kl=function(){return this.f},t.pp=function(t){this.f=t,this.a=!(!t||!this.c)},t.ln=function(t){this.c=t,this.a=!(!this.f||!t)},t.xp=function(t){this.g=t},t.op=function(t){this.j=t};var bt={},wt={};function xt(t,e,o){t=t.nb,e=e.nb,t in wt||(wt[t]={}),wt[t][e]=o}function Mt(t,e){var o;return t in wt&&e in wt[t]&&(o=wt[t][e]),o}function St(t,e,o){var i=t.j;return i?e=i(e,o):"degrees"!=t.Jb()&&(e=(i=It(t,Tt("EPSG:4326")))(e=[o[0]-e/2,o[1],o[0]+e/2,o[1],o[0],o[1]-e/2,o[0],o[1]+e/2],e,2),e=(dt.b(e.slice(0,2),e.slice(2,4))+dt.b(e.slice(4,6),e.slice(6,8)))/2,void 0!==(t=t.sc())&&(e/=t)),e}function Pt(t){var e;e=[],t.forEach(function(t){e.push(Lt(t))}),t.forEach(function(e){t.forEach(function(t){e!==t&&xt(e,t,kt)})})}function Lt(t){xt(bt[t.nb]=t,t,kt)}function Ct(t){return t?"string"==typeof t?Tt(t):t:Tt("EPSG:3857")}function At(t,e,o,i){xt(t=Tt(t),e=Tt(e),Et(o)),xt(e,t,Et(i))}function Et(s){return function(t,e,o){var i,r,n=t.length;for(o=void 0!==o?o:2,e=void 0!==e?e:Array(n),r=0;r<n;r+=o)for(i=s([t[r],t[r+1]]),e[r]=i[0],e[r+1]=i[1],i=o-1;2<=i;--i)e[r+i]=t[r+i];return e}}function Tt(t){var e=null;if(t instanceof mt)e=t;else if("string"==typeof t){e=bt[t]||null;var o=vt||window.proj4;e||"function"!=typeof o||void 0===o.defs(t)||Lt(e=new mt({code:t}))}return e}function jt(t,e){if(t===e)return!0;var o=t.Jb()===e.Jb();return t.nb===e.nb?o:It(t,e)===kt&&o}function Rt(t,e){return It(Tt(t),Tt(e))}function It(t,e){var o=t.nb,i=e.nb,r=Mt(o,i);if(!r){var n=vt||window.proj4;if("function"==typeof n){var s=n.defs(o),a=n.defs(i);void 0!==s&&void 0!==a&&(s===a?Pt([e,t]):At(e,t,(r=n(i,o)).forward,r.inverse),r=Mt(o,i))}}return r||(r=Nt),r}function Nt(t,e){if(void 0!==e&&t!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];t=e}return t}function kt(t,e){var o;if(void 0!==e){o=0;for(var i=t.length;o<i;++o)e[o]=t[o];o=e}else o=t.slice();return o}function Dt(t,e,o){return Rt(e,o)(t,void 0,t.length)}function Ot(t,e,o){return ht(t,e=Rt(e,o))}function Ft(t,e,o,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=o,i):[t,e,o]}function Gt(t){var i,r;this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,k((i=this.b,r=function(t,e){return e-t}||D,i.every(function(t,e){if(!e)return!0;var o=r(i[e-1],t);return!(0<o||0===o)})),17),this.maxZoom=this.b.length-1,this.f=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,k(this.c.length==this.b.length,20));var e=t.extent;void 0===e||this.f||this.c||(this.f=it(e)),k(!this.f&&this.c||this.f&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,k(this.i.length==this.b.length,19)),this.g=void 0!==t.tileSize?t.tileSize:this.i?null:256,k(!this.g&&this.i||this.g&&!this.i,22),this.v=void 0!==e?e:null,this.a=null,this.l=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new O(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&function(t,e){for(var o=t.b.length,i=Array(o),r=t.minZoom;r<o;++r)i[r]=Wt(t,e,r);t.a=i}(this,e)}var Ut=[0,0,0];function Bt(t,e,o,i,r){for(r=t.Ta(e,r),e=e[0]-1;e>=t.minZoom;){if(o.call(null,e,Wt(t,r,e,i)))return!0;--e}return!1}function Vt(t,e,o,i){return e[0]<t.maxZoom?Wt(t,i=t.Ta(e,i),e[0]+1,o):null}function Xt(t,e,o,i){$t(t,e[0],e[1],o,!1,Ut);var r=Ut[1],n=Ut[2];return $t(t,e[2],e[3],o,!0,Ut),t=Ut[1],e=Ut[2],void 0!==i?(i.da=r,i.ba=t,i.fa=n,i.ja=e):i=new O(r,t,n,e),i}function Wt(t,e,o,i){return Xt(t,e,t.La(o),i)}function zt(t,e){var o=t.Qc(e[0]),i=t.La(e[0]),r=F(t.fb(e[0]),t.l);return[o[0]+(e[1]+.5)*r[0]*i,o[1]+(e[2]+.5)*r[1]*i]}function $t(t,e,o,i,r,n){var s=t.Mc(i),a=i/t.La(s),p=t.Qc(s);return t=F(t.fb(s),t.l),e=a*Math.floor((e-p[0])/i+(r?.5:0))/t[0],o=a*Math.floor((o-p[1])/i+(r?0:.5))/t[1],r?(e=Math.ceil(e)-1,o=Math.ceil(o)-1):(e=Math.floor(e),o=Math.floor(o)),Ft(s,e,o,n)}function Zt(t){if(!(o=t.l)){var e=Ht(o=Kt(t),void 0,void 0),o=new Gt({extent:o,origin:it(o),resolutions:e,tileSize:void 0});t.l=o}return o}function Yt(t){var e={};return lt(e,t||{}),void 0===e.extent&&(e.extent=Tt("EPSG:3857").D()),e.resolutions=Ht(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Gt(e)}function Ht(t,e,o){e=void 0!==e?e:42;var i=et(t);for(t=nt(t),o=F(void 0!==o?o:256),o=Math.max(t/o[0],i/o[1]),e+=1,i=Array(e),t=0;t<e;++t)i[t]=o/Math.pow(2,t);return i}function Kt(t){var e=(t=Tt(t)).D();return e||(e=X(-(t=180*gt.degrees/t.sc()),-t,t,t)),e}function Jt(t){this.b=t.html,this.a=t.tileRanges?t.tileRanges:null}function _t(t){return t}function qt(t,e,o,i){for(var r,n=0,s=t.length;n<s;++n)if((r=t[n]).listener===e&&r.Vg===o)return i&&(r.deleteIndex=n),r}function Qt(t,e){var o=t.eb;return o?o[e]:void 0}function te(t){var e=t.eb;return e||(e=t.eb={}),e}function ee(t,e){var o=Qt(t,e);if(o){for(var i=0,r=o.length;i<r;++i)t.removeEventListener(e,o[i].Wg),ut(o[i]);o.length=0,(o=t.eb)&&(delete o[e],Object.keys(o).length||delete t.eb)}}function oe(t,e,o,i,r){var n,s=te(t),a=s[e];return a||(a=s[e]=[]),(s=qt(a,o,i,!1))?r||(s.Xg=!1):(s={Vg:i,Xg:!!r,listener:o,target:t,type:e},t.addEventListener(e,(n=s).Wg=function(t){var e=n.listener,o=n.Vg||n.target;return n.Xg&&ne(n),e.call(o,t)}),a.push(s)),s}function ie(t,e,o,i){return oe(t,e,o,i,!0)}function re(t,e,o,i){(t=Qt(t,e))&&(o=qt(t,o,i,!0))&&ne(o)}function ne(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Wg);var e=Qt(t.target,t.type);if(e){var o="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==o&&e.splice(o,1),e.length||ee(t.target,t.type)}ut(t)}}function se(t){var e,o=te(t);for(e in o)ee(t,e)}function ae(){}function pe(t){t.Zb||(t.Zb=!0,t.ra())}function he(t){this.type=t,this.target=null}function le(t){t.stopPropagation()}function ue(){this.$a={},this.ta={},this.qa={}}function ce(t,e){return e?e in t.qa:0<Object.keys(t.qa).length}function ye(){ue.call(this),this.f=0}function fe(t){ye.call(this),U(this),this.I={},void 0!==t&&this.H(t)}(t=Gt.prototype).eh=function(t,e,o){for(var i=(t=Wt(this,t,e)).da,r=t.ba;i<=r;++i)for(var n=t.fa,s=t.ja;n<=s;++n)o([e,i,n])},t.D=function(){return this.v},t.oh=function(){return this.maxZoom},t.ph=function(){return this.minZoom},t.Qc=function(t){return this.f?this.f:this.c[t]},t.La=function(t){return this.b[t]},t.oi=function(){return this.b},t.Ta=function(t,e){var o=this.Qc(t[0]),i=this.La(t[0]),r=F(this.fb(t[0]),this.l),n=o[0]+t[1]*r[0]*i;return X(n,o=o[1]+t[2]*r[1]*i,n+r[0]*i,o+r[1]*i,e)},t.we=function(t,e,o){return $t(this,t[0],t[1],e,!1,o)},t.Pf=function(t,e,o){return $t(this,t[0],t[1],this.La(e),!1,o)},t.fb=function(t){return this.g?this.g:this.i[t]},t.Mc=function(t,e){return x(m(this.b,t,e||0),this.minZoom,this.maxZoom)},ae.prototype.Zb=!(Jt.prototype.f=function(){return this.b}),ae.prototype.ra=a,he.prototype.preventDefault=he.prototype.stopPropagation=function(){this.Fo=!0},r(ue,ae),ue.prototype.addEventListener=function(t,e){var o=this.qa[t];o||(o=this.qa[t]=[]),-1===o.indexOf(e)&&o.push(e)},ue.prototype.b=function(t){var e="string"==typeof t?new he(t):t;t=e.type;var o,i=(e.target=this).qa[t];if(i){t in this.ta||(this.ta[t]=0,this.$a[t]=0),++this.ta[t];for(var r=0,n=i.length;r<n;++r)if(!1===i[r].call(this,e)||e.Fo){o=!1;break}if(--this.ta[t],!this.ta[t]){for(e=this.$a[t],delete this.$a[t];e--;)this.removeEventListener(t,a);delete this.ta[t]}return o}},ue.prototype.ra=function(){se(this)},ue.prototype.removeEventListener=function(t,e){var o=this.qa[t];if(o){var i=o.indexOf(e);t in this.$a?(o[i]=a,++this.$a[t]):(o.splice(i,1),o.length||delete this.qa[t])}},r(ye,ue),(t=ye.prototype).s=function(){++this.f,this.b("change")},t.L=function(){return this.f},t.J=function(t,e,o){if(Array.isArray(t)){for(var i=t.length,r=Array(i),n=0;n<i;++n)r[n]=oe(this,t[n],e,o);return r}return oe(this,t,e,o)},t.once=function(t,e,o){if(Array.isArray(t)){for(var i=t.length,r=Array(i),n=0;n<i;++n)r[n]=ie(this,t[n],e,o);return r}return ie(this,t,e,o)},t.K=function(t,e,o){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)re(this,t[i],e,o);else re(this,t,e,o)},r(fe,ye);var de={};function ge(t){return de.hasOwnProperty(t)?de[t]:de[t]="change:"+t}function ve(t,e,o){var i;i=ge(e),t.b(new me(i,e,o)),t.b(new me("propertychange",e,o))}function me(t,e,o){he.call(this,t),this.key=e,this.oldValue=o}function be(t){fe.call(this),this.a=t||[],we(this)}function we(t){t.set(xe,t.a.length)}(t=fe.prototype).get=function(t){var e;return this.I.hasOwnProperty(t)&&(e=this.I[t]),e},t.O=function(){return Object.keys(this.I)},t.N=function(){return lt({},this.I)},t.set=function(t,e,o){o?this.I[t]=e:(o=this.I[t])!==(this.I[t]=e)&&ve(this,t,o)},t.H=function(t,e){for(var o in t)this.set(o,t[o],e)},t.P=function(t,e){if(t in this.I){var o=this.I[t];delete this.I[t],e||ve(this,t,o)}},r(me,he),r(be,fe),(t=be.prototype).clear=function(){for(;0<this.ec();)this.pop()},t.Tf=function(t){var e,o;for(e=0,o=t.length;e<o;++e)this.push(t[e]);return this},t.forEach=function(t,e){this.a.forEach(t,e)},t.am=function(){return this.a},t.item=function(t){return this.a[t]},t.ec=function(){return this.get(xe)},t.Be=function(t,e){this.a.splice(t,0,e),we(this),this.b(new Me("add",e))},t.pop=function(){return this.tg(this.ec()-1)},t.push=function(t){var e=this.ec();return this.Be(e,t),this.ec()},t.remove=function(t){var e,o,i=this.a;for(e=0,o=i.length;e<o;++e)if(i[e]===t)return this.tg(e)},t.tg=function(t){var e=this.a[t];return this.a.splice(t,1),we(this),this.b(new Me("remove",e)),e},t.mp=function(t,e){var o=this.ec();if(t<o)o=this.a[t],this.a[t]=e,this.b(new Me("remove",o)),this.b(new Me("add",e));else{for(;o<t;++o)this.Be(o,void 0);this.Be(t,e)}};var xe="length";function Me(t,e){he.call(this,t),this.element=e}r(Me,he);var Se=/^#(?:[0-9a-f]{3}){1,2}$/i,Pe=/^([a-z]*)$/i;function Le(t){return Array.isArray(t)?t:Te(t)}function Ce(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var o=t[1];o!=(0|o)&&(o=o+.5|0);var i=t[2];i!=(0|i)&&(i=i+.5|0),t="rgba("+e+","+o+","+i+","+(void 0===t[3]?1:t[3])+")"}return t}var Ae,Ee,Te=(Ae={},Ee=0,function(t){var e;if(Ae.hasOwnProperty(t))e=Ae[t];else{if(1024<=Ee)for(var o in e=0,Ae)3&e++||(delete Ae[o],--Ee);var i;if(e=t,Pe.exec(e)&&((o=document.createElement("div")).style.color=e,document.body.appendChild(o),e=getComputedStyle(o).color,document.body.removeChild(o)),Se.exec(e)){k(3==(i=e.length-1)||6==i,54);var r=3==i?1:2;i=parseInt(e.substr(1+0*r,r),16),o=parseInt(e.substr(1+1*r,r),16),e=parseInt(e.substr(1+2*r,r),16),1==r&&(i=(i<<4)+i,o=(o<<4)+o,e=(e<<4)+e),i=[i,o,e,1]}else e.indexOf("rgba(")?e.indexOf("rgb(")?k(!1,14):((e=e.slice(4,-1).split(",").map(Number)).push(1),i=je(e)):i=je(e=e.slice(5,-1).split(",").map(Number));e=i,Ae[t]=e,++Ee}return e});function je(t){var e=[];return e[0]=x(t[0]+.5|0,0,255),e[1]=x(t[1]+.5|0,0,255),e[2]=x(t[2]+.5|0,0,255),e[3]=x(t[3],0,1),e}function Re(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Ce(t)}function Ie(t,e,o){this.center=t,this.resolution=e,this.rotation=o}function Ne(t,e){var o=document.createElement("CANVAS");return t&&(o.width=t),e&&(o.height=e),o.getContext("2d")}function ke(t,e){var o=e.parentNode;o&&o.replaceChild(t,e)}function De(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Oe(t){fe.call(this),this.element=t.element?t.element:null,this.a=this.S=null,this.v=[],this.render=t.render?t.render:a,t.target&&this.i(t.target)}function Fe(t){t=t||{},this.R=document.createElement("UL"),this.u=document.createElement("LI"),this.R.appendChild(this.u),this.u.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.j=void 0===t.collapsible||t.collapsible,this.j||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",o=void 0!==t.tipLabel?t.tipLabel:"Attributions";"string"==typeof(i=void 0!==t.collapseLabel?t.collapseLabel:"»")?(this.A=document.createElement("span"),this.A.textContent=i):this.A=i,"string"==typeof(i=void 0!==t.label?t.label:"i")?(this.C=document.createElement("span"),this.C.textContent=i):this.C=i;var i,r=this.j&&!this.c?this.A:this.C;(i=document.createElement("button")).setAttribute("type","button"),i.title=o,i.appendChild(r),oe(i,"click",this.ym,this),(o=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.c&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),o.appendChild(this.R),o.appendChild(i),Oe.call(this,{element:o,render:t.render?t.render:Ge,target:t.target}),this.G=!0,this.o={},this.l={},this.Y={}}function Ge(t){if(t=t.frameState){var e,o,i,r,n,s,a,p,h,l,u,c,y=t.layerStatesArray,f=lt({},t.attributions),d={},g={},v=t.viewState.projection;for(o=0,e=y.length;o<e;o++)if((s=y[o].layer.la())&&(l=U(s).toString(),h=s.l))for(i=0,r=h.length;i<r;i++)if(!((p=U(a=h[i]).toString())in f)){if(n=t.usedTiles[l])t:{u=void 0;var m,b,w=a,x=P=s.Ib(v),M=v;if(w.a){for(u in n)if(u in w.a){var S,P=n[u];for(b=0,m=w.a[u].length;b<m;++b){if(T(S=w.a[u][b],P)){u=!0;break t}var L=Wt(x,Kt(M),parseInt(u,10)),C=L.ba-L.da+1;if((P.da<L.da||P.ba>L.ba)&&(T(S,new O(j(P.da,C),j(P.ba,C),P.fa,P.ja))||P.ba-P.da+1>C&&T(S,L))){u=!0;break t}}}u=!1}else u=!0}else u=!1;u?(p in d&&delete d[p],(u=a.b)in g||(g[u]=!0,f[p]=a)):d[p]=a}for(var A in o=(e=[f,d])[0],e=e[1],this.o)A in o?(this.l[A]||(this.o[A].style.display="",this.l[A]=!0),delete o[A]):A in e?(this.l[A]&&(this.o[A].style.display="none",delete this.l[A]),delete e[A]):(De(this.o[A]),delete this.o[A],delete this.l[A]);for(A in o)(i=document.createElement("LI")).innerHTML=o[A].b,this.R.appendChild(i),this.o[A]=i,this.l[A]=!0;for(A in e)(i=document.createElement("LI")).innerHTML=e[A].b,i.style.display="none",this.R.appendChild(i),this.o[A]=i;for(c in A=!yt(this.l)||!yt(t.logos),this.G!=A&&(this.element.style.display=A?"":"none",this.G=A),A&&yt(this.l)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),t=t.logos,A=this.Y)c in t||(De(A[c]),delete A[c]);for(var E in t)(e=t[E])instanceof HTMLElement&&(this.u.appendChild(e),A[E]=e),E in A||((c=new Image).src=E,""===e?o=c:((o=document.createElement("a")).href=e,o.appendChild(c)),this.u.appendChild(o),A[E]=o);this.u.style.display=yt(t)?"none":""}else this.G&&(this.element.style.display="none",this.G=!1)}function Ue(t){t.element.classList.toggle("ol-collapsed"),t.c?ke(t.A,t.C):ke(t.C,t.A),t.c=!t.c}function Be(t){return Math.pow(t,3)}function Ve(t){return 1-Be(1-t)}function Xe(t){return 3*t*t-2*t*t*t}function We(t){return t}function ze(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",o=void 0!==t.label?t.label:"⇧";this.c=null,"string"==typeof o?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=o):(this.c=o,this.c.classList.add("ol-compass"));var i=t.tipLabel?t.tipLabel:"Reset rotation";(o=document.createElement("button")).className=e+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.c),oe(o,"click",ze.prototype.A,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(o),e=t.render?t.render:$e,this.j=t.resetNorth?t.resetNorth:void 0,Oe.call(this,{element:i,render:e,target:t.target}),this.o=void 0!==t.duration?t.duration:250,this.l=void 0===t.autoHide||t.autoHide,this.u=void 0,this.l&&this.element.classList.add("ol-hidden")}function $e(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.u){var e="rotate("+t+"rad)";if(this.l){var o=this.element.classList.contains("ol-hidden");o||t?o&&t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.u=t}}function Ze(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",o=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInLabel?t.zoomInLabel:"+",r=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",n=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=n,a.appendChild("string"==typeof i?document.createTextNode(i):i),oe(a,"click",Ze.prototype.l.bind(this,o)),(i=document.createElement("button")).className=e+"-out",i.setAttribute("type","button"),i.title=s,i.appendChild("string"==typeof r?document.createTextNode(r):r),oe(i,"click",Ze.prototype.l.bind(this,-o)),(o=document.createElement("div")).className=e+" ol-unselectable ol-control",o.appendChild(a),o.appendChild(i),Oe.call(this,{element:o,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Ye(t){t=t||{};var e=new be;return(void 0===t.zoom||t.zoom)&&e.push(new Ze(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new ze(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new Fe(t.attributionOptions)),e}function He(t){t=t||{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.j="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.o="string"==typeof e?document.createTextNode(e):e;var o=t.tipLabel?t.tipLabel:"Toggle full-screen";(e=document.createElement("button")).className=this.c+"-"+Je(),e.setAttribute("type","button"),e.title=o,e.appendChild(this.j),oe(e,"click",this.C,this),(o=document.createElement("div")).className=this.c+" ol-unselectable ol-control "+(Ke()?"":"ol-unsupported"),o.appendChild(e),Oe.call(this,{element:o,target:t.target}),this.A=void 0!==t.keys&&t.keys,this.l=t.source}function Ke(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function Je(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function _e(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}r(Oe,fe),Oe.prototype.ra=function(){De(this.element),fe.prototype.ra.call(this)},Oe.prototype.g=function(){return this.a},Oe.prototype.setMap=function(t){this.a&&De(this.element);for(var e=0,o=this.v.length;e<o;++e)ne(this.v[e]);this.v.length=0,(this.a=t)&&((this.S?this.S:t.u).appendChild(this.element),this.render!==a&&this.v.push(oe(t,"postrender",this.render,this)),t.render())},Oe.prototype.i=function(t){this.S="string"==typeof t?document.getElementById(t):t},r(Fe,Oe),(t=Fe.prototype).ym=function(t){t.preventDefault(),Ue(this)},t.xm=function(){return this.j},t.Am=function(t){this.j!==t&&(this.j=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&Ue(this))},t.zm=function(t){this.j&&this.c!==t&&Ue(this)},t.wm=function(){return this.c},r(ze,Oe),ze.prototype.A=function(t){if(t.preventDefault(),this.j)this.j();else if(t=this.a.$()){var e=t.Va();void 0!==e&&(0<this.o?(e%=2*Math.PI,t.animate({rotation:0,duration:this.o,easing:Ve})):t.He(0))}},r(Ze,Oe),Ze.prototype.l=function(t,e){e.preventDefault();var o=this.a.$();if(o){var i=o.Ua();i&&(i=o.constrainResolution(i,t),0<this.c?(0<dr(o)[0]&&ur(o),o.animate({resolution:i,duration:this.c,easing:Ve})):o.Xc(i))}},r(He,Oe),He.prototype.C=function(t){t.preventDefault(),Ke()&&(t=this.a)&&(Je()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.l?"string"==typeof this.l?document.getElementById(this.l):this.l:t.Kc(),this.A?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):_e(t):_e(t)))},He.prototype.u=function(){var t=this.element.firstElementChild,e=this.a;Je()?(t.className=this.c+"-true",ke(this.o,this.j)):(t.className=this.c+"-false",ke(this.j,this.o)),e&&e.xd()},He.prototype.setMap=function(t){Oe.prototype.setMap.call(this,t),t&&this.v.push(oe(document,Qe(),this.u,this))};var qe,Qe=function(){if(!qe){var t=document.body;t.webkitRequestFullscreen?qe="webkitfullscreenchange":t.mozRequestFullScreen?qe="mozfullscreenchange":t.msRequestFullscreen?qe="MSFullscreenChange":t.requestFullscreen&&(qe="fullscreenchange")}return qe};function to(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Oe.call(this,{element:e,render:t.render?t.render:eo,target:t.target}),oe(this,ge(io),this.Bm,this),t.coordinateFormat&&this.Fi(t.coordinateFormat),t.projection&&this.Mh(Tt(t.projection)),this.u=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.o=e.innerHTML,this.j=this.l=this.c=null}function eo(t){(t=t.frameState)?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.l=null):this.c=null,oo(this,this.j)}function oo(t,e){var o=t.u;if(e&&t.c){if(!t.l){var i=t.Lh();t.l=i?It(t.c,i):Nt}(i=t.a.Za(e))&&(t.l(i,i),o=(o=t.ih())?o(i):i.toString())}t.o&&o==t.o||(t.element.innerHTML=o,t.o=o)}r(to,Oe),(t=to.prototype).Bm=function(){this.l=null},t.ih=function(){return this.get(ro)},t.Lh=function(){return this.get(io)},t.rl=function(t){this.j=this.a.te(t),oo(this,this.j)},t.sl=function(){oo(this,null),this.j=null},t.setMap=function(t){Oe.prototype.setMap.call(this,t),t&&(t=t.c,this.v.push(oe(t,"mousemove",this.rl,this),oe(t,"mouseout",this.sl,this)))},t.Fi=function(t){this.set(ro,t)},t.Mh=function(t){this.set(io,t)};var io="projection",ro="coordinateFormat";function no(t,e,o){he.call(this,t),this.map=e,this.frameState=void 0!==o?o:null}function so(t,e,o,i,r){no.call(this,t,e,r),this.originalEvent=o,this.pixel=e.te(o),this.coordinate=e.Za(this.pixel),this.dragging=void 0!==i&&i}r(no,he),r(so,no),so.prototype.preventDefault=function(){no.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},so.prototype.stopPropagation=function(){no.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var ao={Xp:"singleclick",Mp:"click",Np:"dblclick",Qp:"pointerdrag",Tp:"pointermove",Pp:"pointerdown",Wp:"pointerup",Vp:"pointerover",Up:"pointerout",Rp:"pointerenter",Sp:"pointerleave",Op:"pointercancel"};function po(t,e,o,i,r){so.call(this,t,e,o.b,i,r),this.b=o}r(po,so);var ho=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function lo(t,e){var o,i,r=ho.length;for(i=0;i<r;++i)try{if(o=t.getContext(ho[i],e))return o}catch(t){}return null}var uo,co,yo="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",fo=-1!==yo.indexOf("firefox"),go=-1!==yo.indexOf("safari")&&-1==yo.indexOf("chrom"),vo=-1!==yo.indexOf("webkit")&&-1==yo.indexOf("edge"),mo=-1!==yo.indexOf("macintosh"),bo=window.devicePixelRatio||1,wo=!1,xo=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(wo=!0),!0)}catch(t){return!1}}(),Mo="DeviceOrientationEvent"in window,So="geolocation"in navigator,Po="ontouchstart"in window,Lo="PointerEvent"in window,Co=!!navigator.msPointerEnabled,Ao=!1,Eo=[];if("WebGLRenderingContext"in window)try{var To=lo(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});To&&(Ao=!0,co=To.getParameter(To.MAX_TEXTURE_SIZE),Eo=To.getSupportedExtensions())}catch(t){}function jo(t,e){this.b=t,this.i=e}function Ro(t){jo.call(this,t,{mousedown:this.Ml,mousemove:this.Nl,mouseup:this.Ql,mouseover:this.Pl,mouseout:this.Ol}),this.a=t.f,this.f=[]}function Io(t,e){for(var o,i=t.f,r=e.clientX,n=e.clientY,s=0,a=i.length;s<a&&(o=i[s]);s++){var p=Math.abs(n-o[1]);if(Math.abs(r-o[0])<=25&&p<=25)return!0}return!1}function No(t){var e=zo(t,t),o=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),o()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function ko(t){jo.call(this,t,{MSPointerDown:this.Vl,MSPointerMove:this.Wl,MSPointerUp:this.Zl,MSPointerOut:this.Xl,MSPointerOver:this.Yl,MSPointerCancel:this.Ul,MSGotPointerCapture:this.Sl,MSLostPointerCapture:this.Tl}),this.a=t.f,this.f=["","unavailable","touch","pen","mouse"]}function Do(t,e){var o=e;return"number"==typeof e.pointerType&&((o=zo(e,e)).pointerType=t.f[e.pointerType]),o}function Oo(t){jo.call(this,t,{pointerdown:this.xo,pointermove:this.yo,pointerup:this.Bo,pointerout:this.zo,pointerover:this.Ao,pointercancel:this.wo,gotpointercapture:this.al,lostpointercapture:this.Ll})}function Fo(t,e,o){var i,r;he.call(this,t),this.b=e,t=o||{},this.buttons=function(t){if(t.buttons||Go)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}(t),this.pressure=(i=t,r=this.buttons,i.pressure?i.pressure:r?.5:0),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}uo=Ao,o=Eo,e=co,r(Ro,jo),(t=Ro.prototype).Ml=function(t){if(!Io(this,t)){1..toString()in this.a&&this.cancel(t);var e=No(t);this.a[1..toString()]=t,Ho(this.b,"pointerdown",e,t)}},t.Nl=function(t){if(!Io(this,t)){var e=No(t);Ho(this.b,"pointermove",e,t)}},t.Ql=function(t){if(!Io(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=No(t),Ho(this.b,"pointerup",e,t),delete this.a[1..toString()])}},t.Pl=function(t){if(!Io(this,t)){var e=No(t);Yo(this.b,e,t)}},t.Ol=function(t){if(!Io(this,t)){var e=No(t);Zo(this.b,e,t)}},t.cancel=function(t){var e=No(t);this.b.cancel(e,t),delete this.a[1..toString()]},r(ko,jo),(t=ko.prototype).Vl=function(t){this.a[t.pointerId.toString()]=t;var e=Do(this,t);Ho(this.b,"pointerdown",e,t)},t.Wl=function(t){var e=Do(this,t);Ho(this.b,"pointermove",e,t)},t.Zl=function(t){var e=Do(this,t);Ho(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},t.Xl=function(t){var e=Do(this,t);Zo(this.b,e,t)},t.Yl=function(t){var e=Do(this,t);Yo(this.b,e,t)},t.Ul=function(t){var e=Do(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},t.Tl=function(t){this.b.b(new Fo("lostpointercapture",t,t))},t.Sl=function(t){this.b.b(new Fo("gotpointercapture",t,t))},r(Oo,jo),(t=Oo.prototype).xo=function(t){Ko(this.b,t)},t.yo=function(t){Ko(this.b,t)},t.Bo=function(t){Ko(this.b,t)},t.zo=function(t){Ko(this.b,t)},t.Ao=function(t){Ko(this.b,t)},t.wo=function(t){Ko(this.b,t)},t.Ll=function(t){Ko(this.b,t)},t.al=function(t){Ko(this.b,t)},r(Fo,he);var Go=!1;try{Go=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}function Uo(t,e){jo.call(this,t,{touchstart:this.Dp,touchmove:this.Cp,touchend:this.Bp,touchcancel:this.Ap}),this.a=t.f,this.l=e,this.f=void 0,this.g=0,this.c=void 0}function Bo(t,e,o){function i(){e.preventDefault()}var r,n,s,a,p,h=Array.prototype.slice.call(e.changedTouches),l=h.length;for(r=0;r<l;++r)s=t,a=e,p=h[r],(a=zo(a,p)).pointerId=p.identifier+2,a.bubbles=!0,a.cancelable=!0,a.detail=s.g,a.button=0,a.buttons=1,a.width=p.webkitRadiusX||p.radiusX||0,a.height=p.webkitRadiusY||p.radiusY||0,a.pressure=p.webkitForce||p.force||.5,a.isPrimary=s.f===p.identifier,a.pointerType="touch",a.clientX=p.clientX,a.clientY=p.clientY,a.screenX=p.screenX,a.screenY=p.screenY,(n=a).preventDefault=i,o.call(t,e,n)}function Vo(t,e){var o=t.l.f,i=e.changedTouches[0];if(t.f===i.identifier){var r=[i.clientX,i.clientY];o.push(r),setTimeout(function(){var t=o.indexOf(r);-1<t&&o.splice(t,1)},2500)}}function Xo(t){ue.call(this),this.g=t,this.f={},this.i={},this.a=[],Lo?Wo(this,new Oo(this)):Co?Wo(this,new ko(this)):(Wo(this,t=new Ro(this)),Po&&Wo(this,new Uo(this,t))),t=this.a.length;for(var e,o=0;o<t;o++)e=this.a[o],i=this,Object.keys(e.i).forEach(function(t){oe(this.g,t,this.c,this)},i);var i}function Wo(t,o){var e=Object.keys(o.i);e&&(e.forEach(function(t){var e=o.i[t];e&&(this.i[t]=e.bind(o))},t),t.a.push(o))}function zo(t,e){for(var o,i={},r=0,n=Jo.length;r<n;r++)i[o=Jo[r][0]]=t[o]||e[o]||Jo[r][1];return i}function $o(t,e,o){e.bubbles=!1,Ho(t,"pointerleave",e,o)}function Zo(t,e,o){t.out(e,o);var i=e.target,r=e.relatedTarget;i&&r&&i.contains(r)||$o(t,e,o)}function Yo(t,e,o){e.bubbles=!0,Ho(t,"pointerover",e,o);var i=e.target,r=e.relatedTarget;i&&r&&i.contains(r)||(e.bubbles=!1,Ho(t,"pointerenter",e,o))}function Ho(t,e,o,i){t.b(new Fo(e,i,o))}function Ko(t,e){t.b(new Fo(e.type,e,e))}r(Uo,jo),(t=Uo.prototype).Di=function(){this.g=0,this.c=void 0},t.Dp=function(t){var e=t.touches,o=Object.keys(this.a),i=o.length;if(i>=e.length){var r,n,s,a=[];for(r=0;r<i;++r){var p;if(n=o[r],s=this.a[n],!(p=1==n))t:{for(var h=e.length,l=0;l<h;l++)if((p=e[l]).identifier===n-2){p=!0;break t}p=!1}p||a.push(s.out)}for(r=0;r<a.length;++r)this.zf(t,a[r])}e=t.changedTouches[0],(!(o=Object.keys(this.a).length)||1===o&&1..toString()in this.a)&&(this.f=e.identifier,void 0!==this.c&&clearTimeout(this.c)),Vo(this,t),this.g++,Bo(this,t,this.so)},t.so=function(t,e){this.a[e.pointerId]={target:e.target,out:e,pi:e.target};var o=this.b;e.bubbles=!0,Ho(o,"pointerover",e,t),o=this.b,e.bubbles=!1,Ho(o,"pointerenter",e,t),Ho(this.b,"pointerdown",e,t)},t.Cp=function(t){t.preventDefault(),Bo(this,t,this.Rl)},t.Rl=function(t,e){var o=this.a[e.pointerId];if(o){var i=o.out,r=o.pi;Ho(this.b,"pointermove",e,t),i&&r!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=r,i.target=r,e.target?(Zo(this.b,i,t),Yo(this.b,e,t)):(e.target=r,e.relatedTarget=null,this.zf(t,e))),o.out=e,o.pi=e.target}},t.Bp=function(t){Vo(this,t),Bo(this,t,this.Ep)},t.Ep=function(t,e){Ho(this.b,"pointerup",e,t),this.b.out(e,t),$o(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.f=void 0,this.c=setTimeout(this.Di.bind(this),200))},t.Ap=function(t){Bo(this,t,this.zf)},t.zf=function(t,e){this.b.cancel(e,t),this.b.out(e,t),$o(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.f=void 0,this.c=setTimeout(this.Di.bind(this),200))},r(Xo,ue),Xo.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},Xo.prototype.out=function(t,e){t.bubbles=!0,Ho(this,"pointerout",t,e)},Xo.prototype.cancel=function(t,e){Ho(this,"pointercancel",t,e)};var Jo=[["bubbles",!(Xo.prototype.ra=function(){for(var t,e=this.a.length,o=0;o<e;o++)t=this.a[o],i=this,Object.keys(t.i).forEach(function(t){re(this.g,t,this.c,this)},i);var i;ue.prototype.ra.call(this)})],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function _o(t){ue.call(this),this.c=t,this.l=0,this.j=!1,this.i=[],this.f=null,t=this.c.c,this.u=0,this.I={},this.g=new Xo(t),this.a=null,this.o=oe(this.g,"pointerdown",this.ul,this),this.v=oe(this.g,"pointermove",this.$o,this)}function qo(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.I[e.pointerId]:"pointerdown"==e.type&&(t.I[e.pointerId]=!0),t.u=Object.keys(t.I).length}function Qo(t,e){this.o=t,this.c=e,this.b=[],this.f=[],this.a={}}function ti(t){var e=t.b,o=t.f,i=e[0];return 1==e.length?(e.length=0,o.length=0):(e[0]=e.pop(),o[0]=o.pop(),ei(t,0)),e=t.c(i),delete t.a[e],i}function ei(t,e){for(var o=t.b,i=t.f,r=o.length,n=o[e],s=i[e],a=e;e<r>>1;){var p=2*e+1,h=2*e+2;p=h<r&&i[h]<i[p]?h:p;o[e]=o[p],i[e]=i[p],e=p}o[e]=n,i[e]=s,oi(t,a,e)}function oi(t,e,o){var i=t.b;t=t.f;for(var r=i[o],n=t[o];e<o;){var s=o-1>>1;if(!(t[s]>n))break;i[o]=i[s],t[o]=t[s],o=s}i[o]=r,t[o]=n}function ii(t){var e,o,i,r=t.o,n=t.b,s=t.f,a=0,p=n.length;for(o=0;o<p;++o)1/0==(i=r(e=n[o]))?delete t.a[t.c(e)]:(s[a]=i,n[a++]=e);for(n.length=a,s.length=a,r=(t.b.length>>1)-1;0<=r;r--)ei(t,r)}function ri(e,t){Qo.call(this,function(t){return e.apply(null,t)},function(t){return t[0].ib()}),this.v=t,this.l=0,this.g={}}function ni(t,e,o){for(var i,r,n=0;t.l<e&&n<o&&0<t.b.length;)r=(i=ti(t)[0]).ib(),0!==i.V()||r in t.g||(t.g[r]=!0,++t.l,++n,i.load())}function si(t){if(void 0!==t)return 0}function ai(t,e){if(void 0!==t)return t+e}function pi(t,e){var o,i=void 0!==e?t.toFixed(e):""+t;return 2<(o=-1===(o=i.indexOf("."))?i.length:o)?i:Array(3-o).join("0")+i}function hi(t){t=(""+t).split(".");for(var e=["1","3"],o=0;o<Math.max(t.length,e.length);o++){var i=parseInt(t[o]||"0",10),r=parseInt(e[o]||"0",10);if(r<i)return 1;if(i<r)return-1}return 0}function li(t,e){return t[0]+=e[0],t[1]+=e[1],t}function ui(t,e){var o=t[0],i=t[1],r=e[0],n=e[1],s=r[0],a=(r=r[1],n[0]),p=a-s,h=(n=n[1])-r;return(o=p||h?(p*(o-s)+h*(i-r))/(p*p+h*h||0):0)<=0||(1<=o?(s=a,r=n):(s+=o*p,r+=o*h)),[s,r]}function ci(t,e,o){t=j(t+180,360)-180;var i=Math.abs(3600*t);o=o||0;var r=Math.pow(10,o),n=Math.floor(i/3600),s=Math.floor((i-3600*n)/60);return 60<=(i=Math.ceil((i-3600*n-60*s)*r)/r)&&(i=0,s+=1),60<=s&&(s=0,n+=1),n+"° "+pi(s)+"′ "+pi(i,o)+"″ "+e.charAt(t<0?1:0)}function yi(t,e,o){return t?e.replace("{x}",t[0].toFixed(o)).replace("{y}",t[1].toFixed(o)):""}function fi(t,e){for(var o=!0,i=t.length-1;0<=i;--i)if(t[i]!=e[i]){o=!1;break}return o}function di(t,e){var o=Math.cos(e),i=Math.sin(e),r=t[1]*o+t[0]*i;return t[0]=t[0]*o-t[1]*i,t[1]=r,t}function gi(t,e){t[0]*=e,t[1]*=e}function vi(t,e){var o=t[0]-e[0],i=t[1]-e[1];return o*o+i*i}function mi(t,e){return Math.sqrt(vi(t,e))}function bi(t,e){return vi(t,ui(t,e))}function wi(t,e){return yi(t,"{x}, {y}",e)}function xi(){return!0}function Mi(){return!1}function Si(){fe.call(this),this.o=[1/0,1/0,-1/0,-1/0],this.v=-1,this.i={},this.j=this.g=0}function Pi(t,e,o,i,r,n){for(var s=n||[],a=0;e<o;e+=i){var p=t[e],h=t[e+1];s[a++]=r[0]*p+r[2]*h+r[4],s[a++]=r[1]*p+r[3]*h+r[5]}return n&&s.length!=a&&(s.length=a),s}function Li(t,e,o,i,r,n){var s,a,p=n||[],h=0;for(s=0;s<e;s+=o)for(p[h++]=t[s]+i,p[h++]=t[s+1]+r,a=s+2;a<s+o;++a)p[h++]=t[a];return n&&p.length!=h&&(p.length=h),p}function Ci(){Si.call(this),this.ka="XY",this.a=2,this.B=null}function Ai(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Ei(t,e,o){t.a=Ai(e),t.ka=e,t.B=o}function Ti(t,e,o,i){if(e)o=Ai(e);else{for(e=0;e<i;++e){if(!o.length)return t.ka="XY",void(t.a=2);o=o[0]}var r;2==(o=o.length)?r="XY":3==o?r="XYZ":4==o&&(r="XYZM"),e=r}t.ka=e,t.a=o}function ji(t,e,o,i){for(var r=0,n=t[o-i],s=t[o-i+1];e<o;e+=i){var a=t[e],p=t[e+1];r=r+(s*a-n*p),n=a,s=p}return r/2}function Ri(t,e,o,i){var r,n,s=0;for(r=0,n=o.length;r<n;++r){var a=o[r];s=s+ji(t,e,a,i);e=a}return s}function Ii(t,e,o,i,r,n,s){var a=t[e],p=t[e+1],h=t[o]-a,l=t[o+1]-p;if(h||l)if(1<(n=((r-a)*h+(n-p)*l)/(h*h+l*l)))e=o;else if(0<n){for(r=0;r<i;++r)s[r]=d(t[e+r],t[o+r],n);return void(s.length=i)}for(r=0;r<i;++r)s[r]=t[e+r];s.length=i}function Ni(t,e,o,i,r){var n=t[e],s=t[e+1];for(e+=i;e<o;e+=i){var a=t[e],p=t[e+1];r<(n=f(n,s,a,p))&&(r=n),n=a,s=p}return r}function ki(t,e,o,i,r){var n,s;for(n=0,s=o.length;n<s;++n){var a=o[n];r=Ni(t,e,a,i,r),e=a}return r}function Di(t,e,o,i,r,n,s,a,p,h,l){if(e==o)return h;var u;if(!r){if((u=f(s,a,t[e],t[e+1]))<h){for(l=0;l<i;++l)p[l]=t[e+l];return p.length=i,u}return h}for(var c=l||[NaN,NaN],y=e+i;y<o;)if(Ii(t,y-i,y,i,s,a,c),(u=f(s,a,c[0],c[1]))<h){for(h=u,l=0;l<i;++l)p[l]=c[l];y+=p.length=i}else y+=i*Math.max((Math.sqrt(u)-Math.sqrt(h))/r|0,1);if(n&&(Ii(t,o-i,e,i,s,a,c),(u=f(s,a,c[0],c[1]))<h)){for(h=u,l=0;l<i;++l)p[l]=c[l];p.length=i}return h}function Oi(t,e,o,i,r,n,s,a,p,h,l){var u,c;for(l=l||[NaN,NaN],u=0,c=o.length;u<c;++u){var y=o[u];h=Di(t,e,y,i,r,n,s,a,p,h,l),e=y}return h}function Fi(t,e){var o,i,r=0;for(o=0,i=e.length;o<i;++o)t[r++]=e[o];return r}function Gi(t,e,o,i){var r,n;for(r=0,n=o.length;r<n;++r){var s,a=o[r];for(s=0;s<i;++s)t[e++]=a[s]}return e}function Ui(t,e,o,i,r){r=r||[];var n,s,a=0;for(n=0,s=o.length;n<s;++n)e=Gi(t,e,o[n],i),r[a++]=e;return r.length=a,r}function Bi(t,e,o,i,r){r=void 0!==r?r:[];for(var n=0;e<o;e+=i)r[n++]=t.slice(e,e+i);return r.length=n,r}function Vi(t,e,o,i,r){r=void 0!==r?r:[];var n,s,a=0;for(n=0,s=o.length;n<s;++n){var p=o[n];r[a++]=Bi(t,e,p,i,r[a]),e=p}return r.length=a,r}function Xi(t,e,o,i,r,n,s){var a=(o-e)/i;if(a<3){for(;e<o;e+=i)n[s++]=t[e],n[s++]=t[e+1];return s}var p=Array(a);p[0]=1,p[a-1]=1,o=[e,o-i];for(var h,l=0;0<o.length;){var u=o.pop(),c=o.pop(),y=0,f=t[c],d=t[c+1],g=t[u],v=t[u+1];for(h=c+i;h<u;h+=i){var m=M(t[h],t[h+1],f,d,g,v);y<m&&(l=h,y=m)}r<y&&(p[(l-e)/i]=1,c+i<l&&o.push(c,l),l+i<u&&o.push(l,u))}for(h=0;h<a;++h)p[h]&&(n[s++]=t[e+h*i],n[s++]=t[e+h*i+1]);return s}function Wi(t,e,o,i,r,n,s,a){var p,h;for(p=0,h=o.length;p<h;++p){var l=o[p];t:{var u,c=t,y=l,f=i,d=r,g=n,v=s;if(e!=y){var m=d*Math.round(c[e]/d),b=d*Math.round(c[e+1]/d);e+=f,g[v++]=m,g[v++]=b;do{if(u=d*Math.round(c[e]/d),s=d*Math.round(c[e+1]/d),(e+=f)==y){g[v++]=u,g[v++]=s,s=v;break t}}while(u==m&&s==b);for(;e<y;){var w,x;if(w=d*Math.round(c[e]/d),x=d*Math.round(c[e+1]/d),e+=f,w!=u||x!=s){var M=u-m,S=s-b,P=w-m,L=x-b;M*L==S*P&&(M<0&&P<M||M==P||0<M&&M<P)&&(S<0&&L<S||S==L||0<S&&S<L)||(m=g[v++]=u,b=g[v++]=s),u=w,s=x}}g[v++]=u,g[v++]=s}s=v}a.push(s),e=l}return s}function zi(t,e){Ci.call(this),this.c=this.l=-1,this.pa(t,e)}function $i(t,e,o){Ei(t,e,o),t.s()}function Zi(t,e){Ci.call(this),this.pa(t,e)}function Yi(e,o,i,r,t){return!K(t,function(t){return!Hi(e,o,i,r,t[0],t[1])})}function Hi(t,e,o,i,r,n){for(var s=0,a=t[o-i],p=t[o-i+1];e<o;e+=i){var h=t[e],l=t[e+1];p<=n?n<l&&0<(h-a)*(n-p)-(r-a)*(l-p)&&s++:l<=n&&(h-a)*(n-p)-(r-a)*(l-p)<0&&s--,a=h,p=l}return!!s}function Ki(t,e,o,i,r,n){if(!o.length||!Hi(t,e,o[0],i,r,n))return!1;var s;for(e=1,s=o.length;e<s;++e)if(Hi(t,o[e-1],o[e],i,r,n))return!1;return!0}function Ji(t,e,o,i,r,n,s){var a,p,h,l,u,c=r[n+1],y=[],f=o[0];for(h=t[f-i],u=t[f-i+1],a=e;a<f;a+=i)l=t[a],p=t[a+1],(c<=u&&p<=c||u<=c&&c<=p)&&(h=(c-u)/(p-u)*(l-h)+h,y.push(h)),h=l,u=p;for(f=NaN,u=-1/0,y.sort(D),h=y[0],a=1,p=y.length;a<p;++a){l=y[a];var d=Math.abs(l-h);u<d&&(Ki(t,e,o,i,h=(h+l)/2,c)&&(f=h,u=d)),h=l}return isNaN(f)&&(f=r[n]),s?(s.push(f,c),s):[f,c]}function _i(t,e,o,i,r,n){for(var s,a=[t[e],t[e+1]],p=[];e+i<o;e+=i){if(p[0]=t[e+i],p[1]=t[e+i+1],s=r.call(n,a,p))return s;a[0]=p[0],a[1]=p[1]}return!1}function qi(t,e,o,i,c){var r=H([1/0,1/0,-1/0,-1/0],t,e,o,i);return!!st(c,r)&&(!!(B(c,r)||r[0]>=c[0]&&r[2]<=c[2]||r[1]>=c[1]&&r[3]<=c[3])||_i(t,e,o,i,function(t,e){var o=!1,i=N(c,t),r=N(c,e);if(1===i||1===r)o=!0;else{var n=c[0],s=c[1],a=c[2],p=c[3],h=e[0],l=e[1],u=(l-t[1])/(h-t[0]);2&r&&!(2&i)&&(o=n<=(o=h-(l-p)/u)&&o<=a),o||!(4&r)||4&i||(o=s<=(o=l-(h-a)*u)&&o<=p),o||!(8&r)||8&i||(o=n<=(o=h-(l-s)/u)&&o<=a),o||!(16&r)||16&i||(o=s<=(o=l-(h-n)*u)&&o<=p)}return o}))}function Qi(t,e,o,i,r){var n=o[0];if(!(qi(t,e,n,i,r)||Hi(t,e,n,i,r[0],r[1])||Hi(t,e,n,i,r[0],r[3])||Hi(t,e,n,i,r[2],r[1])||Hi(t,e,n,i,r[2],r[3])))return!1;if(1===o.length)return!0;for(e=1,n=o.length;e<n;++e)if(Yi(t,o[e-1],o[e],i,r))return!1;return!0}function tr(t,e,o,i){for(var r=0,n=t[o-i],s=t[o-i+1];e<o;e+=i){var a=t[e],p=t[e+1];r=r+(a-n)*(p+s),n=a,s=p}return 0<r}function er(t,e,o,i){var r,n,s=0;for(i=void 0!==i&&i,r=0,n=e.length;r<n;++r){var a=e[r];s=tr(t,s,a,o);if(r){if(i&&!s||!i&&s)return!1}else if(i&&s||!i&&!s)return!1;s=a}return!0}function or(t,e,o,i,r){var n,s;for(r=void 0!==r&&r,n=0,s=o.length;n<s;++n){var a=o[n],p=tr(t,e,a,i);if(n?r&&!p||!r&&p:r&&p||!r&&!p){p=t;for(var h=a,l=i;e<h-l;){var u;for(u=0;u<l;++u){var c=p[e+u];p[e+u]=p[h-l+u],p[h-l+u]=c}e+=l,h-=l}}e=a}return e}function ir(t,e,o,i){var r,n,s=0;for(r=0,n=e.length;r<n;++r)s=or(t,s,e[r],o,i);return s}function rr(t,e){Ci.call(this),this.c=[],this.u=-1,this.A=null,this.R=this.C=this.G=-1,this.l=null,this.pa(t,e)}function nr(t){if(t.u!=t.f){var e=Q(t.D());t.A=Ji(t.fc(),0,t.c,t.a,e,0),t.u=t.f}return t.A}function sr(t,e,o,i){var r,n=i||32;for(i=[],r=0;r<n;++r)c(i,t.offset(e,o,2*Math.PI*r/n));return i.push(i[0],i[1]),(t=new rr(null)).ca("XY",i,[i.length]),t}function ar(t){var e=t[0],o=t[1],i=t[2];return e=[e,o,e,t=t[3],i,t,i,o,e,o],(o=new rr(null)).ca("XY",e,[e.length]),o}function pr(t,e,o){for(var i=e||32,r=t.sa(),n=new rr(null,e=t.ka),s=(i=r*(i+1),r=Array(i),0);s<i;s++)r[s]=0;return n.ca(e,r,[r.length]),hr(n,t.Ba(),t.Vd(),o),n}function hr(t,e,o,i){var r=t.ha(),n=t.ka,s=t.sa(),a=t.Rb(),p=r.length/s-1;i=i||0;for(var h,l,u=0;u<=p;++u)l=u*s,h=i+2*j(u,p)*Math.PI/p,r[l]=e[0]+o*Math.cos(h),r[l+1]=e[1]+o*Math.sin(h);t.ca(n,r,a)}function lr(t){fe.call(this),t=t||{},this.l=[0,0],this.c=[],this.lf=this.lf.bind(this);var e={};e.center=void 0!==t.center?t.center:null,this.o=Ct(t.projection);var o,i,r,n=void 0!==t.minZoom?t.minZoom:0;o=void 0!==t.maxZoom?t.maxZoom:28;var s,a,p,h,l,u,c,y,f=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)i=(o=t.resolutions)[0],r=o[o.length-1],h=o,o=function(t,e,o){if(void 0!==t)return(t=x((t=m(h,t,o))+e,0,h.length-1))!=(e=Math.floor(t))&&e<h.length-1?h[e]/Math.pow(h[e]/h[e+1],t-e):h[e]};else{var d=((r=(i=Ct(t.projection)).D())?Math.max(nt(r),et(r)):360*gt.degrees/i.sc())/256/Math.pow(2,0),g=d/Math.pow(2,28);void 0!==(i=t.maxResolution)?n=0:i=d/Math.pow(f,n),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(f,o):d/Math.pow(f,o):g),o=n+Math.floor(Math.log(i/r)/Math.log(f)),r=i/Math.pow(f,o-n),s=f,a=i,p=o-n,o=function(t,e,o){if(void 0!==t)return t=Math.max(Math.floor(Math.log(a/t)/Math.log(s)+(-o/2+.5))+e,0),void 0!==p&&(t=Math.min(t,p)),a/Math.pow(s,t)}}this.a=i,this.i=r,this.A=f,this.g=t.resolutions,this.j=n,void 0===t.enableRotation||t.enableRotation?n=void 0===(n=t.constrainRotation)||!0===n?(c=S(5),function(t,e){if(void 0!==t)return Math.abs(t+e)<=c?0:t+e}):!1===n?ai:"number"==typeof n?(l=n,u=2*Math.PI/l,function(t,e){if(void 0!==t)return Math.floor((t+e)/u+.5)*u}):ai:n=si,this.u=new Ie(void 0!==t.extent?(y=t.extent,function(t){if(t)return[x(t[0],y[0],y[2]),x(t[1],y[1],y[3])]}):_t,o,n),void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.a,t.zoom-this.j)),e.rotation=void 0!==t.rotation?t.rotation:0,this.H(e)}function ur(t){mr(t,0,-dr(t)[0]);for(var e=0,o=t.c.length;e<o;++e){var i=t.c[e];i[0].fd&&i[0].fd(!1)}t.c.length=0}function cr(t,e,o){var i,r=t.Ba();return void 0!==r&&(di(i=[r[0]-o[0],r[1]-o[1]],e-t.Va()),li(i,o)),i}function yr(t,e,o){var i,r=t.Ba();return t=t.Ua(),void 0!==r&&void 0!==t&&(i=[o[0]-e*(o[0]-r[0])/t,o[1]-e*(o[1]-r[1])/t]),i}function fr(t){var e=[100,100];return t='.ol-viewport[data-view="'+U(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function dr(t,e){return void 0!==e?(e[0]=t.l[0],e[1]=t.l[1],e):t.l.slice()}function gr(t,e){return Math.max(nt(t)/e[0],et(t)/e[1])}function vr(t){return!!t.Ba()&&void 0!==t.Ua()}function mr(t,e,o){t.l[e]+=o,t.s()}function br(t,e,o){this.i=t,this.c=e,this.g=o,this.b=[],this.a=this.f=0}function wr(t){t.b.length=0,t.f=0,t.a=0}function xr(t){fe.call(this),this.v=null,this.Ia(!0),this.handleEvent=t.handleEvent}function Mr(t,e,o,i){if(void 0!==e){var r=t.Va(),n=t.Ba();void 0!==r&&n&&0<i?t.animate({rotation:e,anchor:o,duration:i,easing:Ve}):t.rotate(e,o)}}function Sr(t,e,o,i){var r=t.Ua();if(e=t.constrainResolution(r,e,0),o&&void 0!==e&&e!==r){var n=t.Ba();o=yr(t,e,o),o=t.Ec(o),o=[(e*n[0]-r*o[0])/(e-r),(e*n[1]-r*o[1])/(e-r)]}Pr(t,e,o,i)}function Pr(t,e,o,i){if(e){var r=t.Ua(),n=t.Ba();void 0!==r&&n&&e!==r&&i?t.animate({resolution:e,anchor:o,duration:i,easing:Ve}):(o&&(o=yr(t,e,o),t.wb(o)),t.Xc(e))}}function Lr(t){t=t||{},this.a=t.delta?t.delta:1,xr.call(this,{handleEvent:Cr}),this.g=void 0!==t.duration?t.duration:250}function Cr(t){var e=!1,o=t.originalEvent;if("dblclick"==t.type){e=t.coordinate,o=o.shiftKey?-this.a:this.a;Sr(t.map.$(),o,e,this.g),t.preventDefault(),e=!0}return!e}function Ar(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Er(t){return!((t=t.originalEvent).button||vo&&mo&&t.ctrlKey)}function Tr(t){return"pointermove"==t.type}function jr(t){return"singleclick"==t.type}function Rr(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Ir(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Nr(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function kr(t){return k(t.b,56),"mouse"==t.b.pointerType}function Dr(t){return(t=t.b).isPrimary&&0===t.button}function Or(t){xr.call(this,{handleEvent:(t=t||{}).handleEvent?t.handleEvent:Gr}),this.sf=t.handleDownEvent?t.handleDownEvent:Mi,this.pf=t.handleDragEvent?t.handleDragEvent:a,this.xf=t.handleMoveEvent?t.handleMoveEvent:a,this.yf=t.handleUpEvent?t.handleUpEvent:Mi,this.A=!1,this.Y={},this.l=[]}function Fr(t){for(var e=t.length,o=0,i=0,r=0;r<e;r++)o+=t[r].clientX,i+=t[r].clientY;return[o/e,i/e]}function Gr(t){if(!(t instanceof po))return!0;var e=!1,o=t.type;return"pointerdown"!==o&&"pointerdrag"!==o&&"pointerup"!==o||(o=t.b,"pointerup"==t.type?delete this.Y[o.pointerId]:"pointerdown"==t.type?this.Y[o.pointerId]=o:o.pointerId in this.Y&&(this.Y[o.pointerId]=o),this.l=ct(this.Y)),this.A?"pointerdrag"==t.type?this.pf(t):"pointerup"==t.type&&(this.A=this.yf(t)&&0<this.l.length):"pointerdown"==t.type?(this.A=t=this.sf(t),e=this.Zc(t)):"pointermove"==t.type&&this.xf(t),!e}function Ur(t){Or.call(this,{handleDownEvent:Xr,handleDragEvent:Br,handleUpEvent:Vr}),t=t||{},this.a=t.kinetic,this.g=null,this.u=t.condition?t.condition:Rr,this.j=!1}function Br(t){var e=this.l,o=Fr(e);if(e.length==this.o){if(this.a&&this.a.b.push(o[0],o[1],Date.now()),this.g){var i=this.g[0]-o[0],r=o[1]-this.g[1],n=(t=t.map.$()).V();gi(i=[i,r],n.resolution),di(i,n.rotation),li(i,n.center),i=t.Ec(i),t.wb(i)}}else this.a&&wr(this.a);this.g=o,this.o=e.length}function Vr(t){var e,o=t.map;if(t=o.$(),this.l.length)return this.a&&wr(this.a),!(this.g=null);if(e=!this.j&&this.a)if((e=this.a).b.length<6)e=!1;else{var i=Date.now()-e.g,r=e.b.length-3;if(e.b[r+2]<i)e=!1;else{for(var n=r-3;0<n&&e.b[n+2]>i;)n-=3;i=e.b[r+2]-e.b[n+2];var s=e.b[r]-e.b[n];r=e.b[r+1]-e.b[n+1];e.f=Math.atan2(r,s),e.a=Math.sqrt(s*s+r*r)/i,e=e.a>e.c}}return e&&(e=((e=this.a).c-e.a)/e.i,r=this.a.f,n=t.Ba(),n=o.Ka(n),o=o.Za([n[0]-e*Math.cos(r),n[1]-e*Math.sin(r)]),t.animate({center:t.Ec(o),duration:500,easing:Ve})),mr(t,1,-1),!1}function Xr(t){if(0<this.l.length&&this.u(t)){var e=t.map.$();return this.g=null,this.A||mr(e,1,1),dr(e)[0]&&e.wb(t.frameState.viewState.center),this.a&&wr(this.a),this.j=1<this.l.length,!0}return!1}function Wr(t){t=t||{},Or.call(this,{handleDownEvent:Zr,handleDragEvent:zr,handleUpEvent:$r}),this.g=t.condition?t.condition:Ar,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function zr(t){if(kr(t)){var e,o=(e=t.map).Mb();if(t=t.pixel,o=Math.atan2(o[1]/2-t[1],t[0]-o[0]/2),void 0!==this.a)t=o-this.a,Mr(e=e.$(),e.Va()-t);this.a=o}}function $r(t){if(!kr(t))return!0;mr(t=t.map.$(),1,-1);var e=t.Va(),o=this.j;return Mr(t,e=t.constrainRotation(e,0),void 0,o),!1}function Zr(t){return!!(kr(t)&&Er(t)&&this.g(t))&&(mr(t.map.$(),1,1),!(this.a=void 0))}function Yr(t){this.Gc=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.f=this.c=this.b=null}function Hr(t){var e=t.c,o=t.f;(t=t.a.style).left=Math.min(e[0],o[0])+"px",t.top=Math.min(e[1],o[1])+"px",t.width=Math.abs(o[0]-e[0])+"px",t.height=Math.abs(o[1]-e[1])+"px"}function Kr(t){var e=t.c,o=t.f;(e=[e,[e[0],o[1]],o,[o[0],e[1]]].map(t.b.Za,t.b))[4]=e[0].slice(),t.Gc?t.Gc.pa([e]):t.Gc=new rr([e])}function Jr(t){Or.call(this,{handleDownEvent:tn,handleDragEvent:qr,handleUpEvent:Qr}),t=t||{},this.a=new Yr(t.className||"ol-dragbox"),this.g=null,this.u=t.condition?t.condition:xi,this.o=t.boxEndCondition?t.boxEndCondition:_r}function _r(t,e,o){return 64<=(t=o[0]-e[0])*t+(e=o[1]-e[1])*e}function qr(t){if(kr(t)){var e=this.a,o=t.pixel;e.c=this.g,e.f=o,Kr(e),Hr(e),this.b(new nn(on,t.coordinate,t))}}function Qr(t){return!kr(t)||(this.a.setMap(null),this.o(t,this.g,t.pixel)&&(this.j(t),this.b(new nn(rn,t.coordinate,t))),!1)}function tn(t){if(kr(t)&&Er(t)&&this.u(t)){this.g=t.pixel,this.a.setMap(t.map);var e=this.a,o=this.g;return e.c=this.g,e.f=o,Kr(e),Hr(e),this.b(new nn(en,t.coordinate,t)),!0}return!1}r(_o,ue),(t=_o.prototype).vh=function(t){qo(this,t);var e,o,i,r=new po("pointerup",this.c,t);this.b(r),this.j||t.button||(o=(e=this).f,i=new po("click",e.c,o),e.b(i),e.l?(clearTimeout(e.l),e.l=0,i=new po("dblclick",e.c,o),e.b(i)):e.l=setTimeout(function(){this.l=0;var t=new po("singleclick",this.c,o);this.b(t)}.bind(e),250)),this.u||(this.i.forEach(ne),this.i.length=0,this.j=!1,this.f=null,pe(this.a),this.a=null)},t.ul=function(t){qo(this,t);var e=new po("pointerdown",this.c,t);this.b(e),this.f=t,this.i.length||(this.a=new Xo(document),this.i.push(oe(this.a,"pointermove",this.om,this),oe(this.a,"pointerup",this.vh,this),oe(this.g,"pointercancel",this.vh,this)))},t.om=function(t){if(t.clientX!=this.f.clientX||t.clientY!=this.f.clientY){this.j=!0;var e=new po("pointerdrag",this.c,t,this.j);this.b(e)}t.preventDefault()},t.$o=function(t){this.b(new po(t.type,this.c,t,!(!this.f||t.clientX==this.f.clientX&&t.clientY==this.f.clientY)))},t.ra=function(){this.v&&(ne(this.v),this.v=null),this.o&&(ne(this.o),this.o=null),this.i.forEach(ne),this.i.length=0,this.a&&(pe(this.a),this.a=null),this.g&&(pe(this.g),this.g=null),ue.prototype.ra.call(this)},Qo.prototype.clear=function(){this.b.length=0,this.f.length=0,ut(this.a)},Qo.prototype.i=function(t){k(!(this.c(t)in this.a),31);var e=this.o(t);return 1/0!=e&&(this.b.push(t),this.f.push(e),this.a[this.c(t)]=!0,oi(this,0,this.b.length-1),!0)},r(ri,Qo),ri.prototype.i=function(t){var e=Qo.prototype.i.call(this,t);return e&&oe(t[0],"change",this.j,this),e},ri.prototype.j=function(t){var e=(t=t.target).V();2!==e&&3!==e&&4!==e&&5!==e||(re(t,"change",this.j,this),(t=t.ib())in this.g&&(delete this.g[t],--this.l),this.v())},r(Si,fe),(t=Si.prototype).Ab=function(t,e){var o=e||[NaN,NaN];return this.Gb(t[0],t[1],o,1/0),o},t.sb=function(t){return this.Oc(t[0],t[1])},t.Oc=Mi,t.D=function(t){this.v!=this.f&&(this.o=this.ne(this.o),this.v=this.f);var e=this.o;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},t.Pb=function(t){return this.Qd(t*t)},t.tb=function(t,e){return this.Dc(Rt(t,e)),this},r(Ci,Si),(t=Ci.prototype).Oc=Mi,t.ne=function(t){return z(this.B,0,this.B.length,this.a,t)},t.bc=function(){return this.B.slice(0,this.a)},t.ha=function(){return this.B},t.cc=function(){return this.B.slice(this.B.length-this.a)},t.dc=function(){return this.ka},t.Qd=function(t){if(this.j!=this.f&&(ut(this.i),this.g=0,this.j=this.f),t<0||this.g&&t<=this.g)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var o=this.kd(t);return o.ha().length<this.B.length?this.i[e]=o:(this.g=t,this)},t.kd=function(){return this},t.sa=function(){return this.a},t.Dc=function(t){this.B&&(t(this.B,this.B,this.a),this.s())},t.rotate=function(t,e){var o=this.ha();if(o){for(var i=o.length,r=this.sa(),n=o||[],s=Math.cos(t),a=Math.sin(t),p=e[0],h=e[1],l=0,u=0;u<i;u+=r){var c=o[u]-p,y=o[u+1]-h;for(n[l++]=p+c*s-y*a,n[l++]=h+c*a+y*s,c=u+2;c<u+r;++c)n[l++]=o[c]}o&&n.length!=l&&(n.length=l),this.s()}},t.scale=function(t,e,o){var i=e;if(void 0===i&&(i=t),(a=o)||(a=Q(this.D())),o=this.ha()){e=o.length;for(var r=this.sa(),n=o||[],s=a[0],a=a[1],p=0,h=0;h<e;h+=r){var l=o[h]-s,u=o[h+1]-a;for(n[p++]=s+t*l,n[p++]=a+i*u,l=h+2;l<h+r;++l)n[p++]=o[l]}o&&n.length!=p&&(n.length=p),this.s()}},t.translate=function(t,e){var o=this.ha();o&&(Li(o,o.length,this.sa(),t,e,o),this.s())},r(zi,Ci),(t=zi.prototype).clone=function(){var t=new zi(null);return $i(t,this.ka,this.B.slice()),t},t.Gb=function(t,e,o,i){return i<E(this.D(),t,e)?i:(this.c!=this.f&&(this.l=Math.sqrt(Ni(this.B,0,this.B.length,this.a,0)),this.c=this.f),Di(this.B,0,this.B.length,this.a,this.l,!0,t,e,o,i))},t.Km=function(){return ji(this.B,0,this.B.length,this.a)},t.X=function(){return Bi(this.B,0,this.B.length,this.a)},t.kd=function(t){var e=[];return e.length=Xi(this.B,0,this.B.length,this.a,t,e,0),$i(t=new zi(null),"XY",e),t},t.T=function(){return"LinearRing"},t.Xa=function(){},t.pa=function(t,e){t?(Ti(this,e,t,1),this.B||(this.B=[]),this.B.length=Gi(this.B,0,t,this.a),this.s()):$i(this,"XY",null)},r(Zi,Ci),(t=Zi.prototype).clone=function(){var t=new Zi(null);return t.ca(this.ka,this.B.slice()),t},t.Gb=function(t,e,o,i){var r=this.B;if((t=f(t,e,r[0],r[1]))<i){for(i=this.a,e=0;e<i;++e)o[e]=r[e];return o.length=i,t}return i},t.X=function(){return this.B?this.B.slice():[]},t.ne=function(t){return W(this.B,t)},t.T=function(){return"Point"},t.Xa=function(t){return I(t,this.B[0],this.B[1])},t.pa=function(t,e){t?(Ti(this,e,t,0),this.B||(this.B=[]),this.B.length=Fi(this.B,t),this.s()):this.ca("XY",null)},t.ca=function(t,e){Ei(this,t,e),this.s()},r(rr,Ci),(t=rr.prototype).Vj=function(t){this.B?c(this.B,t.ha()):this.B=t.ha().slice(),this.c.push(this.B.length),this.s()},t.clone=function(){var t=new rr(null);return t.ca(this.ka,this.B.slice(),this.c.slice()),t},t.Gb=function(t,e,o,i){return i<E(this.D(),t,e)?i:(this.C!=this.f&&(this.G=Math.sqrt(ki(this.B,0,this.c,this.a,0)),this.C=this.f),Oi(this.B,0,this.c,this.a,this.G,!0,t,e,o,i))},t.Oc=function(t,e){return Ki(this.fc(),0,this.c,this.a,t,e)},t.Nm=function(){return Ri(this.fc(),0,this.c,this.a)},t.X=function(t){var e;return void 0!==t?or(e=this.fc().slice(),0,this.c,this.a,t):e=this.B,Vi(e,0,this.c,this.a)},t.Rb=function(){return this.c},t.yk=function(){return new Zi(nr(this))},t.Ek=function(){return this.c.length},t.nh=function(t){if(t<0||this.c.length<=t)return null;var e=new zi(null);return $i(e,this.ka,this.B.slice(t?this.c[t-1]:0,this.c[t])),e},t.jd=function(){var t,e,o=this.ka,i=this.B,r=this.c,n=[],s=0;for(t=0,e=r.length;t<e;++t){var a=r[t],p=new zi(null);$i(p,o,i.slice(s,a)),n.push(p),s=a}return n},t.fc=function(){if(this.R!=this.f){var t=this.B;er(t,this.c,this.a)?this.l=t:(this.l=t.slice(),this.l.length=or(this.l,0,this.c,this.a)),this.R=this.f}return this.l},t.kd=function(t){var e=[],o=[];return e.length=Wi(this.B,0,this.c,this.a,Math.sqrt(t),e,0,o),(t=new rr(null)).ca("XY",e,o),t},t.T=function(){return"Polygon"},t.Xa=function(t){return Qi(this.fc(),0,this.c,this.a,t)},t.pa=function(t,e){if(t){Ti(this,e,t,2),this.B||(this.B=[]);var o=Ui(this.B,0,t,this.a,this.c);this.B.length=o.length?o[o.length-1]:0,this.s()}else this.ca("XY",null,this.c)},t.ca=function(t,e,o){Ei(this,t,e),this.c=o,this.s()},r(lr,fe),(t=lr.prototype).animate=function(t){var e,o=Date.now(),i=this.Ba().slice(),r=this.Ua(),n=this.Va(),s=arguments.length;1<s&&"function"==typeof arguments[s-1]&&(e=arguments[s-1],--s);for(var a=[],p=0;p<s;++p){var h=arguments[p],l={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||Xe};h.center&&(l.Bg=i,l.Dg=h.center,i=l.Dg),void 0!==h.zoom?(l.hf=r,l.jf=this.constrainResolution(this.a,h.zoom-this.j,0),r=l.jf):h.resolution&&(l.hf=r,l.jf=h.resolution,r=l.jf),void 0!==h.rotation&&(l.Cg=n,l.Xi=h.rotation,n=l.Xi),l.fd=e,o+=l.duration,a.push(l)}this.c.push(a),mr(this,0,1),this.lf()},t.lf=function(){if(void 0!==this.v&&(cancelAnimationFrame(this.v),this.v=void 0),0<dr(this)[0]){for(var t=Date.now(),e=!1,o=this.c.length-1;0<=o;--o){for(var i=this.c[o],r=!0,n=0,s=i.length;n<s;++n){var a=i[n];if(!a.complete){if(e=t-a.start,1<=(e=0<a.duration?e/a.duration:1)?(a.complete=!0,e=1):r=!1,e=a.easing(e),a.Bg){var p=a.Bg[0],h=a.Bg[1];this.set("center",[p+e*(a.Dg[0]-p),h+e*(a.Dg[1]-h)])}if(a.hf&&(p=a.hf+e*(a.jf-a.hf),a.anchor&&this.set("center",yr(this,p,a.anchor)),this.set("resolution",p)),void 0!==a.Cg&&(e=a.Cg+e*(a.Xi-a.Cg),a.anchor&&this.set("center",cr(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}r&&(this.c[o]=null,mr(this,0,-1),(i=i[0].fd)&&i(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.v&&(this.v=requestAnimationFrame(this.lf))}},t.Ec=function(t){return this.u.center(t)},t.constrainResolution=function(t,e,o){return this.u.resolution(t,e||0,o||0)},t.constrainRotation=function(t,e){return this.u.rotation(t,e||0)},t.Ba=function(){return this.get("center")},t.ed=function(t){t=t||fr(this);var e=this.Ba();k(e,1);var o=this.Ua();k(void 0!==o,2);var i=this.Va();return k(void 0!==i,3),tt(e,o,i,t)},t.sm=function(){return this.a},t.tm=function(){return this.i},t.um=function(){return this.o},t.Ua=function(){return this.get("resolution")},t.vm=function(){return this.g},t.Va=function(){return this.get("rotation")},t.V=function(){var t=this.Ba(),e=this.o,o=this.Ua(),i=this.Va();return{center:t.slice(),projection:void 0!==e?e:null,resolution:o,rotation:i}},t.$k=function(){var t,e=this.Ua();if(void 0!==e&&e>=this.i&&e<=this.a){var o,i;if(t=this.j||0,this.g){if(t+=i=m(this.g,e,1),i==this.g.length-1)return t;i=(o=this.g[i])/this.g[i+1]}else o=this.a,i=this.A;t+=Math.log(o/e)/Math.log(i)}return t},t.Ff=function(t,e){var o,i=e||{},r=i.size;r||(r=fr(this)),t instanceof Ci?"Circle"===t.T()?(o=ar(t=t.D())).rotate(this.Va(),Q(t)):o=t:(k(Array.isArray(t),24),k(!at(t),25),o=ar(t));var n,s=i.padding?i.padding:[0,0,0,0],a=void 0===i.constrainResolution||i.constrainResolution,p=void 0!==i.nearest&&i.nearest;n=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.a,i.maxZoom-this.j,0):0;var h=o.ha(),l=this.Va(),u=Math.cos(-l),c=(l=Math.sin(-l),1/0),y=1/0,f=-1/0,d=-1/0;o=o.sa();for(var g=0,v=h.length;g<v;g+=o){var m=h[g]*u-h[g+1]*l,b=h[g]*l+h[g+1]*u;c=Math.min(c,m),y=Math.min(y,b),f=Math.max(f,m),d=Math.max(d,b)}r=gr([c,y,f,d],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]),r=isNaN(r)?n:Math.max(r,n),a&&(a=this.constrainResolution(r,0,0),!p&&a<r&&(a=this.constrainResolution(a,-1,0)),r=a),l=-l,u=[(p=(c+f)/2+(s[1]-s[3])/2*r)*u-(s=(y+d)/2+(s[0]-s[2])/2*r)*l,s*u+p*l],void 0!==i.duration?this.animate({resolution:r,center:u,duration:i.duration,easing:i.easing}):(this.Xc(r),this.wb(u))},t.$j=function(t,e,o){var i=this.Va(),r=Math.cos(-i),n=(i=Math.sin(-i),t[0]*r-t[1]*i);t=t[1]*r+t[0]*i;var s=this.Ua();n+=(e[0]/2-o[0])*s;t+=(o[1]-e[1]/2)*s,i=-i,this.wb([n*r-t*i,t*r+n*i])},t.rotate=function(t,e){if(void 0!==e){var o=cr(this,t,e);this.wb(o)}this.He(t)},t.wb=function(t){this.set("center",t),0<dr(this)[0]&&ur(this)},t.Xc=function(t){this.set("resolution",t),0<dr(this)[0]&&ur(this)},t.He=function(t){this.set("rotation",t),0<dr(this)[0]&&ur(this)},t.yp=function(t){t=this.constrainResolution(this.a,t-this.j,0),this.Xc(t)},r(xr,fe),xr.prototype.c=function(){return this.get("active")},xr.prototype.i=function(){return this.v},xr.prototype.Ia=function(t){this.set("active",t)},xr.prototype.setMap=function(t){this.v=t},r(Lr,xr),r(Or,xr),Or.prototype.Zc=function(t){return t},r(Ur,Or),Ur.prototype.Zc=Mi,r(Wr,Or),Wr.prototype.Zc=Mi,r(Yr,ae),Yr.prototype.ra=function(){this.setMap(null)},Yr.prototype.setMap=function(t){if(this.b){this.b.A.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.A.appendChild(this.a)},Yr.prototype.U=function(){return this.Gc},r(Jr,Or),Jr.prototype.U=function(){return this.a.U()},Jr.prototype.j=a;var en="boxstart",on="boxdrag",rn="boxend";function nn(t,e,o){he.call(this,t),this.coordinate=e,this.mapBrowserEvent=o}function sn(t){var e=(t=t||{}).condition?t.condition:Ir;this.C=void 0!==t.duration?t.duration:200,this.G=void 0!==t.out&&t.out,Jr.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function an(t){xr.call(this,{handleEvent:pn}),t=t||{},this.a=function(t){return Rr(t)&&Nr(t)},this.g=t.condition?t.condition:this.a,this.l=void 0!==t.duration?t.duration:100,this.j=void 0!==t.pixelDelta?t.pixelDelta:128}function pn(t){var e=!1;if("keydown"==t.type){var o=t.originalEvent.keyCode;if(this.g(t)&&(40==o||37==o||39==o||38==o)){var i=(e=t.map.$()).Ua()*this.j,r=0,n=0;40==o?n=-i:37==o?r=-i:39==o?r=i:n=i,di(i=[r,n],e.Va()),o=this.l,(r=e.Ba())&&(i=e.Ec([r[0]+i[0],r[1]+i[1]]),o?e.animate({duration:o,easing:We,center:i}):e.wb(i)),t.preventDefault(),e=!0}}return!e}function hn(t){xr.call(this,{handleEvent:ln}),t=t||{},this.g=t.condition?t.condition:Nr,this.a=t.delta?t.delta:1,this.l=void 0!==t.duration?t.duration:100}function ln(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var o=t.originalEvent.charCode;!this.g(t)||43!=o&&45!=o||(e=43==o?this.a:-this.a,Sr(o=t.map.$(),e,void 0,this.l),t.preventDefault(),e=!0)}return!e}function un(t){xr.call(this,{handleEvent:cn}),t=t||{},this.l=0,this.R=void 0!==t.duration?t.duration:250,this.Y=void 0!==t.timeout?t.timeout:80,this.A=void 0===t.useAnchor||t.useAnchor,this.a=null,this.o=this.j=this.u=this.g=void 0}function cn(t){if("wheel"!==(o=t.type)&&"mousewheel"!==o)return!0;t.preventDefault();var e,o=t.map,i=t.originalEvent;if(this.A&&(this.a=t.coordinate),"wheel"==t.type?(e=i.deltaY,fo&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=bo),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"==t.type&&(e=-i.wheelDeltaY,go&&(e/=3)),0===e)return!1;if(t=Date.now(),void 0===this.g&&(this.g=t),(!this.j||400<t-this.g)&&(this.j=Math.abs(e)<4?yn:fn),this.j===yn){o=o.$(),this.o?clearTimeout(this.o):mr(o,1,1),this.o=setTimeout(this.C.bind(this),400),e=o.Ua()*Math.pow(2,e/300);i=o.i;var r=o.a,n=0;if(e<i?(e=Math.max(e,i/1.5),n=1):r<e&&(e=Math.min(e,1.5*r),n=-1),this.a){var s=yr(o,e,this.a);o.wb(o.Ec(s))}return o.Xc(e),0<n?o.animate({resolution:i,easing:Ve,anchor:this.a,duration:500}):n<0&&o.animate({resolution:r,easing:Ve,anchor:this.a,duration:500}),this.g=t,!1}return this.l+=e,t=Math.max(this.Y-(t-this.g),0),clearTimeout(this.u),this.u=setTimeout(this.G.bind(this,o),t),!1}r(nn,he),r(sn,Jr),sn.prototype.j=function(){var t=(s=this.v).$(),e=s.Mb(),o=this.U().D();if(this.G){var i,r,n=t.ed(e),s=(o=[s.Ka(_(o)),s.Ka(rt(o))],X(1/0,1/0,-1/0,-1/0,void 0));for(i=0,r=o.length;i<r;++i)Y(s,o[i]);pt(n,1/gr(s,e)),o=n}e=t.constrainResolution(gr(o,e)),n=Q(o),n=t.Ec(n),t.animate({resolution:e,center:n,duration:this.C,easing:Ve})},r(an,xr),r(hn,xr),r(un,xr),un.prototype.C=function(){this.o=void 0,mr(this.v.$(),1,-1)},un.prototype.G=function(t){0<dr(t=t.$())[0]&&ur(t),Sr(t,-x(this.l,-1,1),this.a,this.R),this.j=void 0,this.l=0,this.a=null,this.u=this.g=void 0},un.prototype.S=function(t){(this.A=t)||(this.a=null)};var yn="trackpad",fn="wheel";function dn(t){Or.call(this,{handleDownEvent:mn,handleDragEvent:gn,handleUpEvent:vn}),t=t||{},this.g=null,this.j=void 0,this.a=!1,this.o=0,this.C=void 0!==t.threshold?t.threshold:.3,this.u=void 0!==t.duration?t.duration:250}function gn(t){var e=0,o=this.l[0],i=this.l[1];o=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);void 0!==this.j&&(e=o-this.j,this.o+=e,!this.a&&Math.abs(this.o)>this.C&&(this.a=!0)),this.j=o,o=(t=t.map).c.getBoundingClientRect(),(i=Fr(this.l))[0]-=o.left,i[1]-=o.top,this.g=t.Za(i),this.a&&(i=(o=t.$()).Va(),t.render(),Mr(o,i+e,this.g))}function vn(t){if(this.l.length<2){if(mr(t=t.map.$(),1,-1),this.a){var e=t.Va(),o=this.g,i=this.u;Mr(t,e=t.constrainRotation(e,0),o,i)}return!1}return!0}function mn(t){return 2<=this.l.length&&(t=t.map,this.g=null,this.j=void 0,this.a=!1,this.o=0,this.A||mr(t.$(),1,1),!0)}function bn(t){Or.call(this,{handleDownEvent:Mn,handleDragEvent:wn,handleUpEvent:xn}),t=t||{},this.o=t.constrainResolution||!1,this.g=null,this.u=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function wn(t){var e=1,o=this.l[0],i=this.l[1],r=o.clientX-i.clientX;o=o.clientY-i.clientY,r=Math.sqrt(r*r+o*o);void 0!==this.a&&(e=this.a/r),this.a=r;i=(r=(t=t.map).$()).Ua();var n=r.a,s=r.i;n<(o=i*e)?(e=n/i,o=n):o<s&&(e=s/i,o=s),1!=e&&(this.j=e),e=t.c.getBoundingClientRect(),(i=Fr(this.l))[0]-=e.left,i[1]-=e.top,this.g=t.Za(i),t.render(),Pr(r,o,this.g)}function xn(t){if(this.l.length<2){mr(t=t.map.$(),1,-1);var e=t.Ua();if(this.o||e<t.i||e>t.a){var o=this.g,i=this.u;Pr(t,e=t.constrainResolution(e,0,this.j-1),o,i)}return!1}return!0}function Mn(t){return 2<=this.l.length&&(t=t.map,this.g=null,this.a=void 0,this.j=1,this.A||mr(t.$(),1,1),!0)}function Sn(t){t=t||{};var e=new be,o=new br(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Wr),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Lr({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Ur({kinetic:o})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new dn),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new bn({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new an),e.push(new hn({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new un({duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new sn({duration:t.zoomDuration})),e}function Pn(t){fe.call(this);var e=lt({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,De:!0}}function Ln(t){return t.a.opacity=x(t.ic(),0,1),t.a.Ui=t.Nf(),t.a.visible=t.Kb(),t.a.extent=t.D(),t.a.zIndex=t.za(),t.a.maxResolution=t.gc(),t.a.minResolution=Math.max(t.hc(),0),t.a}function Cn(t){var e=t||{};delete(t=lt({},e)).layers,e=e.layers,Pn.call(this,t),this.i=[],this.c={},oe(this,ge(An),this.nl,this),e?Array.isArray(e)?e=new be(e.slice()):k(e instanceof be,43):e=new be,this.Sh(e)}r(dn,Or),dn.prototype.Zc=Mi,r(bn,Or),bn.prototype.Zc=Mi,r(Pn,fe),(t=Pn.prototype).D=function(){return this.get("extent")},t.gc=function(){return this.get("maxResolution")},t.hc=function(){return this.get("minResolution")},t.ic=function(){return this.get("opacity")},t.Kb=function(){return this.get("visible")},t.za=function(){return this.get("zIndex")},t.uc=function(t){this.set("extent",t)},t.zc=function(t){this.set("maxResolution",t)},t.Ac=function(t){this.set("minResolution",t)},t.vc=function(t){this.set("opacity",t)},t.wc=function(t){this.set("visible",t)},t.Wb=function(t){this.set("zIndex",t)},r(Cn,Pn),(t=Cn.prototype).Dd=function(){},t.ze=function(){this.Kb()&&this.s()},t.nl=function(){this.i.forEach(ne),this.i.length=0;var t,e,o=this.od();for(var i in this.i.push(oe(o,"add",this.ml,this),oe(o,"remove",this.ol,this)),this.c)this.c[i].forEach(ne);for(ut(this.c),i=0,t=(o=o.a).length;i<t;i++)e=o[i],this.c[U(e).toString()]=[oe(e,"propertychange",this.ze,this),oe(e,"change",this.ze,this)];this.s()},t.ml=function(t){var e=U(t=t.element).toString();this.c[e]=[oe(t,"propertychange",this.ze,this),oe(t,"change",this.ze,this)],this.s()},t.ol=function(t){t=U(t.element).toString(),this.c[t].forEach(ne),delete this.c[t],this.s()},t.od=function(){return this.get(An)},t.Sh=function(t){this.set(An,t)},t.Lf=function(t){var e,o,i=void 0!==t?t:[],r=i.length;for(this.od().forEach(function(t){t.Lf(i)}),t=Ln(this),e=i.length;r<e;r++)(o=i[r]).opacity*=t.opacity,o.visible=o.visible&&t.visible,o.maxResolution=Math.min(o.maxResolution,t.maxResolution),o.minResolution=Math.max(o.minResolution,t.minResolution),void 0!==t.extent&&(o.extent=void 0!==o.extent?ot(o.extent,t.extent):t.extent);return i},t.Nf=function(){return"ready"};var An="layers";function En(t){mt.call(this,{code:t,units:"m",extent:jn,global:!0,worldExtent:Rn,getPointResolution:function(t,e){return t/y(e[1]/6378137)}})}r(En,mt);var Tn=6378137*Math.PI,jn=[-Tn,-Tn,Tn,Tn],Rn=[-180,-85,180,85],In="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new En(t)});function Nn(t,e,o){var i=t.length;o=1<o?o:2,void 0===e&&(e=2<o?t.slice():Array(i));for(var r=0;r<i;r+=o){e[r]=Tn*t[r]/180;var n=6378137*Math.log(Math.tan(Math.PI*(t[r+1]+90)/360));Tn<n?n=Tn:n<-Tn&&(n=-Tn),e[r+1]=n}return e}function kn(t,e,o){var i=t.length;o=1<o?o:2,void 0===e&&(e=2<o?t.slice():Array(i));for(var r=0;r<i;r+=o)e[r]=180*t[r]/Tn,e[r+1]=360*Math.atan(Math.exp(t[r+1]/6378137))/Math.PI-90;return e}var Dn=new ft(6378137);function On(t,e){mt.call(this,{code:t,units:"degrees",extent:Fn,axisOrientation:e,global:!0,metersPerUnit:Gn,worldExtent:Fn})}r(On,mt);var Fn=[-180,-90,180,90],Gn=Math.PI*Dn.radius/180,Un=[new On("CRS:84"),new On("EPSG:4326","neu"),new On("urn:ogc:def:crs:EPSG::4326","neu"),new On("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new On("urn:ogc:def:crs:OGC:1.3:CRS84"),new On("urn:ogc:def:crs:OGC:2:84"),new On("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new On("urn:x-ogc:def:crs:EPSG:4326","neu")];function Bn(){var t,o,i;Pt(In),Pt(Un),t=In,o=Nn,i=kn,Un.forEach(function(e){t.forEach(function(t){xt(e,t,o),xt(t,e,i)})})}function Vn(t){var e=lt({},t);delete e.source,Pn.call(this,e),this.u=this.o=this.j=null,t.map&&this.setMap(t.map),oe(this,ge("source"),this.Al,this),this.Yc(t.source?t.source:null)}function Xn(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function Wn(){this.b={},this.a=0}r(Vn,Pn),(t=Vn.prototype).Lf=function(t){return(t=t||[]).push(Ln(this)),t},t.la=function(){return this.get("source")||null},t.Nf=function(){var t=this.la();return t?t.V():"undefined"},t.kn=function(){this.s()},t.Al=function(){this.u&&(ne(this.u),this.u=null);var t=this.la();t&&(this.u=oe(t,"change",this.kn,this)),this.s()},t.setMap=function(t){this.j&&(ne(this.j),this.j=null),t||this.s(),this.o&&(ne(this.o),this.o=null),t&&(this.j=oe(t,"precompose",function(t){var e=Ln(this);e.De=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[U(this)]=e},this),this.o=oe(this,"change",t.render,t),this.s())},t.Yc=function(t){this.set("source",t)},Wn.prototype.clear=function(){this.b={},this.a=0},Wn.prototype.get=function(t,e,o){return(t=e+":"+t+":"+(o?Ce(o):"null"))in this.b?this.b[t]:null},Wn.prototype.set=function(t,e,o,i){this.b[e+":"+t+":"+(o?Ce(o):"null")]=i,++this.a};var zn=new Wn,$n=Array(6);function Zn(t){return Hn(t,1,0,0,1,0,0)}function Yn(t,e){var o=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],p=e[0],h=e[1],l=e[2],u=e[3],c=e[4],y=e[5];return t[0]=o*p+r*h,t[1]=i*p+n*h,t[2]=o*l+r*u,t[3]=i*l+n*u,t[4]=o*c+r*y+s,t[5]=i*c+n*y+a,t}function Hn(t,e,o,i,r,n,s){return t[0]=e,t[1]=o,t[2]=i,t[3]=r,t[4]=n,t[5]=s,t}function Kn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Jn(t,e){var o=e[0],i=e[1];return e[0]=t[0]*o+t[2]*i+t[4],e[1]=t[1]*o+t[3]*i+t[5],e}function _n(t,e){var o=Math.cos(e),i=Math.sin(e);Yn(t,Hn($n,o,i,-i,o,0,0))}function qn(t,e,o){return Yn(t,Hn($n,e,0,0,o,0,0))}function Qn(t,e,o){Yn(t,Hn($n,1,0,0,1,e,o))}function ts(t,e,o,i,r,n,s,a){var p=Math.sin(n);return n=Math.cos(n),t[0]=i*n,t[1]=r*p,t[2]=-i*p,t[3]=r*n,t[4]=s*i*n-a*i*p+e,t[5]=s*r*p+a*r*n+o,t}function es(t){var e=t[0]*t[3]-t[1]*t[2];k(!!e,32);var o=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5];return t[0]=n/e,t[1]=-i/e,t[2]=-r/e,t[3]=o/e,t[4]=(r*a-n*s)/e,t[5]=-(o*a-i*s)/e,t}function os(t,e){this.j=e,this.c={},this.v={}}function is(t){var e=t.viewState,o=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;ts(o,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),es(Kn(i,o))}function rs(){if(32<zn.a){var t,e,o=0;for(t in zn.b)e=zn.b[t],3&o++||ce(e)||(delete zn.b[t],--zn.a)}}function ns(t,e){var o=U(e).toString();if(o in t.c)return t.c[o];var i=e.Dd(t);return t.c[o]=i,t.v[o]=oe(i,"change",t.ll,t),i}function ss(t,e){for(var o in t.c)if(!(o in e.layerStates)){e.postRenderFunctions.push(t.gp.bind(t));break}}function as(t,e){return t.zIndex-e.zIndex}function ps(t,e,o,i,r){he.call(this,t),this.vectorContext=e,this.frameState=o,this.context=i,this.glContext=r}r(os,ae),(t=os.prototype).ra=function(){for(var t in this.c)pe(this.c[t])},t.Aa=function(t,r,e,n,s,o,i){function a(t,e){var o=U(t).toString(),i=r.layerStates[U(e)].De;if(!(o in r.skippedFeatureUids)||i)return n.call(s,t,i?e:null)}var p,h=(u=r.viewState).resolution,l=u.projection,u=t;if(l.a){var c=nt(l=l.D());((f=t[0])<l[0]||f>l[2])&&(u=[f+c*Math.ceil((l[0]-f)/c),t[1]])}for(c=(l=r.layerStatesArray).length-1;0<=c;--c){var y=l[c],f=y.layer;if(Xn(y,h)&&o.call(i,f)&&(y=ns(this,f),f.la()&&(p=y.Aa(f.la().G?u:t,r,e,a,s)),p))return p}},t.Zh=function(t,e,o,i,r){return void 0!==this.Aa(t,e,o,xi,this,i,r)},t.ll=function(){this.j.render()},t.vg=a,t.gp=function(t,e){for(var o in this.c)if(!(e&&o in e.layerStates)){var i=o,r=this.c[i];delete this.c[i],ne(this.v[i]),delete this.v[i],pe(r)}},r(ps,he);var hs=[0,0,0,1],ls=[],us=[0,0,0,1];function cs(t,e,o,i){e&&(t.translate(o,i),t.rotate(e),t.translate(-o,-i))}function ys(){}function fs(t,e,o,i,r){this.f=t,this.I=e,this.c=o,this.u=i,this.mb=r,this.M=this.b=this.a=this.$a=this.S=this.R=null,this.eb=this.Y=this.o=this.G=this.C=this.A=0,this.ea=!1,this.i=this.ia=0,this.oa=!1,this.qa=0,this.Fa="",this.Ja=this.Zb=0,this.Ha=!1,this.l=this.Oa=0,this.ta=this.j=this.g=null,this.v=[],this.lb=[1,0,0,1,0,0]}function ds(t,e,o){if(t.M){e=Pi(e,0,o,2,t.u,t.v),o=t.f;var i=t.lb,r=o.globalAlpha;1!=t.o&&(o.globalAlpha=r*t.o);var n,s,a=t.ia;for(t.ea&&(a+=t.mb),n=0,s=e.length;n<s;n+=2){var p=e[n]-t.A,h=e[n+1]-t.C;if(t.oa&&(p=Math.round(p),h=Math.round(h)),a||1!=t.i){var l=p+t.A,u=h+t.C;ts(i,l,u,t.i,t.i,a,-l,-u),o.setTransform.apply(o,i)}o.drawImage(t.M,t.Y,t.eb,t.qa,t.G,p,h,t.qa,t.G)}(a||1!=t.i)&&o.setTransform(1,0,0,1,0,0),1!=t.o&&(o.globalAlpha=r)}}function gs(t,e,o,i){var r=0;if(t.ta&&""!==t.Fa){t.g&&bs(t,t.g),t.j&&ws(t,t.j);var n=t.ta,s=t.f;for((a=t.$a)?(a.font!=n.font&&(a.font=s.font=n.font),a.textAlign!=n.textAlign&&(a.textAlign=s.textAlign=n.textAlign),a.textBaseline!=n.textBaseline&&(a.textBaseline=s.textBaseline=n.textBaseline)):(s.font=n.font,s.textAlign=n.textAlign,s.textBaseline=n.textBaseline,t.$a={font:n.font,textAlign:n.textAlign,textBaseline:n.textBaseline}),e=Pi(e,r,o,i,t.u,t.v),n=t.f,s=t.Oa,t.Ha&&(s+=t.mb);r<o;r+=i){var a=e[r]+t.Zb,p=e[r+1]+t.Ja;if(s||1!=t.l){var h=ts(t.lb,a,p,t.l,t.l,s,-a,-p);n.setTransform.apply(n,h)}t.j&&n.strokeText(t.Fa,a,p),t.g&&n.fillText(t.Fa,a,p)}(s||1!=t.l)&&n.setTransform(1,0,0,1,0,0)}}function vs(t,e,o,i,r,n){var s=t.f;for(t=Pi(e,o,i,r,t.u,t.v),s.moveTo(t[0],t[1]),e=t.length,n&&(e-=2),o=2;o<e;o+=2)s.lineTo(t[o],t[o+1]);return n&&s.closePath(),i}function ms(t,e,o,i,r){var n,s;for(n=0,s=i.length;n<s;++n)o=vs(t,e,o,i[n],r,!0);return o}function bs(t,e){var o=t.f,i=t.R;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=o.fillStyle=e.fillStyle):(o.fillStyle=e.fillStyle,t.R={fillStyle:e.fillStyle})}function ws(t,e){var o=t.f,i=t.S;i?(i.lineCap!=e.lineCap&&(i.lineCap=o.lineCap=e.lineCap),wo&&!G(i.lineDash,e.lineDash)&&o.setLineDash(i.lineDash=e.lineDash),i.lineJoin!=e.lineJoin&&(i.lineJoin=o.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=o.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=o.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=o.strokeStyle=e.strokeStyle)):(o.lineCap=e.lineCap,wo&&o.setLineDash(e.lineDash),o.lineJoin=e.lineJoin,o.lineWidth=e.lineWidth,o.miterLimit=e.miterLimit,o.strokeStyle=e.strokeStyle,t.S={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function xs(t,e){os.call(this,0,e),this.f=Ne(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=[1,0,0,1,0,0]}function Ms(t,e,o){var i=t.j,r=t.f;if(ce(i,e)){var n=o.extent,s=o.pixelRatio,a=o.viewState.rotation,p=o.viewState,h=o.pixelRatio/p.resolution;t=ts(t.i,t.b.width/2,t.b.height/2,h,-h,-p.rotation,-p.center[0],-p.center[1]),i.b(new ps(e,new fs(r,s,n,t,a),o,r,null))}}(t=ys.prototype).mc=function(){},t.pd=function(){},t.$b=function(){},t.oe=function(){},t.pe=function(){},t.Qb=function(){},t.nc=function(){},t.oc=function(){},t.pc=function(){},t.qc=function(){},t.rc=function(){},t.xc=function(){},t.Na=function(){},t.Vb=function(){},t.Tb=function(){},r(fs,ys),(t=fs.prototype).$b=function(t){if(st(this.c,t.D())){if(this.a||this.b){var e;this.a&&bs(this,this.a),this.b&&ws(this,this.b),e=this.u;var o=this.v,i=t.ha();o=(e=i?Pi(i,0,i.length,t.sa(),e,o):null)[2]-e[0],i=e[3]-e[1],o=Math.sqrt(o*o+i*i),(i=this.f).beginPath(),i.arc(e[0],e[1],o,0,2*Math.PI),this.a&&i.fill(),this.b&&i.stroke()}""!==this.Fa&&gs(this,t.Ba(),2,2)}},t.pd=function(t){this.Na(t.Ca(),t.Da()),this.Vb(t.Z()),this.Tb(t.Pa())},t.mc=function(t){switch(t.T()){case"Point":this.qc(t);break;case"LineString":this.Qb(t);break;case"Polygon":this.rc(t);break;case"MultiPoint":this.oc(t);break;case"MultiLineString":this.nc(t);break;case"MultiPolygon":this.pc(t);break;case"GeometryCollection":this.pe(t);break;case"Circle":this.$b(t)}},t.oe=function(t,e){var o=(0,e.Ra)(t);o&&st(this.c,o.D())&&(this.pd(e),this.mc(o))},t.pe=function(t){var e,o;for(e=0,o=(t=t.a).length;e<o;++e)this.mc(t[e])},t.qc=function(t){var e=t.ha();t=t.sa(),this.M&&ds(this,e,e.length),""!==this.Fa&&gs(this,e,e.length,t)},t.oc=function(t){var e=t.ha();t=t.sa(),this.M&&ds(this,e,e.length),""!==this.Fa&&gs(this,e,e.length,t)},t.Qb=function(t){if(st(this.c,t.D())){if(this.b){ws(this,this.b);var e=this.f,o=t.ha();e.beginPath(),vs(this,o,0,o.length,t.sa(),!1),e.stroke()}""!==this.Fa&&gs(this,t=_h(t),2,2)}},t.nc=function(t){var e=t.D();if(st(this.c,e)){if(this.b){ws(this,this.b);e=this.f;var o,i,r=t.ha(),n=0,s=t.Rb(),a=t.sa();for(e.beginPath(),o=0,i=s.length;o<i;++o)n=vs(this,r,n,s[o],a,!1);e.stroke()}""!==this.Fa&&gs(this,t=Qh(t),t.length,2)}},t.rc=function(t){if(st(this.c,t.D())){if(this.b||this.a){this.a&&bs(this,this.a),this.b&&ws(this,this.b);var e=this.f;e.beginPath(),ms(this,t.fc(),0,t.Rb(),t.sa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.Fa&&gs(this,t=nr(t),2,2)}},t.pc=function(t){if(st(this.c,t.D())){if(this.b||this.a){this.a&&bs(this,this.a),this.b&&ws(this,this.b);var e,o,i=this.f,r=rl(t),n=0,s=t.c,a=t.sa();for(i.beginPath(),e=0,o=s.length;e<o;++e)n=ms(this,r,n,s[e],a);this.a&&i.fill(),this.b&&i.stroke()}""!==this.Fa&&gs(this,t=il(t),t.length,2)}},t.Na=function(t,e){if(t){var o=t.b;this.a={fillStyle:Re(o||hs)}}else this.a=null;if(e){o=e.a;var i=e.i,r=e.f,n=e.g,s=e.l,a=e.c,p=e.j;this.b={lineCap:void 0!==i?i:"round",lineDash:r||ls,lineDashOffset:n||0,lineJoin:void 0!==s?s:"round",lineWidth:this.I*(void 0!==a?a:1),miterLimit:void 0!==p?p:10,strokeStyle:Re(o||us)}}else this.b=null},t.Vb=function(t){if(t){var e=t.Hc(),o=t.Z(1),i=t.Pc(),r=t.jc();this.A=e[0],this.C=e[1],this.G=r[1],this.M=o,this.o=t.g,this.Y=i[0],this.eb=i[1],this.ea=t.o,this.ia=t.l,this.i=t.c,this.oa=t.v,this.qa=r[0]}else this.M=null},t.Tb=function(t){if(t){if((e=t.Ca())?(e=e.b,this.g={fillStyle:Re(e||hs)}):this.g=null,a=t.Da()){var e=a.a,o=a.i,i=a.f,r=a.g,n=a.l,s=a.c,a=a.j;this.j={lineCap:void 0!==o?o:"round",lineDash:i||ls,lineDashOffset:r||0,lineJoin:void 0!==n?n:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:Re(e||us)}}else this.j=null;e=t.a,o=t.f,i=t.c,r=t.j,n=t.i,s=t.b,a=t.Pa();var p=t.g;t=t.l,this.ta={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==p?p:"center",textBaseline:void 0!==t?t:"middle"},this.Fa=void 0!==a?a:"",this.Zb=void 0!==o?this.I*o:0,this.Ja=void 0!==i?this.I*i:0,this.Ha=void 0!==r&&r,this.Oa=void 0!==n?n:0,this.l=this.I*(void 0!==s?s:1)}else this.Fa=""},r(xs,os),xs.prototype.T=function(){return"canvas"},xs.prototype.vg=function(t){if(t){var e=this.f,o=t.pixelRatio,i=Math.round(t.size[0]*o),r=Math.round(t.size[1]*o);this.b.width!=i||this.b.height!=r?(this.b.width=i,this.b.height=r):e.clearRect(0,0,i,r),o=t.viewState.rotation,is(t),Ms(this,"precompose",t);var n=t.layerStatesArray;h(n),o&&(e.save(),cs(e,o,i/2,r/2));var s,a,p;i=t.viewState.resolution,r=0;for(s=n.length;r<s;++r)a=ns(this,a=(p=n[r]).layer),Xn(p,i)&&"ready"==p.Ui&&a.qd(t,p)&&a.I(t,p,e);o&&e.restore(),Ms(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),ss(this,t),t.postRenderFunctions.push(rs)}else this.a&&(this.b.style.display="none",this.a=!1)},xs.prototype.Yh=function(t,e,o,i,r,n){var s,a=e.viewState.resolution,p=e.layerStatesArray,h=p.length;for(t=Jn(e.pixelToCoordinateTransform,t.slice()),--h;0<=h;--h){var l=(s=p[h]).layer;if(Xn(s,a)&&r.call(n,l)&&(s=ns(this,l).v(t,e,o,i)))return s}};var Ss=["Polygon","Circle","LineString","Image","Text"];function Ps(){}function Ls(t){this.b=t}function Cs(t){this.b=t}function As(t){this.b=t}function Es(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}r(Cs,Ls),Cs.prototype.T=function(){return 35632},r(As,Ls),As.prototype.T=function(){return 35633},r(Es,Cs);var Ts=new Es;function js(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}r(js,As);var Rs=new js;function Is(t,e){this.G=t.getUniformLocation(e,"n"),this.qa=t.getUniformLocation(e,"k"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ta=t.getUniformLocation(e,"l"),this.f=t.getUniformLocation(e,"h"),this.R=t.getUniformLocation(e,"p"),this.S=t.getUniformLocation(e,"o"),this.l=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e"),this.u=t.getAttribLocation(e,"g")}function Ns(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function ks(t,e){this.origin=Q(e),this.mb=[1,0,0,1,0,0],this.Oa=[1,0,0,1,0,0],this.lb=[1,0,0,1,0,0],this.Ja=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.b=[],this.o=null,this.f=[],this.g=[],this.a=[],this.v=null,this.l=void 0}function Ds(t,e,o,i){t.drawElements(4,i-o,e.g?5125:5123,o*(e.g?4:2))}r(ks,ys),ks.prototype.i=function(t,e,o,i,r,n,s,a,p,h,l){var u,c,y,f,d,g,v,m,b=t.b;this.l&&(u=b.isEnabled(b.STENCIL_TEST),c=b.getParameter(b.STENCIL_FUNC),y=b.getParameter(b.STENCIL_VALUE_MASK),f=b.getParameter(b.STENCIL_REF),d=b.getParameter(b.STENCIL_WRITEMASK),g=b.getParameter(b.STENCIL_FAIL),v=b.getParameter(b.STENCIL_PASS_DEPTH_PASS),m=b.getParameter(b.STENCIL_PASS_DEPTH_FAIL),b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilMask(255),b.stencilFunc(b.ALWAYS,1,255),b.stencilOp(b.KEEP,b.KEEP,b.REPLACE),this.l.i(t,e,o,i,r,n,s,a,p,h,l),b.stencilMask(0),b.stencilFunc(b.NOTEQUAL,1,255)),_s(t,34962,this.v),_s(t,34963,this.o),n=this.ff(b,t,r,n);var w,x=Zn(this.mb);return qn(x,2/(o*r[0]),2/(o*r[1])),_n(x,-i),Qn(x,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),qn(e=Zn(this.lb),2/r[0],2/r[1]),r=Zn(this.Oa),i&&_n(r,-i),b.uniformMatrix4fv(n.f,!1,Ns(this.Ja,x)),b.uniformMatrix4fv(n.i,!1,Ns(this.Ja,e)),b.uniformMatrix4fv(n.c,!1,Ns(this.Ja,r)),b.uniform1f(n.a,s),p?(h?t=this.qe(b,t,a,p,l):(b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.Md(b,t,a,!0),t=(t=p(null))?t:void 0),w=t):this.Md(b,t,a,!1),this.gf(b,n),this.l&&(u||b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(c,f,y),b.stencilMask(d),b.stencilOp(g,m,v)),w};var Os=[0,0,0,1],Fs=[],Gs=[0,0,0,1];function Us(t,e,o,i,r,n){return(t=(o-t)*(n-e)-(r-t)*(i-e))<=Bs&&-Bs<=t?void 0:0<t}var Bs=Number.EPSILON||2220446049250313e-31;function Vs(t){this.b=void 0!==t?t:[],this.a=Xs}var Xs=35044;function Ws(t,e){ks.call(this,0,e),this.I=null,this.j=[],this.u=[],this.A=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}function zs(t,e,o,i){e.uniform4fv(t.I.S,o),e.uniform1f(t.I.qa,i)}function $s(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}r(Ws,ks),(t=Ws.prototype).$b=function(t,e){var o=t.Vd(),i=t.sa();if(o){this.f.push(this.b.length),this.g.push(e),this.c.s&&(this.u.push(this.b.length),this.c.s=!1),this.A=o;o=Li(o=t.ha(),2,i,-this.origin[0],-this.origin[1]);var r,n=this.a.length,s=this.b.length,a=n/4;for(r=0;r<2;r+=i)this.a[n++]=o[r],this.a[n++]=o[r+1],this.a[n++]=0,this.a[n++]=this.A,this.a[n++]=o[r],this.a[n++]=o[r+1],this.a[n++]=1,this.a[n++]=this.A,this.a[n++]=o[r],this.a[n++]=o[r+1],this.a[n++]=2,this.a[n++]=this.A,this.a[n++]=o[r],this.a[n++]=o[r+1],this.a[n++]=3,this.a[n++]=this.A,this.b[s++]=a,this.b[s++]=a+1,this.b[s++]=a+2,this.b[s++]=a+2,this.b[s++]=a+3,this.b[s++]=a,a+=4}else this.c.s&&(this.j.pop(),this.j.length&&(i=this.j[this.j.length-1],this.c.fillColor=i[0],this.c.strokeColor=i[1],this.c.lineWidth=i[2],this.c.s=!1))},t.Bb=function(){this.v=new Vs(this.a),this.o=new Vs(this.b),this.f.push(this.b.length),!this.u.length&&0<this.j.length&&(this.j=[]),this.b=this.a=null},t.Cb=function(t){var e=this.v,o=this.o;return function(){qs(t,e),qs(t,o)}},t.ff=function(t,e,o,i){var r,n=ea(e,Ts,Rs);return this.I?r=this.I:this.I=r=new Is(t,n),e.Rc(n),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,16,0),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,1,5126,!1,16,8),t.enableVertexAttribArray(r.u),t.vertexAttribPointer(r.u,1,5126,!1,16,12),t.uniform2fv(r.R,o),t.uniform1f(r.ta,i),r},t.gf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.u)},t.Md=function(t,e,o){var i,r,n,s,a,p;if(yt(o))for(r=this.f[this.f.length-1],o=this.u.length-1;0<=o;--o)i=this.u[o],n=this.j[o],t.uniform4fv(this.I.G,n[0]),zs(this,t,n[1],n[2]),Ds(t,e,i,r),r=i;else for(a=this.f.length-2,n=r=this.f[a+1],i=this.u.length-1;0<=i;--i){for(s=this.j[i],t.uniform4fv(this.I.G,s[0]),zs(this,t,s[1],s[2]),s=this.u[i];0<=a&&this.f[a]>=s;)p=this.f[a],o[U(this.g[a]).toString()]&&(r!==n&&Ds(t,e,r,n),n=p),a--,r=p;r!==n&&Ds(t,e,r,n),r=n=s}},t.qe=function(t,e,o,i,r){var n,s,a,p,h,l;for(l=this.f.length-2,a=this.f[l+1],n=this.u.length-1;0<=n;--n)for(s=this.j[n],t.uniform4fv(this.I.G,s[0]),zs(this,t,s[1],s[2]),p=this.u[n];0<=l&&this.f[l]>=p;){if(s=this.f[l],void 0===o[U(h=this.g[l]).toString()]&&h.U()&&(void 0===r||st(r,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Ds(t,e,s,a),a=i(h)))return a;l--,a=s}},t.Na=function(t,e){var o,i;e?(o=e.f,this.c.lineDash=o||Fs,o=e.g,this.c.lineDashOffset=o||0,o=(o=e.a)instanceof CanvasGradient||o instanceof CanvasPattern?Gs:Le(o).map(function(t,e){return 3!=e?t/255:t})||Gs,i=void 0!==(i=e.c)?i:1):(o=[0,0,0,0],i=0);var r=t?t.b:[0,0,0,0];r=r instanceof CanvasGradient||r instanceof CanvasPattern?Os:Le(r).map(function(t,e){return 3!=e?t/255:t})||Os,this.c.strokeColor&&G(this.c.strokeColor,o)&&this.c.fillColor&&G(this.c.fillColor,r)&&this.c.lineWidth===i||(this.c.s=!0,this.c.fillColor=r,this.c.strokeColor=o,this.c.lineWidth=i,this.j.push([r,o,i]))},r($s,Cs);var Zs=new $s;function Ys(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}r(Ys,As);var Hs=new Ys;function Ks(t,e){this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"k"),this.f=t.getUniformLocation(e,"h"),this.v=t.getAttribLocation(e,"e"),this.I=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"c"),this.A=t.getAttribLocation(e,"g"),this.C=t.getAttribLocation(e,"d")}function Js(t,e){this.l=t,this.b=e,this.a={},this.c={},this.f={},this.o=this.v=this.i=this.j=null,(this.g=v(o,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),oe(this.l,"webglcontextlost",this.mo,this),oe(this.l,"webglcontextrestored",this.no,this)}function _s(t,e,o){var i=t.b,r=o.b,n=String(U(o));if(n in t.a)i.bindBuffer(e,t.a[n].buffer);else{var s,a=i.createBuffer();i.bindBuffer(e,a),34962==e?s=new Float32Array(r):34963==e&&(s=t.g?new Uint32Array(r):new Uint16Array(r)),i.bufferData(e,s,o.a),t.a[n]={lc:o,buffer:a}}}function qs(t,e){var o=t.b,i=String(U(e)),r=t.a[i];o.isContextLost()||o.deleteBuffer(r.buffer),delete t.a[i]}function Qs(t){if(!t.i){var e=t.b,o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o);var i=ia(e,1,1),r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=o,t.v=i,t.o=r}return t.i}function ta(t,e){var o=String(U(e));if(o in t.c)return t.c[o];var i=t.b,r=i.createShader(e.T());return i.shaderSource(r,e.b),i.compileShader(r),t.c[o]=r}function ea(t,e,o){var i=U(e)+"/"+U(o);if(i in t.f)return t.f[i];var r=t.b,n=r.createProgram();return r.attachShader(n,ta(t,e)),r.attachShader(n,ta(t,o)),r.linkProgram(n),t.f[i]=n}function oa(t,e,o){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==o&&t.texParameteri(3553,10243,o),i}function ia(t,e,o){var i=oa(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,o,0,t.RGBA,t.UNSIGNED_BYTE,null),i}function ra(t,e){var o=oa(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),o}function na(t,e){ks.call(this,0,e),this.G=this.C=void 0,this.A=[],this.I=[],this.ta=void 0,this.j=[],this.c=[],this.S=this.R=void 0,this.qa=null,this.oa=this.ia=this.ea=this.eb=this.Y=this.$a=void 0,this.Ha=[],this.u=[],this.Zb=void 0}function sa(t,e,o,i){var r,n,s,a,p,h,l=t.C,u=t.G,c=t.ta,y=t.R,f=t.S,d=t.$a,g=t.Y,v=t.eb,m=t.ea?1:0,b=-t.ia,w=t.oa,x=t.Zb,M=Math.cos(b),S=(b=Math.sin(b),t.b.length),P=t.a.length;for(r=0;r<o;r+=i)p=e[r]-t.origin[0],h=e[r+1]-t.origin[1],n=P/8,s=-w*l,a=-w*(c-u),t.a[P++]=p,t.a[P++]=h,t.a[P++]=s*M-a*b,t.a[P++]=s*b+a*M,t.a[P++]=g/f,t.a[P++]=(v+c)/y,t.a[P++]=d,t.a[P++]=m,s=w*(x-l),a=-w*(c-u),t.a[P++]=p,t.a[P++]=h,t.a[P++]=s*M-a*b,t.a[P++]=s*b+a*M,t.a[P++]=(g+x)/f,t.a[P++]=(v+c)/y,t.a[P++]=d,t.a[P++]=m,s=w*(x-l),a=w*u,t.a[P++]=p,t.a[P++]=h,t.a[P++]=s*M-a*b,t.a[P++]=s*b+a*M,t.a[P++]=(g+x)/f,t.a[P++]=v/y,t.a[P++]=d,t.a[P++]=m,s=-w*l,a=w*u,t.a[P++]=p,t.a[P++]=h,t.a[P++]=s*M-a*b,t.a[P++]=s*b+a*M,t.a[P++]=g/f,t.a[P++]=v/y,t.a[P++]=d,t.a[P++]=m,t.b[S++]=n,t.b[S++]=n+1,t.b[S++]=n+2,t.b[S++]=n,t.b[S++]=n+2,t.b[S++]=n+3}function aa(t,e,o,i){var r,n,s,a=e.length;for(s=0;s<a;++s)(n=U(r=e[s]).toString())in o?r=o[n]:(r=ra(i,r),o[n]=r),t[s]=r}function pa(t,e,o){var i=e-o;return t[0]===t[i]&&t[1]===t[i+1]&&3<(e-0)/o&&!!ji(t,0,e,o)}function ha(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}r(Js,ae),(t=Js.prototype).ra=function(){se(this.l);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.f)t.deleteProgram(this.f[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.o),t.deleteTexture(this.v)}},t.lo=function(){return this.b},t.mo=function(){ut(this.a),ut(this.c),ut(this.f),this.o=this.v=this.i=this.j=null},t.no=function(){},t.Rc=function(t){return t!=this.j&&(this.b.useProgram(t),this.j=t,!0)},r(na,ks),(t=na.prototype).Cb=function(o){var i=this.v,r=this.o,n=this.Ha,s=this.u,a=o.b;return function(){if(!a.isContextLost()){var t,e;for(t=0,e=n.length;t<e;++t)a.deleteTexture(n[t]);for(t=0,e=s.length;t<e;++t)a.deleteTexture(s[t])}qs(o,i),qs(o,r)}},t.oc=function(t,e){this.f.push(this.b.length),this.g.push(e);var o=t.ha();sa(this,o,o.length,t.sa())},t.qc=function(t,e){this.f.push(this.b.length),this.g.push(e);var o=t.ha();sa(this,o,o.length,t.sa())},t.Bb=function(t){t=t.b,this.A.push(this.b.length),this.I.push(this.b.length),this.v=new Vs(this.a),this.o=new Vs(this.b);var e={};aa(this.Ha,this.j,e,t),aa(this.u,this.c,e,t),this.ta=this.G=this.C=void 0,this.c=this.j=null,this.S=this.R=void 0,this.b=null,this.oa=this.ia=this.ea=this.eb=this.Y=this.$a=void 0,this.a=null,this.Zb=void 0},t.ff=function(t,e){var o,i=ea(e,Zs,Hs);return this.qa?o=this.qa:this.qa=o=new Ks(t,i),e.Rc(i),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,32,0),t.enableVertexAttribArray(o.v),t.vertexAttribPointer(o.v,2,5126,!1,32,8),t.enableVertexAttribArray(o.C),t.vertexAttribPointer(o.C,2,5126,!1,32,16),t.enableVertexAttribArray(o.I),t.vertexAttribPointer(o.I,1,5126,!1,32,24),t.enableVertexAttribArray(o.A),t.vertexAttribPointer(o.A,1,5126,!1,32,28),o},t.gf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.C),t.disableVertexAttribArray(e.I),t.disableVertexAttribArray(e.A)},t.Md=function(t,e,o,i){var r,n,s=i?this.u:this.Ha;if(i=i?this.I:this.A,yt(o))for(o=0,r=s.length,n=0;o<r;++o){t.bindTexture(3553,s[o]);var a=i[o];Ds(t,e,n,a),n=a}else for(n=r=0,a=s.length;n<a;++n){t.bindTexture(3553,s[n]);for(var p=0<n?i[n-1]:0,h=i[n],l=p;r<this.f.length&&this.f[r]<=h;){void 0!==o[U(this.g[r]).toString()]?(l!==p&&Ds(t,e,l,p),p=l=r===this.f.length-1?h:this.f[r+1]):p=r===this.f.length-1?h:this.f[r+1],r++}l!==p&&Ds(t,e,l,p)}},t.qe=function(t,e,o,i,r){var n,s,a,p,h,l=this.f.length-1;for(n=this.u.length-1;0<=n;--n)for(t.bindTexture(3553,this.u[n]),s=0<n?this.I[n-1]:0,p=this.I[n];0<=l&&this.f[l]>=s;){if(a=this.f[l],void 0===o[U(h=this.g[l]).toString()]&&h.U()&&(void 0===r||st(r,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Ds(t,e,a,p),p=i(h)))return p;p=a,l--}},t.Vb=function(t){var e=t.Hc(),o=t.Z(1),i=t.ue(),r=t.cg(1),n=t.g,s=t.Pc(),a=t.o,p=t.l,h=t.jc();t=t.c,this.j.length?U(this.j[this.j.length-1])!=U(o)&&(this.A.push(this.b.length),this.j.push(o)):this.j.push(o),this.c.length?U(this.c[this.c.length-1])!=U(r)&&(this.I.push(this.b.length),this.c.push(r)):this.c.push(r),this.C=e[0],this.G=e[1],this.ta=h[1],this.R=i[1],this.S=i[0],this.$a=n,this.Y=s[0],this.eb=s[1],this.ia=p,this.ea=a,this.oa=t,this.Zb=h[0]},r(ha,Cs);var la=new ha;function ua(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}r(ua,As);var ca=new ua;function ya(t,e){this.G=t.getUniformLocation(e,"n"),this.qa=t.getUniformLocation(e,"k"),this.S=t.getUniformLocation(e,"l"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ta=t.getUniformLocation(e,"p"),this.f=t.getUniformLocation(e,"h"),this.R=t.getUniformLocation(e,"o"),this.g=t.getAttribLocation(e,"g"),this.j=t.getAttribLocation(e,"d"),this.o=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e")}function fa(t,e){ks.call(this,0,e),this.I=null,this.u=[],this.j=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function da(t,e,o,i){var r,n,s,a,p,h,l,u=t.a.length,c=t.b.length,y="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,f="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,d=pa(e,o,i),g=c,v=1;for(r=0;r<o;r+=i){if(a=u/7,p=h,h=l||[e[r],e[r+1]],r){if(r===o-i){d?l=n:(u=ga(t,p=p||[0,0],h,[0,0],v*Ma*(f||1),u),u=ga(t,p,h,[0,0],-v*Ma*(f||1),u),t.b[c++]=a,t.b[c++]=g-1,t.b[c++]=g,t.b[c++]=g,t.b[c++]=a+1,t.b[c++]=a,f&&(u=ga(t,p,h,[0,0],v*Pa*f,u),u=ga(t,p,h,[0,0],-v*Pa*f,u),t.b[c++]=a+2,t.b[c++]=a,t.b[c++]=a+1,t.b[c++]=a+1,t.b[c++]=a+3,t.b[c++]=a+2));break}l=[e[r+i],e[r+i+1]]}else{if(l=[e[r+i],e[r+i+1]],o-0==2*i&&G(h,l))break;if(!d){f&&(u=ga(t,[0,0],h,l,v*Sa*f,u),u=ga(t,[0,0],h,l,-v*Sa*f,u),t.b[c++]=a+2,t.b[c++]=a,t.b[c++]=a+1,t.b[c++]=a+1,t.b[c++]=a+3,t.b[c++]=a+2),u=ga(t,[0,0],h,l,v*xa*(f||1),u),g=(u=ga(t,[0,0],h,l,-v*xa*(f||1),u))/7-1;continue}p=[e[o-2*i],e[o-2*i+1]],n=l}u=ga(t,p,h,l,(s=Us(p[0],p[1],h[0],h[1],l[0],l[1])?-1:1)*La*(y||1),u),u=ga(t,p,h,l,s*Ca*(y||1),u),u=ga(t,p,h,l,-s*Aa*(y||1),u),0<r&&(t.b[c++]=a,t.b[c++]=g-1,t.b[c++]=g,t.b[c++]=a+2,t.b[c++]=a,t.b[c++]=0<v*s?g:g-1),t.b[c++]=a,t.b[c++]=a+2,t.b[c++]=a+1,g=a+2,v=s,y&&(u=ga(t,p,h,l,s*Ea*y,u),t.b[c++]=a+1,t.b[c++]=a+3,t.b[c++]=a)}d&&(a=a||u/7,u=ga(t,p,h,l,(s=tr([p[0],p[1],h[0],h[1],l[0],l[1]],0,6,2)?1:-1)*La*(y||1),u),ga(t,p,h,l,-s*Aa*(y||1),u),t.b[c++]=a,t.b[c++]=g-1,t.b[c++]=g,t.b[c++]=a+1,t.b[c++]=a,t.b[c++]=0<v*s?g:g-1)}function ga(t,e,o,i,r,n){return t.a[n++]=e[0],t.a[n++]=e[1],t.a[n++]=o[0],t.a[n++]=o[1],t.a[n++]=i[0],t.a[n++]=i[1],t.a[n++]=r,n}function va(t,e,o){return!((e-=0)<2*o)&&(e!==2*o||!G([t[0],t[1]],[t[0+o],t[o+1]]))}function ma(t,e,o,i){var r;if(pa(e,e.length,i)||(e.push(e[0]),e.push(e[1])),da(t,e,e.length,i),o.length)for(e=0,r=o.length;e<r;++e)pa(o[e],o[e].length,i)||(o[e].push(o[e][0]),o[e].push(o[e][1])),da(t,o[e],o[e].length,i)}function ba(t,e,o){o=void 0===o?t.b.length:o,t.f.push(o),t.g.push(e),t.c.s&&(t.j.push(o),t.c.s=!1)}function wa(t,e,o,i,r){e.uniform4fv(t.I.G,o),e.uniform1f(t.I.qa,i),e.uniform1f(t.I.S,r)}r(fa,ks),(t=fa.prototype).Qb=function(t,e){var o=t.ha(),i=t.sa();va(o,o.length,i)&&(o=Li(o,o.length,i,-this.origin[0],-this.origin[1]),this.c.s&&(this.j.push(this.b.length),this.c.s=!1),this.f.push(this.b.length),this.g.push(e),da(this,o,o.length,i))},t.nc=function(t,e){var o,i,r=this.b.length,n=t.hd();for(o=0,i=n.length;o<i;++o){var s=n[o].ha(),a=n[o].sa();va(s,s.length,a)&&da(this,s=Li(s,s.length,a,-this.origin[0],-this.origin[1]),s.length,a)}this.b.length>r&&(this.f.push(r),this.g.push(e),this.c.s&&(this.j.push(r),this.c.s=!1))},t.Bb=function(){this.v=new Vs(this.a),this.o=new Vs(this.b),this.f.push(this.b.length),!this.j.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},t.Cb=function(t){var e=this.v,o=this.o;return function(){qs(t,e),qs(t,o)}},t.ff=function(t,e,o,i){var r,n=ea(e,la,ca);return this.I?r=this.I:this.I=r=new ya(t,n),e.Rc(n),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,2,5126,!1,28,0),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,28,8),t.enableVertexAttribArray(r.o),t.vertexAttribPointer(r.o,2,5126,!1,28,16),t.enableVertexAttribArray(r.g),t.vertexAttribPointer(r.g,1,5126,!1,28,24),t.uniform2fv(r.R,o),t.uniform1f(r.ta,i),r},t.gf=function(t,e){t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.g)},t.Md=function(t,e,o,i){var r,n,s,a,p,h,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),yt(o))for(n=this.f[this.f.length-1],o=this.j.length-1;0<=o;--o)r=this.j[o],wa(this,t,(s=this.u[o])[0],s[1],s[2]),Ds(t,e,r,n),t.clear(t.DEPTH_BUFFER_BIT),n=r;else for(p=this.f.length-2,s=n=this.f[p+1],r=this.j.length-1;0<=r;--r){for(wa(this,t,(a=this.u[r])[0],a[1],a[2]),a=this.j[r];0<=p&&this.f[p]>=a;)h=this.f[p],o[U(this.g[p]).toString()]&&(n!==s&&(Ds(t,e,n,s),t.clear(t.DEPTH_BUFFER_BIT)),s=h),p--,n=h;n!==s&&(Ds(t,e,n,s),t.clear(t.DEPTH_BUFFER_BIT)),n=s=a}i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},t.qe=function(t,e,o,i,r){var n,s,a,p,h,l;for(l=this.f.length-2,a=this.f[l+1],n=this.j.length-1;0<=n;--n)for(wa(this,t,(s=this.u[n])[0],s[1],s[2]),p=this.j[n];0<=l&&this.f[l]>=p;){if(s=this.f[l],void 0===o[U(h=this.g[l]).toString()]&&h.U()&&(void 0===r||st(r,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Ds(t,e,s,a),a=i(h)))return a;l--,a=s}},t.Na=function(t,e){var o=e.i;this.c.lineCap=void 0!==o?o:"round",o=e.f,this.c.lineDash=o||Fs,o=e.g,this.c.lineDashOffset=o||0,o=e.l,this.c.lineJoin=void 0!==o?o:"round",o=(o=e.a)instanceof CanvasGradient||o instanceof CanvasPattern?Gs:Le(o).map(function(t,e){return 3!=e?t/255:t})||Gs;var i=void 0!==(i=e.c)?i:1,r=void 0!==(r=e.j)?r:10;this.c.strokeColor&&G(this.c.strokeColor,o)&&this.c.lineWidth===i&&this.c.miterLimit===r||(this.c.s=!0,this.c.strokeColor=o,this.c.lineWidth=i,this.c.miterLimit=r,this.u.push([o,i,r]))};var xa=3,Ma=5,Sa=7,Pa=11,La=13,Ca=17,Aa=19,Ea=23;function Ta(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}r(Ta,Cs);var ja=new Ta;function Ra(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}r(Ra,As);var Ia,Na,ka,Da,Oa,Fa,Ga=new Ra;function Ua(t,e){this.G=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"c"),this.a=t.getUniformLocation(e,"f"),this.f=t.getUniformLocation(e,"b"),this.b=t.getAttribLocation(e,"a")}function Ba(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.i=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineDashOffset,this.l=t.lineJoin,this.j=t.miterLimit,this.c=t.width,this.b=void 0}function Va(t){this.b=this.a=this.f=void 0,this.i=void 0===t||t,this.c=0}function Xa(t){var e=t.b;if(e){var o=e.next,i=e.ub;o&&(o.ub=i),i&&(i.next=o),t.b=o||i,t.f===t.a?(t.b=void 0,t.f=void 0,t.a=void 0):t.f===e?t.f=t.b:t.a===e&&(t.a=i?t.b.ub:t.b),t.c--}}function Wa(t){if(t.b=t.f,t.b)return t.b.data}function za(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function $a(t){if(t.b&&t.b.next)return t.b.next.data}function Za(t){if(t.b&&t.b.ub)return t.b=t.b.ub,t.b.data}function Ya(t){if(t.b&&t.b.ub)return t.b.ub.data}function Ha(t){if(t.b)return t.b.data}function Ka(t){this.b=Ia(t),this.a={}}function Ja(t,e,o){var i=t.a[U(o)];$([i.da,i.fa,i.ba,i.ja],e)||(t.remove(o),t.Ea(e,o))}function _a(t){return t.b.all().map(function(t){return t.value})}function qa(t,e){return t.b.search({da:e[0],fa:e[1],ba:e[2],ja:e[3]}).map(function(t){return t.value})}function Qa(t,e,o,i){return tp(qa(t,e),o,i)}function tp(t,e,o){for(var i,r=0,n=t.length;r<n&&!(i=e.call(o,t[r]));r++);return i}function ep(t,e){ks.call(this,0,e),this.l=new fa(0,e),this.I=null,this.u=[],this.c=[],this.j={fillColor:null,s:!1}}function op(t,e,o,i){var r=new Va,n=new Ka;if(e=ip(t,e,i,r,n,!0),o.length){var s,a,p=[];for(s=0,a=o.length;s<a;++s){var h={list:new Va,ba:void 0};p.push(h),h.ba=ip(t,o[s],i,h.list,n,!1)}for(p.sort(function(t,e){return e.ba-t.ba}),s=0;s<p.length;++s)np(p[s].list,p[s].ba,r,e,n)}rp(r,n,!1),function t(e,o,i){for(var r=!1,n=pp(o,i);3<o.c;)if(n){if(!sp(e,o,i,n,r)&&!rp(o,i,r)&&!ap(e,o,i,!0))break}else if(!sp(e,o,i,n,r)&&!rp(o,i,r)&&!ap(e,o,i)){if(!(n=pp(o,i))){n=e,s=a=Wa(r=o);do{if((p=yp(s,i)).length){for(a=p[0],p=fp(s.aa,s.W,a.aa,a.W),p=hp(n,p[0],p[1],n.a.length/2),h=new Va,l=new Ka,lp(p,s.W,h,l),s.W=p,Ja(i,[Math.min(s.aa.x,p.x),Math.min(s.aa.y,p.y),Math.max(s.aa.x,p.x),Math.max(s.aa.y,p.y)],s),s=za(r);s!==a;)lp(s.aa,s.W,h,l),i.remove(s),Xa(r),s=Ha(r);lp(a.aa,p,h,l),a.aa=p,Ja(i,[Math.min(a.W.x,p.x),Math.min(a.W.y,p.y),Math.max(a.W.x,p.x),Math.max(a.W.y,p.y)],a),rp(r,i,!1),t(n,r,i),rp(h,l,!1),t(n,h,l);break}s=za(r)}while(s!==a);break}for(var r=o,s=2*r.c,a=Array(s),p=Wa(r),h=p,l=0;a[l++]=h.aa.x,a[l++]=h.aa.y,(h=za(r))!==p;);r=!tr(a,0,s,2),rp(o,i,r)}3===o.c&&(n=e.b.length,e.b[n++]=Ya(o).aa.gb,e.b[n++]=Ha(o).aa.gb,e.b[n++]=$a(o).aa.gb)}(t,r,n)}function ip(t,e,o,i,r,n){var s,a,p,h,l,u=t.a.length/2,c=[],y=[];if(n===tr(e,0,e.length,o))for(h=p=hp(t,e[0],e[1],u++),n=e[0],s=o,a=e.length;s<a;s+=o)l=hp(t,e[s],e[s+1],u++),y.push(lp(h,l,i)),c.push([Math.min(h.x,l.x),Math.min(h.y,l.y),Math.max(h.x,l.x),Math.max(h.y,l.y)]),n=e[s]>n?e[s]:n,h=l;else for(h=p=hp(t,e[s=e.length-o],e[s+1],u++),n=e[s],s-=o,a=0;a<=s;s-=o)l=hp(t,e[s],e[s+1],u++),y.push(lp(h,l,i)),c.push([Math.min(h.x,l.x),Math.min(h.y,l.y),Math.max(h.x,l.x),Math.max(h.y,l.y)]),n=e[s]>n?e[s]:n,h=l;return y.push(lp(l,p,i)),c.push([Math.min(h.x,l.x),Math.min(h.y,l.y),Math.max(h.x,l.x),Math.max(h.y,l.y)]),r.load(c,y),n}function rp(t,e,o){var i=Wa(t),r=i,n=za(t),s=!1;do{var a=o?Us(n.W.x,n.W.y,r.W.x,r.W.y,r.aa.x,r.aa.y):Us(r.aa.x,r.aa.y,r.W.x,r.W.y,n.W.x,n.W.y);void 0===a?(up(r,n,t,e),s=!0,n===i&&(i=$a(t)),n=r,Za(t)):r.W.vb!==a&&(r.W.vb=a,s=!0),r=n,n=za(t)}while(r!==i);return s}function np(t,e,o,i,r){rp(t,r,!0);for(var n=Wa(t);n.W.x!==e;)n=za(t);var s,a,p,h,l=1/0;for(s=0,a=(p=yp({aa:e=n.W,W:i={x:i,y:e.y,gb:-1}},r,!0)).length;s<a;++s){var u=p[s];if(void 0===u.aa.vb){var c=fp(e,i,u.aa,u.W,!0),y=Math.abs(e.x-c[0]);y<l&&(l=y,h={x:c[0],y:c[1],gb:-1},n=u)}}if(1/0!==l){if(p=n.W,0<l&&(n=cp(e,h,n.W,r)).length)for(h=1/0,s=0,a=n.length;s<a;++s)l=n[s],((u=Math.atan2(e.y-l.y,i.x-l.x))<h||u===h&&l.x<p.x)&&(h=u,p=l);for(n=Wa(o);n.W!==p;)n=za(o);i={x:e.x,y:e.y,gb:e.gb,vb:void 0},s={x:n.W.x,y:n.W.y,gb:n.W.gb,vb:void 0},$a(t).aa=i,lp(e,n.W,t,r),lp(s,i,t,r),n.W=s,t.i&&t.b&&(t.f=t.b,t.a=t.b.ub),o.concat(t)}}function sp(t,e,o,i,r){var n,s,a,p=t.b.length,h=Wa(e),l=Ya(e),u=h,c=za(e),y=$a(e),f=!1;do{if(n=u.aa,s=u.W,a=c.W,!1===s.vb){var d=r?dp(y.W,a,s,n,l.aa):dp(l.aa,n,s,a,y.W);!i&&yp({aa:n,W:a},o).length||!d||cp(n,s,a,o,!0).length||!i&&!1!==n.vb&&!1!==a.vb&&tr([l.aa.x,l.aa.y,n.x,n.y,s.x,s.y,a.x,a.y,y.W.x,y.W.y],0,10,2)!==!r||(t.b[p++]=n.gb,t.b[p++]=s.gb,t.b[p++]=a.gb,up(u,c,e,o),c===h&&(h=y),f=!0)}l=Ya(e),u=Ha(e),c=za(e),y=$a(e)}while(u!==h&&3<e.c);return f}function ap(t,e,o,i){var r=Wa(e);za(e);var n=r,s=za(e),a=!1;do{var p=fp(n.aa,n.W,s.aa,s.W,i);if(p){a=t.b.length;var h,l=t.a.length/2,u=Za(e);if(Xa(e),o.remove(u),h=u===r,i?(p[0]===n.aa.x&&p[1]===n.aa.y?(Za(e),p=n.aa,s.aa=p,o.remove(n),h=h||n===r):(p=s.W,n.W=p,o.remove(s),h=h||s===r),Xa(e)):(p=hp(t,p[0],p[1],l),n.W=p,s.aa=p,Ja(o,[Math.min(n.aa.x,n.W.x),Math.min(n.aa.y,n.W.y),Math.max(n.aa.x,n.W.x),Math.max(n.aa.y,n.W.y)],n),Ja(o,[Math.min(s.aa.x,s.W.x),Math.min(s.aa.y,s.W.y),Math.max(s.aa.x,s.W.x),Math.max(s.aa.y,s.W.y)],s)),t.b[a++]=u.aa.gb,t.b[a++]=u.W.gb,t.b[a++]=p.gb,a=!0,h)break}n=Ya(e),s=za(e)}while(n!==r);return a}function pp(t,e){var o=Wa(t),i=o;do{if(yp(i,e).length)return!1;i=za(t)}while(i!==o);return!0}function hp(t,e,o,i){var r=t.a.length;return{x:t.a[r++]=e,y:t.a[r++]=o,gb:i,vb:void 0}}function lp(t,e,o,i){var r={aa:t,W:e},n={ub:void 0,next:void 0,data:r},s=o.b;if(s){var a=s.next;n.ub=s,n.next=a,s.next=n,a&&(a.ub=n),s===o.a&&(o.a=n)}else o.f=n,o.a=n,o.i&&((n.next=n).ub=n);return o.b=n,o.c++,i&&i.Ea([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r}function up(t,e,o,i){Ha(o)===e&&(Xa(o),t.W=e.W,i.remove(e),Ja(i,[Math.min(t.aa.x,t.W.x),Math.min(t.aa.y,t.W.y),Math.max(t.aa.x,t.W.x),Math.max(t.aa.y,t.W.y)],t))}function cp(t,e,o,i,r){var n,s,a,p=[],h=qa(i,[Math.min(t.x,e.x,o.x),Math.min(t.y,e.y,o.y),Math.max(t.x,e.x,o.x),Math.max(t.y,e.y,o.y)]);for(i=0,n=h.length;i<n;++i)for(s in h[i])"object"!=typeof(a=h[i][s])||r&&!a.vb||a.x===t.x&&a.y===t.y||a.x===e.x&&a.y===e.y||a.x===o.x&&a.y===o.y||-1!==p.indexOf(a)||!Hi([t.x,t.y,e.x,e.y,o.x,o.y],0,6,2,a.x,a.y)||p.push(a);return p}function yp(t,e,o){var i,r,n=t.aa,s=t.W,a=[];for(i=0,r=(e=qa(e,[Math.min(n.x,s.x),Math.min(n.y,s.y),Math.max(n.x,s.x),Math.max(n.y,s.y)])).length;i<r;++i){var p=e[i];t!==p&&(o||p.aa!==s||p.W!==n)&&fp(n,s,p.aa,p.W,o)&&a.push(p)}return a}function fp(t,e,o,i,r){var n=(i.y-o.y)*(e.x-t.x)-(i.x-o.x)*(e.y-t.y);if(n&&(i=((i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x))/n,o=((e.x-t.x)*(t.y-o.y)-(e.y-t.y)*(t.x-o.x))/n,!r&&Bs<i&&i<1-Bs&&Bs<o&&o<1-Bs||r&&0<=i&&i<=1&&0<=o&&o<=1))return[t.x+i*(e.x-t.x),t.y+i*(e.y-t.y)]}function dp(t,e,o,i,r){if(void 0===e.vb||void 0===i.vb)return!1;var n=(o.x-i.x)*(e.y-i.y)>(o.y-i.y)*(e.x-i.x);return r=(r.x-i.x)*(e.y-i.y)<(r.y-i.y)*(e.x-i.x),t=(t.x-e.x)*(i.y-e.y)>(t.y-e.y)*(i.x-e.x),o=(o.x-e.x)*(i.y-e.y)<(o.y-e.y)*(i.x-e.x),e=e.vb?o||t:o&&t,(i.vb?r||n:r&&n)&&e}function gp(){}function vp(t,e,o){this.g=e,this.l=t,this.c=o,this.a={}}function mp(t,e){var o,i=[];for(o in t.a){var r,n=t.a[o];for(r in n)i.push(n[r].Cb(e))}return function(){for(var t,e=i.length,o=0;o<e;o++)t=i[o].apply(this,arguments);return t}}function bp(t,e,o,i,r,n,s,a,p,h,l){var u,c,y,f,d,g=wp,v=Object.keys(t.a).map(Number);for(v.sort(function(t,e){return e-t}),u=0,c=v.length;u<c;++u)for(f=t.a[v[u].toString()],y=Ss.length-1;0<=y;--y)if(void 0!==(d=f[Ss[y]])&&(d=d.i(e,o,i,r,g,n,s,a,p,h,l)))return d}(t=Ba.prototype).clone=function(){var t=this.a;return new Ba({color:t&&t.slice?t.slice():t||void 0,lineCap:this.i,lineDash:this.f?this.f.slice():void 0,lineDashOffset:this.g,lineJoin:this.l,miterLimit:this.j,width:this.c})},t.ao=function(){return this.a},t.Ak=function(){return this.i},t.bo=function(){return this.f},t.Bk=function(){return this.g},t.Ck=function(){return this.l},t.Hk=function(){return this.j},t.co=function(){return this.c},t.eo=function(t){this.a=t,this.b=void 0},t.qp=function(t){this.i=t,this.b=void 0},t.setLineDash=function(t){this.f=t,this.b=void 0},t.rp=function(t){this.g=t,this.b=void 0},t.sp=function(t){this.l=t,this.b=void 0},t.tp=function(t){this.j=t,this.b=void 0},t.wp=function(t){this.c=t,this.b=void 0},Va.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.f,t.f.ub=this.b,e.ub=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.f=t.f,this.a=t.a,this.c=t.c;t.b=void 0,t.f=void 0,t.a=void 0,t.c=0}},Fa={ma:Oa={}},function(t){"object"==typeof Oa&&void 0!==Fa?Fa.ma=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).cq=t()}(function(){return function i(r,n,s){function a(o,t){if(!n[o]){if(!r[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(p)return p(o,!0);throw(e=Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",e}e=n[o]={ma:{}},r[o][0].call(e.ma,function(t){var e=r[o][1][t];return a(e||t)},e,e.ma,i,r,n,s)}return n[o].ma}for(var p="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e){function l(t,e,o){var i=t[e];t[e]=t[o],t[o]=i}function u(t,e){return t<e?-1:e<t?1:0}e.ma=function t(e,o,i,r,n){for(i=i||0,r=r||e.length-1,n=n||u;i<r;){if(600<r-i){var s=r-i+1,a=o-i+1,p=Math.log(s),h=.5*Math.exp(2*p/3);p=.5*Math.sqrt(p*h*(s-h)/s)*(a-s/2<0?-1:1),t(e,o,Math.max(i,Math.floor(o-a*h/s+p)),Math.min(r,Math.floor(o+(s-a)*h/s+p)),n)}for(s=e[o],h=r,l(e,a=i,o),0<n(e[r],s)&&l(e,i,r);a<h;){for(l(e,a,h),a++,h--;n(e[a],s)<0;)a++;for(;0<n(e[h],s);)h--}0===n(e[i],s)?l(e,i,h):l(e,++h,r),h<=o&&(i=h+1),o<=h&&(r=h-1)}}},{}],2:[function(t,e){function o(t,e){if(!(this instanceof o))return new o(t,e);this.wf=Math.max(4,t||9),this.Pg=Math.max(2,Math.ceil(.4*this.wf)),e&&this.Lj(e),this.clear()}function l(t,e){u(t,0,t.children.length,e,t)}function u(t,e,o,i,r){r||(r=g(null)),r.da=1/0,r.fa=1/0,r.ba=-1/0,r.ja=-1/0;for(var n;e<o;e++)n=t.children[e],h(r,t.hb?i(n):n);return r}function h(t,e){t.da=Math.min(t.da,e.da),t.fa=Math.min(t.fa,e.fa),t.ba=Math.max(t.ba,e.ba),t.ja=Math.max(t.ja,e.ja)}function n(t,e){return t.da-e.da}function s(t,e){return t.fa-e.fa}function c(t){return(t.ba-t.da)*(t.ja-t.fa)}function y(t){return t.ba-t.da+(t.ja-t.fa)}function f(t,e){return t.da<=e.da&&t.fa<=e.fa&&e.ba<=t.ba&&e.ja<=t.ja}function d(t,e){return e.da<=t.ba&&e.fa<=t.ja&&e.ba>=t.da&&e.ja>=t.fa}function g(t){return{children:t,height:1,hb:!0,da:1/0,fa:1/0,ba:-1/0,ja:-1/0}}function v(t,e,o,i,r){for(var n,s=[e,o];s.length;)(o=s.pop())-(e=s.pop())<=i||(n=e+Math.ceil((o-e)/i/2)*i,a(t,n,e,o,r),s.push(e,n,n,o))}e.ma=o;var a=t("quickselect");o.prototype={all:function(){return this.Kg(this.data,[])},search:function(t){var e=this.data,o=[],i=this.yb;if(!d(t,e))return o;for(var r,n,s,a,p=[];e;){for(r=0,n=e.children.length;r<n;r++)s=e.children[r],d(t,a=e.hb?i(s):s)&&(e.hb?o.push(s):f(t,a)?this.Kg(s,o):p.push(s));e=p.pop()}return o},load:function(t){if(!t||!t.length)return this;if(t.length<this.Pg){for(var e=0,o=t.length;e<o;e++)this.Ea(t[e]);return this}return t=this.Mg(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Rg(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Og(t,this.data.height-t.height-1,!0)):this.data=t,this},Ea:function(t){return t&&this.Og(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var o,i,r,n,s=this.data,a=this.yb(t),p=[],h=[];s||p.length;){if(s||(s=p.pop(),i=p[p.length-1],o=h.pop(),n=!0),s.hb){t:{r=t;var l=s.children,u=e;if(u){for(var c=0;c<l.length;c++)if(u(r,l[c])){r=c;break t}r=-1}else r=l.indexOf(r)}if(-1!==r){s.children.splice(r,1),p.push(s),this.Jj(p);break}}n||s.hb||!f(s,a)?i?(o++,s=i.children[o],n=!1):s=null:(p.push(s),h.push(o),o=0,s=(i=s).children[0])}return this},yb:function(t){return t},Af:n,Bf:s,toJSON:function(){return this.data},Kg:function(t,e){for(var o=[];t;)t.hb?e.push.apply(e,t.children):o.push.apply(o,t.children),t=o.pop();return e},Mg:function(t,e,o,i){var r,n,s,a,p,h;if((n=o-e+1)<=(s=this.wf))return l(r=g(t.slice(e,o+1)),this.yb),r;for(i||(i=Math.ceil(Math.log(n)/Math.log(s)),s=Math.ceil(n/Math.pow(s,i-1))),(r=g([])).hb=!1,r.height=i,v(t,e,o,s=(n=Math.ceil(n/s))*Math.ceil(Math.sqrt(s)),this.Af);e<=o;e+=s)for(v(t,e,p=Math.min(e+s-1,o),n,this.Bf),a=e;a<=p;a+=n)h=Math.min(a+n-1,p),r.children.push(this.Mg(t,a,h,i-1));return l(r,this.yb),r},Ij:function(t,e,o,i){for(var r,n,s,a,p,h,l,u;i.push(e),!e.hb&&i.length-1!==o;){for(l=u=1/0,r=0,n=e.children.length;r<n;r++)p=c(s=e.children[r]),(h=(Math.max(s.ba,t.ba)-Math.min(s.da,t.da))*(Math.max(s.ja,t.ja)-Math.min(s.fa,t.fa))-p)<u?(u=h,l=p<l?p:l,a=s):h===u&&p<l&&(l=p,a=s);e=a||e.children[0]}return e},Og:function(t,e,o){var i=this.yb;o=o?t:i(t),i=[];var r=this.Ij(o,this.data,e,i);for(r.children.push(t),h(r,o);0<=e&&i[e].children.length>this.wf;)this.Qj(i,e),e--;this.Fj(o,i,e)},Qj:function(t,e){var o=t[e],i=o.children.length,r=this.Pg;this.Gj(o,r,i),i=this.Hj(o,r,i),(i=g(o.children.splice(i,o.children.length-i))).height=o.height,i.hb=o.hb,l(o,this.yb),l(i,this.yb),e?t[e-1].children.push(i):this.Rg(o,i)},Rg:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.hb=!1,l(this.data,this.yb)},Hj:function(t,e,o){var i,r,n,s,a,p,h;for(a=p=1/0,i=e;i<=o-e;i++)r=u(t,0,i,this.yb),n=u(t,i,o,this.yb),s=Math.max(0,Math.min(r.ba,n.ba)-Math.max(r.da,n.da))*Math.max(0,Math.min(r.ja,n.ja)-Math.max(r.fa,n.fa)),r=c(r)+c(n),s<a?(a=s,h=i,p=r<p?r:p):s===a&&r<p&&(p=r,h=i);return h},Gj:function(t,e,o){var i=t.hb?this.Af:n,r=t.hb?this.Bf:s;this.Lg(t,e,o,i)<(e=this.Lg(t,e,o,r))&&t.children.sort(i)},Lg:function(t,e,o,i){t.children.sort(i);var r,n,s=u(t,0,e,i=this.yb),a=u(t,o-e,o,i),p=y(s)+y(a);for(r=e;r<o-e;r++)n=t.children[r],h(s,t.hb?i(n):n),p+=y(s);for(r=o-e-1;e<=r;r--)n=t.children[r],h(a,t.hb?i(n):n),p+=y(a);return p},Fj:function(t,e,o){for(;0<=o;o--)h(e[o],t)},Jj:function(t){for(var e,o=t.length-1;0<=o;o--)0===t[o].children.length?0<o?(e=t[o-1].children).splice(e.indexOf(t[o]),1):this.clear():l(t[o],this.yb)},Lj:function(t){var e=["return a"," - b",";"];this.Af=new Function("a","b",e.join(t[0])),this.Bf=new Function("a","b",e.join(t[1])),this.yb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),Ia=Fa.ma,(t=Ka.prototype).Ea=function(t,e){var o={da:t[0],fa:t[1],ba:t[2],ja:t[3],value:e};this.b.Ea(o),this.a[U(e)]=o},t.load=function(t,e){for(var o=Array(e.length),i=0,r=e.length;i<r;i++){var n=t[i],s=e[i];n={da:n[0],fa:n[1],ba:n[2],ja:n[3],value:s};o[i]=n,this.a[U(s)]=n}this.b.load(o)},t.remove=function(t){t=U(t);var e=this.a[t];return delete this.a[t],null!==this.b.remove(e)},t.forEach=function(t,e){return tp(_a(this),t,e)},t.clear=function(){this.b.clear(),this.a={}},t.D=function(){var t=this.b.data;return[t.da,t.fa,t.ba,t.ja]},r(ep,ks),(t=ep.prototype).pc=function(t,e){var o,i,r,n,s=t.Od(),a=t.sa(),p=this.b.length,h=this.l.b.length;for(o=0,i=s.length;o<i;++o){var l=s[o].jd();if(0<l.length){var u,c=Li(c=l[0].ha(),c.length,a,-this.origin[0],-this.origin[1]),y=[];for(r=1,n=l.length;r<n;++r)u=Li(u=l[r].ha(),u.length,a,-this.origin[0],-this.origin[1]),y.push(u);ma(this.l,c,y,a),op(this,c,y,a)}}this.b.length>p&&(this.f.push(p),this.g.push(e),this.j.s&&(this.c.push(p),this.j.s=!1)),this.l.b.length>h&&ba(this.l,e,h)},t.rc=function(t,e){var o=t.jd(),i=t.sa();if(0<o.length){this.f.push(this.b.length),this.g.push(e),this.j.s&&(this.c.push(this.b.length),this.j.s=!1),ba(this.l,e);var r,n,s,a=Li(a=o[0].ha(),a.length,i,-this.origin[0],-this.origin[1]),p=[];for(r=1,n=o.length;r<n;++r)s=Li(s=o[r].ha(),s.length,i,-this.origin[0],-this.origin[1]),p.push(s);ma(this.l,a,p,i),op(this,a,p,i)}},t.Bb=function(t){this.v=new Vs(this.a),this.o=new Vs(this.b),this.f.push(this.b.length),this.l.Bb(t),!this.c.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},t.Cb=function(t){var e=this.v,o=this.o,i=this.l.Cb(t);return function(){qs(t,e),qs(t,o),i()}},t.ff=function(t,e){var o,i=ea(e,ja,Ga);return this.I?o=this.I:this.I=o=new Ua(t,i),e.Rc(i),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,8,0),o},t.gf=function(t,e){t.disableVertexAttribArray(e.b)},t.Md=function(t,e,o,i){var r,n,s,a,p,h,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),yt(o))for(n=this.f[this.f.length-1],o=this.c.length-1;0<=o;--o)r=this.c[o],s=this.u[o],t.uniform4fv(this.I.G,s),Ds(t,e,r,n),n=r;else for(p=this.f.length-2,s=n=this.f[p+1],r=this.c.length-1;0<=r;--r){for(a=this.u[r],t.uniform4fv(this.I.G,a),a=this.c[r];0<=p&&this.f[p]>=a;)h=this.f[p],o[U(this.g[p]).toString()]&&(n!==s&&(Ds(t,e,n,s),t.clear(t.DEPTH_BUFFER_BIT)),s=h),p--,n=h;n!==s&&(Ds(t,e,n,s),t.clear(t.DEPTH_BUFFER_BIT)),n=s=a}i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},t.qe=function(t,e,o,i,r){var n,s,a,p,h,l;for(l=this.f.length-2,a=this.f[l+1],n=this.c.length-1;0<=n;--n)for(s=this.u[n],t.uniform4fv(this.I.G,s),p=this.c[n];0<=l&&this.f[l]>=p;){if(s=this.f[l],void 0===o[U(h=this.g[l]).toString()]&&h.U()&&(void 0===r||st(r,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Ds(t,e,s,a),a=i(h)))return a;l--,a=s}},t.Na=function(t,e){var o=t?t.b:[0,0,0,0];o=o instanceof CanvasGradient||o instanceof CanvasPattern?Os:Le(o).map(function(t,e){return 3!=e?t/255:t})||Os,this.j.fillColor&&G(o,this.j.fillColor)||(this.j.fillColor=o,this.j.s=!0,this.u.push(o)),e?this.l.Na(null,e):this.l.Na(null,new Ba({color:[0,0,0,0],lineWidth:0}))},gp.prototype.i=function(){},r(vp,Ps),vp.prototype.b=function(t,e){var o=void 0!==t?t.toString():"0",i=this.a[o];return void 0===i&&(i={},this.a[o]=i),void 0===(o=i[e])&&(o=new xp[e](this.l,this.g),i[e]=o),o},vp.prototype.f=function(){return yt(this.a)},vp.prototype.i=function(t,e,o,i,r,n,s,a){var p,h,l,u,c,y,f=Object.keys(this.a).map(Number);for(f.sort(D),p=0,h=f.length;p<h;++p)for(c=this.a[f[p].toString()],l=0,u=Ss.length;l<u;++l)void 0!==(y=c[Ss[l]])&&y.i(t,e,o,i,r,n,s,a,void 0,!1)},vp.prototype.Aa=function(t,e,o,i,r,n,s,a,p,h){var l,u=e.b;return u.bindFramebuffer(u.FRAMEBUFFER,Qs(e)),void 0!==this.c&&(l=C(W(t),i*this.c)),bp(this,e,t,i,r,s,a,p,function(t){var e=new Uint8Array(4);if(u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t},!0,l)};var wp=[1,1],xp={Circle:Ws,Image:na,LineString:fa,Polygon:ep,Text:gp};function Mp(t,e,o,i,r,n,s){this.b=t,this.f=e,this.a=n,this.c=s,this.l=r,this.g=i,this.i=o,this.j=this.o=this.v=null}function Sp(){this.c=0,this.b={},this.f=this.a=null}function Pp(t,e){os.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.u=this.A=0,this.C=Ne(),this.o=!0,this.f=lo(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Js(this.b,this.f),oe(this.b,"webglcontextlost",this.nn,this),oe(this.b,"webglcontextrestored",this.pn,this),this.a=new Sp,this.I=null,this.l=new Qo(function(t){var e=t[1];t=t[2];var o=e[0]-this.I[0];e=e[1]-this.I[1];return 65536*Math.log(t)+Math.sqrt(o*o+e*e)/t}.bind(this),function(t){return t[0].ib()}),this.G=function(){if(this.l.b.length){ii(this.l);var t=ti(this.l);Lp(this,t[0],t[3],t[4])}return!1}.bind(this),this.g=0,Ap(this)}function Lp(t,e,o,i){var r=t.f,n=e.ib();if(t.a.b.hasOwnProperty(n))t=t.a.get(n),r.bindTexture(3553,t.Fb),9729!=t.Bh&&(r.texParameteri(3553,10240,9729),t.Bh=9729),9729!=t.Dh&&(r.texParameteri(3553,10241,9729),t.Dh=9729);else{var s=r.createTexture();if(r.bindTexture(3553,s),0<i){var a=t.C.canvas,p=t.C;t.A!==o[0]||t.u!==o[1]?(a.width=o[0],a.height=o[1],t.A=o[0],t.u=o[1]):p.clearRect(0,0,o[0],o[1]),p.drawImage(e.Z(),i,i,o[0],o[1],0,0,o[0],o[1]),r.texImage2D(3553,0,6408,6408,5121,a)}else r.texImage2D(3553,0,6408,6408,5121,e.Z());r.texParameteri(3553,10240,9729),r.texParameteri(3553,10241,9729),r.texParameteri(3553,10242,33071),r.texParameteri(3553,10243,33071),t.a.set(n,{Fb:s,Bh:9729,Dh:9729})}}function Cp(t,e,o){var i=t.j;if(ce(i,e)){t=t.i;var r=o.viewState;i.b(new ps(e,new Mp(t,r.center,r.resolution,r.rotation,o.size,o.extent,o.pixelRatio),o,null,t))}}function Ap(t){(t=t.f).activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}r(Mp,ys),(t=Mp.prototype).pd=function(t){this.Na(t.Ca(),t.Da()),this.Vb(t.Z())},t.mc=function(t){switch(t.T()){case"Point":this.qc(t,null);break;case"LineString":this.Qb(t,null);break;case"Polygon":this.rc(t,null);break;case"MultiPoint":this.oc(t,null);break;case"MultiLineString":this.nc(t,null);break;case"MultiPolygon":this.pc(t,null);break;case"GeometryCollection":this.pe(t,null);break;case"Circle":this.$b(t,null)}},t.oe=function(t,e){var o=(0,e.Ra)(t);o&&st(this.a,o.D())&&(this.pd(e),this.mc(o))},t.pe=function(t){var e,o;for(e=0,o=(t=t.a).length;e<o;++e)this.mc(t[e])},t.qc=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"Image");i.Vb(this.v),i.qc(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.oc=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"Image");i.Vb(this.v),i.oc(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.Qb=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"LineString");i.Na(null,this.j),i.Qb(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.nc=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"LineString");i.Na(null,this.j),i.nc(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.rc=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"Polygon");i.Na(this.o,this.j),i.rc(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.pc=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"Polygon");i.Na(this.o,this.j),i.pc(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.$b=function(t,e){var o=this.b,i=new vp(1,this.a).b(0,"Circle");i.Na(this.o,this.j),i.$b(t,e),i.Bb(o),i.i(this.b,this.f,this.i,this.g,this.l,this.c,1,{},void 0,!1),i.Cb(o)()},t.Vb=function(t){this.v=t},t.Na=function(t,e){this.o=t,this.j=e},(t=Sp.prototype).clear=function(){this.c=0,this.b={},this.f=this.a=null},t.forEach=function(t,e){for(var o=this.a;o;)t.call(e,o.$c,o.tc,this),o=o.Lb},t.get=function(t){return k(!!(t=this.b[t]),15),t===this.f||(t===this.a?(this.a=this.a.Lb,this.a.td=null):(t.Lb.td=t.td,t.td.Lb=t.Lb),t.Lb=null,t.td=this.f,this.f=this.f.Lb=t),t.$c},t.pop=function(){var t=this.a;return delete this.b[t.tc],t.Lb&&(t.Lb.td=null),this.a=t.Lb,this.a||(this.f=null),--this.c,t.$c},t.replace=function(t,e){this.get(t),this.b[t].$c=e},t.set=function(t,e){k(!(t in this.b),16);var o={tc:t,Lb:null,td:this.f,$c:e};this.f?this.f.Lb=o:this.a=o,this.f=o,this.b[t]=o,++this.c},r(Pp,os),(t=Pp.prototype).ra=function(){var e=this.f;e.isContextLost()||this.a.forEach(function(t){t&&e.deleteTexture(t.Fb)}),pe(this.i),os.prototype.ra.call(this)},t.bk=function(t,e){for(var o,i=this.f;1024<this.a.c-this.g;){if(o=this.a.a.$c)i.deleteTexture(o.Fb);else{if(+this.a.a.tc==e.index)break;--this.g}this.a.pop()}},t.T=function(){return"webgl"},t.nn=function(t){for(var e in t.preventDefault(),this.a.clear(),this.g=0,t=this.c)t[e].$f()},t.pn=function(){Ap(this),this.j.render()},t.vg=function(t){var e=this.i,o=this.f;if(o.isContextLost())return!1;if(!t)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.I=t.focus,this.a.set((-t.index).toString(),null),++this.g,Cp(this,"precompose",t);var i=[],r=t.layerStatesArray;h(r);var n,s,a,p=t.viewState.resolution;for(n=0,s=r.length;n<s;++n)Xn(a=r[n],p)&&"ready"==a.Ui&&(ns(this,a.layer).ag(t,a,e)&&i.push(a));for(r=t.size[0]*t.pixelRatio,p=t.size[1]*t.pixelRatio,this.b.width==r&&this.b.height==p||(this.b.width=r,this.b.height=p),o.bindFramebuffer(36160,null),o.clearColor(0,0,0,0),o.clear(16384),o.enable(3042),o.viewport(0,0,this.b.width,this.b.height),n=0,s=i.length;n<s;++n)ns(this,(a=i[n]).layer).ai(t,a,e);this.o||(this.b.style.display="",this.o=!0),is(t),1024<this.a.c-this.g&&t.postRenderFunctions.push(this.bk.bind(this)),this.l.b.length&&(t.postRenderFunctions.push(this.G),t.animate=!0),Cp(this,"postcompose",t),ss(this,t),t.postRenderFunctions.push(rs)},t.Aa=function(t,e,o,i,r,n,s){var a;if(this.f.isContextLost())return!1;var p,h=e.viewState,l=e.layerStatesArray;for(p=l.length-1;0<=p;--p){var u=(a=l[p]).layer;if(Xn(a,h.resolution)&&n.call(s,u)&&(a=ns(this,u).Aa(t,e,o,i,r)))return a}},t.Zh=function(t,e,o,i,r){if(o=!1,this.f.isContextLost())return!1;var n,s=e.viewState,a=e.layerStatesArray;for(n=a.length-1;0<=n;--n){var p=a[n],h=p.layer;if(Xn(p,s.resolution)&&i.call(r,h)&&(o=ns(this,h).Ke(t,e)))return!0}return o},t.Yh=function(t,e,o,i,r){if(this.f.isContextLost())return!1;var n,s,a=e.viewState,p=e.layerStatesArray;for(s=p.length-1;0<=s;--s){var h=(n=p[s]).layer;if(Xn(n,a.resolution)&&r.call(i,h)&&(n=ns(this,h).Zf(t,e,o,i)))return n}};var Ep=["canvas","webgl"];function Tp(t){fe.call(this);var e=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var o={},i={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)i["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var r=t.logo;"string"==typeof r?i[r]="":r instanceof HTMLElement?i[U(r).toString()]=r:r&&(k("string"==typeof r.href,44),k("string"==typeof r.src,45),i[r.src]=r.href)}r=t.layers instanceof Cn?t.layers:new Cn({layers:t.layers}),o.layergroup=r,o.target=t.target,o.view=void 0!==t.view?t.view:new lr;var n,s,a,r=os;for(void 0!==t.renderer?(Array.isArray(t.renderer)?n=t.renderer:"string"==typeof t.renderer?n=[t.renderer]:k(!1,46),0<=n.indexOf("dom")&&(n=n.concat(Ep))):n=Ep,s=0,a=n.length;s<a;++s){var p=n[s];if("canvas"==p){if(xo){r=xs;break}}else if("webgl"==p&&uo){r=Pp;break}}return void 0!==t.controls?Array.isArray(t.controls)?n=new be(t.controls.slice()):(k(t.controls instanceof be,47),n=t.controls):n=Ye(),void 0!==t.interactions?Array.isArray(t.interactions)?s=new be(t.interactions.slice()):(k(t.interactions instanceof be,48),s=t.interactions):s=Sn(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new be(t.overlays.slice()):(k(t.overlays instanceof be,49),t=t.overlays):t=new be,{controls:n,interactions:s,keyboardEventTarget:e,logos:i,overlays:t,jp:r,values:o}}(t);this.rf=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.sf=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.xf=void 0!==t.pixelRatio?t.pixelRatio:bo,this.pf=e.logos,this.ia=function(){this.g=void 0,this.hp.call(this,Date.now())}.bind(this),this.mb=[1,0,0,1,0,0],this.yf=[1,0,0,1,0,0],this.Bd=0,this.a=null,this.lb=[1/0,1/0,-1/0,-1/0],this.G=this.R=this.S=null,this.c=document.createElement("DIV"),this.c.className="ol-viewport"+(Po?" ol-touch":""),this.c.style.position="relative",this.c.style.overflow="hidden",this.c.style.width="100%",this.c.style.height="100%",this.c.style.msTouchAction="none",this.c.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.c.appendChild(this.A),this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer-stopevent";for(var o=0,i=(t="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ")).length;o<i;++o)oe(this.u,t[o],le);for(var r in this.c.appendChild(this.u),this.Ja=new _o(this),ao)oe(this.Ja,ao[r],this.uh,this);this.oa=e.keyboardEventTarget,this.v=null,oe(this.c,"wheel",this.ld,this),oe(this.c,"mousewheel",this.ld,this),this.j=e.controls,this.l=e.interactions,this.o=e.overlays,this.dg={},this.C=new e.jp(this.c,this),this.Y=null,this.Oa=[],this.Ha=new ri(this.Wk.bind(this),this.Cl.bind(this)),this.ea={},oe(this,ge("layergroup"),this.kl,this),oe(this,ge("view"),this.Dl,this),oe(this,ge("size"),this.zl,this),oe(this,ge("target"),this.Bl,this),this.H(e.values),this.j.forEach(function(t){t.setMap(this)},this),oe(this.j,"add",function(t){t.element.setMap(this)},this),oe(this.j,"remove",function(t){t.element.setMap(null)},this),this.l.forEach(function(t){t.setMap(this)},this),oe(this.l,"add",function(t){t.element.setMap(this)},this),oe(this.l,"remove",function(t){t.element.setMap(null)},this),this.o.forEach(this.Ug,this),oe(this.o,"add",function(t){this.Ug(t.element)},this),oe(this.o,"remove",function(t){var e=t.element.g;void 0!==e&&delete this.dg[e.toString()],t.element.setMap(null)},this)}function jp(t){fe.call(this),this.g=t.id,this.o=void 0===t.insertFirst||t.insertFirst,this.v=void 0===t.stopEvent||t.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container",this.c.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.l=t.autoPanAnimation||{},this.j=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={me:"",Ce:"",bf:"",kf:"",visible:!0},this.i=null,oe(this,ge(kp),this.fl,this),oe(this,ge(Dp),this.pl,this),oe(this,ge(Op),this.tl,this),oe(this,ge(Fp),this.vl,this),oe(this,ge(Gp),this.wl,this),void 0!==t.element&&this.Gi(t.element),this.Ni(void 0!==t.offset?t.offset:[0,0]),this.Qi(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Wf(t.position)}function Rp(t,e){var o,i=(o=t.getBoundingClientRect()).left+window.pageXOffset;return[i,o=o.top+window.pageYOffset,i+e[0],o+e[1]]}function Ip(t,e){t.a.visible!==e&&(t.c.style.display=e?"":"none",t.a.visible=e)}function Np(t){var e=t.Ge(),o=t.Kh();if(e&&e.a&&o){o=e.Ka(o);var i=e.Mb(),r=(e=t.c.style,t.qh()),n=t.rh(),s=r[0];r=r[1];"bottom-right"==n||"center-right"==n||"top-right"==n?(""!==t.a.Ce&&(t.a.Ce=e.left=""),s=Math.round(i[0]-o[0]-s)+"px",t.a.bf!=s&&(t.a.bf=e.right=s)):(""!==t.a.bf&&(t.a.bf=e.right=""),"bottom-center"!=n&&"center-center"!=n&&"top-center"!=n||(s-=t.c.offsetWidth/2),s=Math.round(o[0]+s)+"px",t.a.Ce!=s&&(t.a.Ce=e.left=s)),"bottom-left"==n||"bottom-center"==n||"bottom-right"==n?(""!==t.a.kf&&(t.a.kf=e.top=""),o=Math.round(i[1]-o[1]-r)+"px",t.a.me!=o&&(t.a.me=e.bottom=o)):(""!==t.a.me&&(t.a.me=e.bottom=""),"center-left"!=n&&"center-center"!=n&&"center-right"!=n||(r-=t.c.offsetHeight/2),o=Math.round(o[1]+r)+"px",t.a.kf!=o&&(t.a.kf=e.top=o)),Ip(t,!0)}else Ip(t,!1)}r(Tp,fe),(t=Tp.prototype).Rj=function(t){this.j.push(t)},t.Sj=function(t){this.l.push(t)},t.Sg=function(t){this.Jc().od().push(t)},t.Tg=function(t){this.o.push(t)},t.Ug=function(t){var e=t.g;void 0!==e&&(this.dg[e.toString()]=t),t.setMap(this)},t.ra=function(){pe(this.Ja),pe(this.C),re(this.c,"wheel",this.ld,this),re(this.c,"mousewheel",this.ld,this),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.g&&(cancelAnimationFrame(this.g),this.g=void 0),this.Fe(null),fe.prototype.ra.call(this)},t.re=function(t,e,o){if(this.a)return t=this.Za(t),o=o||{},this.C.Aa(t,this.a,void 0!==o.hitTolerance?o.hitTolerance*this.a.pixelRatio:0,e,null,o.layerFilter?o.layerFilter:xi,null)},t.pm=function(t,e,o,i,r){if(this.a)return this.C.Yh(t,this.a,e,void 0!==o?o:null,i||xi,void 0!==r?r:null)},t.El=function(t,e){if(!this.a)return!1;var o=this.Za(t);return e=e||{},this.C.Zh(o,this.a,void 0!==e.hitTolerance?e.hitTolerance*this.a.pixelRatio:0,e.layerFilter?e.layerFilter:xi,null)},t.sk=function(t){return this.Za(this.te(t))},t.te=function(t){var e=this.c.getBoundingClientRect();return[(t=t.changedTouches?t.changedTouches[0]:t).clientX-e.left,t.clientY-e.top]},t.Of=function(){return this.get("target")},t.Kc=function(){var t=this.Of();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},t.Za=function(t){var e=this.a;return e?Jn(e.pixelToCoordinateTransform,t.slice()):null},t.qk=function(){return this.j},t.Lk=function(){return this.o},t.Kk=function(t){return void 0!==(t=this.dg[t.toString()])?t:null},t.xk=function(){return this.l},t.Jc=function(){return this.get("layergroup")},t.Jh=function(){return this.Jc().od()},t.Ka=function(t){var e=this.a;return e?Jn(e.coordinateToPixelTransform,t.slice(0,2)):null},t.Mb=function(){return this.get("size")},t.$=function(){return this.get("view")},t.Yk=function(){return this.c},t.Wk=function(t,e,o,i){var r=this.a;return r&&e in r.wantedTiles&&r.wantedTiles[e][t.ib()]?(t=o[0]-r.focus[0],o=o[1]-r.focus[1],65536*Math.log(i)+Math.sqrt(t*t+o*o)/i):1/0},t.ld=function(t,e){var o=new so(e||t.type,this,t);this.uh(o)},t.uh=function(t){if(this.a){this.Y=t.coordinate,t.frameState=this.a;var e,o=this.l.a;if(!1!==this.b(t))for(e=o.length-1;0<=e;e--){var i=o[e];if(i.c()&&!i.handleEvent(t))break}}},t.xl=function(){var t=this.a,e=this.Ha;if(e.b.length){var o=16,i=o;if(t){var r=t.viewHints;r[0]&&(o=this.rf?8:0,i=2),r[1]&&(o=this.sf?8:0,i=2)}e.l<o&&(ii(e),ni(e,o,i))}for(o=0,i=(e=this.Oa).length;o<i;++o)e[o](this,t);e.length=0},t.zl=function(){this.render()},t.Bl=function(){var t;if(this.Of()&&(t=this.Kc()),this.v){for(var e=0,o=this.v.length;e<o;++e)ne(this.v[e]);this.v=null}t?(t.appendChild(this.c),t=this.oa?this.oa:t,this.v=[oe(t,"keydown",this.ld,this),oe(t,"keypress",this.ld,this)],this.i||(this.i=this.xd.bind(this),window.addEventListener("resize",this.i,!1))):(De(this.c),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)),this.xd()},t.Cl=function(){this.render()},t.xh=function(){this.render()},t.Dl=function(){this.S&&(ne(this.S),this.S=null),this.R&&(ne(this.R),this.R=null);var t=this.$();t&&(this.c.setAttribute("data-view",U(t)),this.S=oe(t,"propertychange",this.xh,this),this.R=oe(t,"change",this.xh,this)),this.render()},t.kl=function(){this.G&&(this.G.forEach(ne),this.G=null);var t=this.Jc();t&&(this.G=[oe(t,"propertychange",this.render,this),oe(t,"change",this.render,this)]),this.render()},t.ip=function(){this.g&&cancelAnimationFrame(this.g),this.ia()},t.render=function(){void 0===this.g&&(this.g=requestAnimationFrame(this.ia))},t.ap=function(t){return this.j.remove(t)},t.bp=function(t){return this.l.remove(t)},t.ep=function(t){return this.Jc().od().remove(t)},t.fp=function(t){return this.o.remove(t)},t.hp=function(t){var e,o,i=this.Mb(),r=this.$(),n=[1/0,1/0,-1/0,-1/0],s=null;if(void 0!==i&&0<i[0]&&0<i[1]&&r&&vr(r)){s=dr(r,this.a?this.a.viewHints:void 0);var a=this.Jc().Lf(),p={};for(e=0,o=a.length;e<o;++e)p[U(a[e].layer)]=a[e];e=r.V(),s={animate:!1,attributions:{},coordinateToPixelTransform:this.mb,extent:n,focus:this.Y?this.Y:e.center,index:this.Bd++,layerStates:p,layerStatesArray:a,logos:lt({},this.pf),pixelRatio:this.xf,pixelToCoordinateTransform:this.yf,postRenderFunctions:[],size:i,skippedFeatureUids:this.ea,tileQueue:this.Ha,time:t,usedTiles:{},viewState:e,viewHints:s,wantedTiles:{}}}s&&(s.extent=tt(e.center,e.resolution,e.rotation,s.size,n)),this.a=s,this.C.vg(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.Oa,s.postRenderFunctions),s.viewHints[0]||s.viewHints[1]||$(s.extent,this.lb)||(this.b(new no("moveend",this,s)),A(s.extent,this.lb))),this.b(new no("postrender",this,s)),setTimeout(this.xl.bind(this),0)},t.Li=function(t){this.set("layergroup",t)},t.Ag=function(t){this.set("size",t)},t.Fe=function(t){this.set("target",t)},t.vp=function(t){this.set("view",t)},t.Ti=function(t){t=U(t).toString(),this.ea[t]=!0,this.render()},t.xd=function(){var t=this.Kc();if(t){var e=getComputedStyle(t);this.Ag([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.Ag(void 0)},t.Zi=function(t){t=U(t).toString(),delete this.ea[t],this.render()},Bn(),r(jp,fe),(t=jp.prototype).se=function(){return this.get(kp)},t.qm=function(){return this.g},t.Ge=function(){return this.get(Dp)},t.qh=function(){return this.get(Op)},t.Kh=function(){return this.get(Fp)},t.rh=function(){return this.get(Gp)},t.fl=function(){for(var t=this.c;t.lastChild;)t.removeChild(t.lastChild);(t=this.se())&&this.c.appendChild(t)},t.pl=function(){this.i&&(De(this.c),ne(this.i),this.i=null);var t=this.Ge();t&&(this.i=oe(t,"postrender",this.render,this),Np(this),t=this.v?t.u:t.A,this.o?t.insertBefore(this.c,t.childNodes[0]||null):t.appendChild(this.c))},t.render=function(){Np(this)},t.tl=function(){Np(this)},t.vl=function(){if(Np(this),this.get(Fp)&&this.autoPan){var t=this.Ge();if(t&&t.Kc()){var e=Rp(t.Kc(),t.Mb()),o=(s=this.se()).offsetWidth,i=s.currentStyle||getComputedStyle(s),r=(o=o+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)),i=s.offsetHeight,s.currentStyle||getComputedStyle(s)),n=Rp(s,[o,i=i+(parseInt(r.marginTop,10)+parseInt(r.marginBottom,10))]),s=this.j;B(e,n)||(o=n[0]-e[0],i=e[2]-n[2],r=n[1]-e[1],n=e[3]-n[3],e=[0,0],o<0?e[0]=o-s:i<0&&(e[0]=Math.abs(i)+s),r<0?e[1]=r-s:n<0&&(e[1]=Math.abs(n)+s),0===e[0]&&0===e[1])||(s=t.$().Ba(),e=[(s=t.Ka(s))[0]+e[0],s[1]+e[1]],t.$().animate({center:t.Za(e),duration:this.l.duration,easing:this.l.easing}))}}},t.wl=function(){Np(this)},t.Gi=function(t){this.set(kp,t)},t.setMap=function(t){this.set(Dp,t)},t.Ni=function(t){this.set(Op,t)},t.Wf=function(t){this.set(Fp,t)},t.Qi=function(t){this.set(Gp,t)};var kp="element",Dp="map",Op="offset",Fp="position",Gp="positioning";function Up(t){t=t||{},this.l=void 0===t.collapsed||t.collapsed,this.j=void 0===t.collapsible||t.collapsible,this.j||(this.l=!1);var e=void 0!==t.className?t.className:"ol-overviewmap",o=void 0!==t.tipLabel?t.tipLabel:"Overview map";"string"==typeof(i=void 0!==t.collapseLabel?t.collapseLabel:"«")?(this.o=document.createElement("span"),this.o.textContent=i):this.o=i,"string"==typeof(i=void 0!==t.label?t.label:"»")?(this.u=document.createElement("span"),this.u.textContent=i):this.u=i;var i,r=this.j&&!this.l?this.o:this.u;(i=document.createElement("button")).setAttribute("type","button"),i.title=o,i.appendChild(r),oe(i,"click",this.Em,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var n=this.c=new Tp({controls:new be,interactions:new be,view:t.view});t.layers&&t.layers.forEach(function(t){n.Sg(t)},this),(o=document.createElement("DIV")).className="ol-overviewmap-box",o.style.boxSizing="border-box",this.A=new jp({position:[0,0],positioning:"bottom-left",element:o}),this.c.Tg(this.A),(o=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.l&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),o.appendChild(this.C),o.appendChild(i),Oe.call(this,{element:o,render:t.render?t.render:Bp,target:t.target})}function Bp(){var t=this.a,e=this.c;if(t.a&&e.a){var o=t.Mb(),i=(t=t.$().ed(o),e.Mb()),r=(o=e.$().ed(i),e.Ka(it(t))),n=e.Ka(q(t));e=Math.abs(r[0]-n[0]),r=Math.abs(r[1]-n[1]),n=i[0],i=i[1];e<.1*n||r<.1*i||.75*n<e||.75*i<r?Vp(this):B(o,t)||(t=this.c,o=this.a.$(),t.$().wb(o.Ba()))}Xp(this)}function Vp(t){var e=t.a;t=t.c;var o=e.Mb();e=e.$().ed(o);t=t.$(),pt(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Ff(e)}function Xp(t){var e=t.a,o=t.c;if(e.a&&o.a){var i,r=e.Mb(),n=e.$(),s=o.$(),a=(o=n.Va(),e=t.A,t.A.se()),p=n.ed(r);r=s.Ua(),n=_(p),s=rt(p);(t=t.a.$().Ba())&&(di(i=[n[0]-t[0],n[1]-t[1]],o),li(i,t)),e.Wf(i),a&&(a.style.width=Math.abs((n[0]-s[0])/r)+"px",a.style.height=Math.abs((s[1]-n[1])/r)+"px")}}function Wp(t){t.element.classList.toggle("ol-collapsed"),t.l?ke(t.o,t.u):ke(t.u,t.o),t.l=!t.l;var e=t.c;t.l||e.a||(e.xd(),Vp(t),ie(e,"postrender",function(){Xp(this)},t))}function zp(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.j=document.createElement("DIV"),this.j.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.j),this.u=null,this.o=void 0!==t.minWidth?t.minWidth:64,this.l=!1,this.C=void 0,this.A="",Oe.call(this,{element:this.c,render:t.render?t.render:Zp,target:t.target}),oe(this,ge(Hp),this.R,this),this.G(t.units||"metric")}r(Up,Oe),(t=Up.prototype).setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.$())&&re(e,ge("rotation"),this.Ae,this),this.c.Fe(null)),Oe.prototype.setMap.call(this,t),t&&(this.c.Fe(this.C),this.v.push(oe(t,"propertychange",this.ql,this)),this.c.Jh().ec()||this.c.Li(t.Jc()),t=t.$()))&&(oe(t,ge("rotation"),this.Ae,this),vr(t)&&(this.c.xd(),Vp(this)))},t.ql=function(t){"view"===t.key&&((t=t.oldValue)&&re(t,ge("rotation"),this.Ae,this),oe(t=this.a.$(),ge("rotation"),this.Ae,this))},t.Ae=function(){this.c.$().He(this.a.$().Va())},t.Em=function(t){t.preventDefault(),Wp(this)},t.Dm=function(){return this.j},t.Gm=function(t){this.j!==t&&(this.j=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.l&&Wp(this))},t.Fm=function(t){this.j&&this.l!==t&&Wp(this)},t.Cm=function(){return this.l},t.Mk=function(){return this.c},r(zp,Oe);var $p=[1,2,5];function Zp(t){(t=t.frameState)?this.u=t.viewState:this.u=null,Yp(this)}function Yp(t){if(o=t.u){var e=(i=o.projection).sc(),o=St(i,o.resolution,o.center)*e,i=(e=t.o*o,"");"degrees"==(n=t.Jb())?(o/=i=gt.degrees,e<i/60?(i="″",o*=3600):e<i?(i="′",o*=60):i="°"):"imperial"==n?e<.9144?(i="in",o/=.0254):e<1609.344?(i="ft",o/=.3048):(i="mi",o/=1609.344):"nautical"==n?(o/=1852,i="nm"):"metric"==n?e<1?(i="mm",o*=1e3):e<1e3?i="m":(i="km",o/=1e3):"us"==n?e<.9144?(i="in",o*=39.37):e<1609.344?(i="ft",o/=.30480061):(i="mi",o/=1609.3472):k(!1,33);for(var r,n=3*Math.floor(Math.log(t.o*o)/Math.log(10));;){if(r=$p[(n%3+3)%3]*Math.pow(10,Math.floor(n/3)),e=Math.round(r/o),isNaN(e))return t.c.style.display="none",void(t.l=!1);if(e>=t.o)break;++n}o=r+" "+i,t.A!=o&&(t.j.innerHTML=o,t.A=o),t.C!=e&&(t.j.style.width=e+"px",t.C=e),t.l||(t.c.style.display="",t.l=!0)}else t.l&&(t.c.style.display="none",t.l=!1)}zp.prototype.Jb=function(){return this.get(Hp)},zp.prototype.R=function(){Yp(this)},zp.prototype.G=function(t){this.set(Hp,t)};var Hp="units";function Kp(t){t=t||{},this.c=void 0,this.l=Jp,this.A=this.o=0,this.R=null,this.ea=!1,this.Y=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=e+"-thumb ol-unselectable";var i=document.createElement("div");i.className=e+" ol-unselectable ol-control",i.appendChild(o),this.j=new Xo(i),oe(this.j,"pointerdown",this.el,this),oe(this.j,"pointermove",this.cl,this),oe(this.j,"pointerup",this.dl,this),oe(i,"click",this.bl,this),oe(o,"click",le),Oe.call(this,{element:i,render:t.render?t.render:_p})}r(Kp,Oe),Kp.prototype.ra=function(){pe(this.j),Oe.prototype.ra.call(this)};var Jp=0;function _p(t){if(t.frameState){if(!this.ea){var e=(n=this.element).offsetWidth,o=n.offsetHeight,i=n.firstElementChild,r=getComputedStyle(i),n=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft);i=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.R=[n,i],o<e?(this.l=1,this.A=e-n):(this.l=Jp,this.o=o-i),this.ea=!0}(t=t.frameState.viewState.resolution)!==this.c&&(this.c=t,qp(this,t))}}function qp(t,e){var o,i,r,n,s;o=1-(r=t.a.$(),n=r.a,s=Math.log(n/r.i)/Math.log(2),i=e,Math.log(n/i)/Math.log(2)/s);var a=t.element.firstElementChild;1==t.l?a.style.left=t.A*o+"px":a.style.top=t.o*o+"px"}function Qp(t,e){return i=t.a.$(),r=i.a,n=Math.log(r/i.i)/Math.log(2),o=1-e,r/Math.pow(2,o*n);var o,i,r,n}function th(t){t=t||{},this.c=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",o=void 0!==t.label?t.label:"E",i=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",r=document.createElement("button");r.setAttribute("type","button"),r.title=i,r.appendChild("string"==typeof o?document.createTextNode(o):o),oe(r,"click",this.l,this),(o=document.createElement("div")).className=e+" ol-unselectable ol-control",o.appendChild(r),Oe.call(this,{element:o,target:t.target})}function eh(t){fe.call(this),t=t||{},this.a=null,oe(this,ge(sh),this.cm,this),this.Uf(void 0!==t.tracking&&t.tracking)}(t=Kp.prototype).setMap=function(t){Oe.prototype.setMap.call(this,t),t&&t.render()},t.bl=function(t){var e=this.a.$();t=Qp(this,x(1===this.l?(t.offsetX-this.R[0]/2)/this.A:(t.offsetY-this.R[1]/2)/this.o,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.Y,easing:Ve})},t.el=function(t){this.u||t.b.target!==this.element.firstElementChild||(mr(this.a.$(),1,1),this.C=t.clientX,this.G=t.clientY,this.u=!0)},t.cl=function(t){if(this.u){var e=this.element.firstElementChild;this.c=Qp(this,x(1===this.l?(t.clientX-this.C+parseInt(e.style.left,10))/this.A:(t.clientY-this.G+parseInt(e.style.top,10))/this.o,0,1)),this.a.$().Xc(this.c),qp(this,this.c),this.C=t.clientX,this.G=t.clientY}},t.dl=function(){if(this.u){var t=this.a.$();mr(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.Y,easing:Ve}),this.u=!1,this.G=this.C=void 0}},r(th,Oe),th.prototype.l=function(t){t.preventDefault(),t=this.a.$();var e=this.c?this.c:t.o.D();t.Ff(e)},r(eh,fe),(t=eh.prototype).ra=function(){this.Uf(!1),fe.prototype.ra.call(this)},t.qo=function(t){if(null!==t.alpha){var e=S(t.alpha);this.set(oh,e),"boolean"==typeof t.absolute&&t.absolute?this.set(nh,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(nh,S(t.webkitCompassHeading))}null!==t.beta&&this.set(ih,S(t.beta)),null!==t.gamma&&this.set(rh,S(t.gamma)),this.s()},t.jk=function(){return this.get(oh)},t.mk=function(){return this.get(ih)},t.uk=function(){return this.get(rh)},t.bm=function(){return this.get(nh)},t.Fh=function(){return this.get(sh)},t.cm=function(){if(Mo){var t=this.Fh();t&&!this.a?this.a=oe(window,"deviceorientation",this.qo,this):t||null===this.a||(ne(this.a),this.a=null)}},t.Uf=function(t){this.set(sh,t)};var oh="alpha",ih="beta",rh="gamma",nh="heading",sh="tracking";function ah(t){this.g=t.opacity,this.o=t.rotateWithView,this.l=t.rotation,this.c=t.scale,this.v=t.snapToPixel}function ph(t){this.A=this.I=this.i=null,this.Wa=void 0!==t.fill?t.fill:null,this.qa=[0,0],this.b=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.f=void 0!==t.radius2?t.radius2:this.a,this.j=void 0!==t.angle?t.angle:0,this.Ya=void 0!==t.stroke?t.stroke:null,this.G=this.ta=this.C=null,this.u=t.atlasManager,hh(this,this.u),ah.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function hh(t,e){var o,i,r="",n="",s=0,a=null,p=0;t.Ya&&(i=Re(t.Ya.a),void 0===(p=t.Ya.c)&&(p=1),a=t.Ya.f,wo||(a=null),void 0===(n=t.Ya.l)&&(n="round"),void 0===(r=t.Ya.i)&&(r="round"),void 0===(s=t.Ya.j)&&(s=10));var h=2*(t.a+p)+1;r={strokeStyle:i,Vi:p,size:h,lineCap:r,lineDash:a,lineJoin:n,miterLimit:s};void 0===e?(n=Ne(h,h),t.I=n.canvas,o=h=t.I.width,t.ah(r,n,0,0),t.Wa?t.A=t.I:(n=Ne(r.size,r.size),t.A=n.canvas,t.$g(r,n,0,0))):(h=Math.round(h),(n=!t.Wa)&&(o=t.$g.bind(t,r)),t.Ya?(void 0===(s=t.Ya).b&&(s.b="s",s.b=s.a?"string"==typeof s.a?s.b+s.a:s.b+U(s.a).toString():s.b+"-",s.b+=","+(void 0!==s.i?s.i.toString():"-")+","+(s.f?s.f.toString():"-")+","+(void 0!==s.g?s.g:"-")+","+(void 0!==s.l?s.l:"-")+","+(void 0!==s.j?s.j.toString():"-")+","+(void 0!==s.c?s.c.toString():"-")),s=s.b):s="-",t.Wa?(void 0===(a=t.Wa).a&&(a.a=a.b instanceof CanvasPattern||a.b instanceof CanvasGradient?U(a.b).toString():"f"+(a.b?Ce(a.b):"-")),a=a.a):a="-",t.i&&s==t.i[1]&&a==t.i[2]&&t.a==t.i[3]&&t.f==t.i[4]&&t.j==t.i[5]&&t.b==t.i[6]||(t.i=["r"+s+a+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.f?t.f.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.b?t.b.toString():"-"),s,a,t.a,t.f,t.j,t.b]),r=e.add(t.i[0],h,h,t.ah.bind(t,r),o),t.I=r.image,t.qa=[r.offsetX,r.offsetY],o=r.image.width,t.A=n?r.Fl:t.I),t.C=[h/2,h/2],t.ta=[h,h],t.G=[o,o]}function lh(t){ph.call(this,{points:1/0,fill:(t=t||{}).fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function uh(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function ch(t){t=t||{},this.Gc=null,this.Ra=vh,void 0!==t.geometry&&this.Sa(t.geometry),this.Wa=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.Ya=void 0!==t.stroke?t.stroke:null,this.Fa=void 0!==t.text?t.text:null,this.kj=t.zIndex}function yh(t){var e;"function"!=typeof t&&(Array.isArray(t)?e=t:(k(t instanceof ch,41),e=[t]),t=function(){return e});return t}(t=ah.prototype).Pe=function(){return this.g},t.Qe=function(){return this.o},t.Re=function(){return this.l},t.Se=function(){return this.c},t.ve=function(){return this.v},t.rd=function(t){this.g=t},t.Te=function(t){this.l=t},t.sd=function(t){this.c=t},r(ph,ah),(t=ph.prototype).clone=function(){var t=new ph({fill:this.Ca()?this.Ca().clone():void 0,points:this.f!==this.a?this.b/2:this.b,radius:this.a,radius2:this.f,angle:this.j,snapToPixel:this.v,stroke:this.Da()?this.Da().clone():void 0,rotation:this.l,rotateWithView:this.o,atlasManager:this.u});return t.rd(this.g),t.sd(this.c),t},t.Hc=function(){return this.C},t.ki=function(){return this.j},t.Ca=function(){return this.Wa},t.cg=function(){return this.A},t.Z=function(){return this.I},t.ue=function(){return this.G},t.Oe=function(){return 2},t.Pc=function(){return this.qa},t.li=function(){return this.b},t.mi=function(){return this.a},t.sh=function(){return this.f},t.jc=function(){return this.ta},t.Da=function(){return this.Ya},t.zh=function(){},t.load=function(){},t.Yi=function(){},t.ah=function(t,e,o,i){var r;if(e.setTransform(1,0,0,1,0,0),e.translate(o,i),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else for(this.f!==this.a&&(this.b*=2),o=0;o<=this.b;o++)i=2*o*Math.PI/this.b-Math.PI/2+this.j,r=o%2?this.f:this.a,e.lineTo(t.size/2+r*Math.cos(i),t.size/2+r*Math.sin(i));this.Wa&&(e.fillStyle=Re(this.Wa.b),e.fill()),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Vi,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},t.$g=function(t,e,o,i){var r;if(e.setTransform(1,0,0,1,0,0),e.translate(o,i),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else for(this.f!==this.a&&(this.b*=2),o=0;o<=this.b;o++)r=2*o*Math.PI/this.b-Math.PI/2+this.j,i=o%2?this.f:this.a,e.lineTo(t.size/2+i*Math.cos(r),t.size/2+i*Math.sin(r));e.fillStyle=hs,e.fill(),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Vi,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},r(lh,ph),lh.prototype.clone=function(){var t=new lh({fill:this.Ca()?this.Ca().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,radius:this.a,snapToPixel:this.v,atlasManager:this.u});return t.rd(this.g),t.sd(this.c),t},lh.prototype.Wc=function(t){this.a=t,hh(this,this.u)},uh.prototype.clone=function(){var t=this.b;return new uh({color:t&&t.slice?t.slice():t||void 0})},uh.prototype.f=function(){return this.b},uh.prototype.c=function(t){this.b=t,this.a=void 0},(t=ch.prototype).clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new ch({geometry:t,fill:this.Ca()?this.Ca().clone():void 0,image:this.Z()?this.Z().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,text:this.Pa()?this.Pa().clone():void 0,zIndex:this.za()})},t.U=function(){return this.Gc},t.vk=function(){return this.Ra},t.Ca=function(){return this.Wa},t.cf=function(t){this.Wa=t},t.Z=function(){return this.M},t.zg=function(t){this.M=t},t.Da=function(){return this.Ya},t.df=function(t){this.Ya=t},t.Pa=function(){return this.Fa},t.ef=function(t){this.Fa=t},t.za=function(){return this.kj},t.Sa=function(e){"function"==typeof e?this.Ra=e:"string"==typeof e?this.Ra=function(t){return t.get(e)}:e?e&&(this.Ra=function(){return e}):this.Ra=vh,this.Gc=e},t.Wb=function(t){this.kj=t};var fh=null;function dh(){if(!fh){var t=new uh({color:"rgba(255,255,255,0.4)"}),e=new Ba({color:"#3399CC",width:1.25});fh=[new ch({image:new lh({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return fh}function gh(){var t={},e=[255,255,255,1],o=[0,153,255,1];return t.Polygon=[new ch({fill:new uh({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new ch({stroke:new Ba({color:e,width:5})}),new ch({stroke:new Ba({color:o,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new ch({image:new lh({radius:6,fill:new uh({color:o}),stroke:new Ba({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function vh(t){return t.U()}function mh(t){fe.call(this),this.a=void 0,this.c="geometry",this.g=null,this.l=void 0,this.i=null,oe(this,ge(this.c),this.ye,this),void 0!==t&&(t instanceof Si||!t?this.Sa(t):this.H(t))}r(mh,fe),(t=mh.prototype).clone=function(){var t=new mh(this.N());t.Vc(this.c);var e=this.U();return e&&t.Sa(e.clone()),(e=this.g)&&t.Vf(e),t},t.U=function(){return this.get(this.c)},t.dm=function(){return this.a},t.wk=function(){return this.c},t.em=function(){return this.g},t.Nc=function(){return this.l},t.gl=function(){this.s()},t.ye=function(){this.i&&(ne(this.i),this.i=null);var t=this.U();t&&(this.i=oe(t,"change",this.gl,this)),this.s()},t.Sa=function(t){this.set(this.c,t)},t.Vf=function(t){this.l=(this.g=t)?function(e){var t;if("function"==typeof e)t=2==e.length?function(t){return e(this,t)}:e;else{var o;Array.isArray(e)?o=e:(k(e instanceof ch,41),o=[e]),t=function(){return o}}return t}(t):void 0,this.s()},t.kc=function(t){this.a=t,this.s()},t.Vc=function(t){re(this,ge(this.c),this.ye,this),this.c=t,oe(this,ge(this.c),this.ye,this),this.ye()};var bh=document.implementation.createDocument("","",null);function wh(t,e){return bh.createElementNS(t,e)}function xh(t,e){return function t(e,o,i){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)o?i.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(e.nodeValue);else for(e=e.firstChild;e;e=e.nextSibling)t(e,o,i);return i}(t,e,[]).join("")}function Mh(t){return t instanceof Document}function Sh(t){return t instanceof Node}function Ph(t){return(new DOMParser).parseFromString(t,"application/xml")}function Lh(i,r){return function(t,e){var o=i.call(r,t,e);void 0!==o&&c(e[e.length-1],o)}}function Ch(i,r){return function(t,e){var o=i.call(void 0!==r?r:this,t,e);void 0!==o&&e[e.length-1].push(o)}}function Ah(i,r){return function(t,e){var o=i.call(void 0!==r?r:this,t,e);void 0!==o&&(e[e.length-1]=o)}}function Eh(n){return function(t,e){var o=n.call(this,t,e);if(void 0!==o){var i=e[e.length-1],r=t.localName;(r in i?i[r]:i[r]=[]).push(o)}}}function Th(i,r){return function(t,e){var o=i.call(this,t,e);void 0!==o&&(e[e.length-1][void 0!==r?r:t.localName]=o)}}function jh(i,r){return function(t,e,o){i.call(void 0!==r?r:this,t,e,o),o[o.length-1].node.appendChild(t)}}function Rh(r){var n,s;return function(t,e,o){if(!n){n={};var i={};i[t.localName]=r,n[t.namespaceURI]=i,s=Ih(t.localName)}Gh(n,s,e,o)}}function Ih(i,r){return function(t,e,o){return t=e[e.length-1].node,void 0===(e=i)&&(e=o),void 0===(o=r)&&(o=t.namespaceURI),wh(o,e)}}var Nh=Ih();function kh(t,e){for(var o=e.length,i=Array(o),r=0;r<o;++r)i[r]=t[e[r]];return i}function Dh(t,e,o){var i,r;for(o=void 0!==o?o:{},i=0,r=t.length;i<r;++i)o[t[i]]=e;return o}function Oh(t,e,o,i){for(e=e.firstElementChild;e;e=e.nextElementSibling){var r=t[e.namespaceURI];void 0!==r&&(r=r[e.localName])&&r.call(i,e,o)}}function Fh(t,e,o,i,r){return i.push(t),Oh(e,o,i,r),i.pop()}function Gh(t,e,o,i,r,n){for(var s,a,p=(void 0!==r?r:o).length,h=0;h<p;++h)void 0!==(s=o[h])&&(void 0!==(a=e.call(n,s,i,void 0!==r?r[h]:void 0))&&t[a.namespaceURI][a.localName].call(n,a,s,i))}function Uh(t,e,o,i,r,n,s){r.push(t),Gh(e,o,i,r,n,s),r.pop()}function Bh(r,n,s,a){return function(t,e,o){var i=new XMLHttpRequest;i.open("GET","function"==typeof r?r(t,e,o):r,!0),"arraybuffer"==n.T()&&(i.responseType="arraybuffer"),i.onload=function(){if(!i.status||200<=i.status&&i.status<300){var t,e=n.T();"json"==e||"text"==e?t=i.responseText:"xml"==e?(t=i.responseXML)||(t=Ph(i.responseText)):"arraybuffer"==e&&(t=i.response),t?s.call(this,n.Qa(t,{featureProjection:o}),n.kb(t)):a.call(this)}else a.call(this)}.bind(this),i.send()}}function Vh(t,e){return Bh(t,e,function(t){this.dd(t)},a)}function Xh(){this.g=this.defaultDataProjection=null}function Wh(t,e,o){var i;return o&&(i={dataProjection:o.dataProjection?o.dataProjection:t.kb(e),featureProjection:o.featureProjection}),zh(t,i)}function zh(t,e){return lt({dataProjection:t.defaultDataProjection,featureProjection:t.g},e)}function $h(t,e,o){var i,r=o?Tt(o.featureProjection):null,n=o?Tt(o.dataProjection):null;if(i=r&&n&&!jt(r,n)?t instanceof Si?(e?t.clone():t).tb(e?r:n,e?n:r):Ot(e?t.slice():t,e?r:n,e?n:r):t,e&&o&&o.decimals){var s=Math.pow(10,o.decimals);t=function(t){for(var e=0,o=t.length;e<o;++e)t[e]=Math.round(t[e]*s)/s;return t},Array.isArray(i)?t(i):i.Dc(t)}return i}function Zh(){Xh.call(this)}function Yh(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Hh(t,e,o,i,r,n){var s=NaN,a=NaN;if(1===(h=(o-e)/i))s=t[e],a=t[e+1];else if(2==h)s=(1-r)*t[e]+r*t[e+i],a=(1-r)*t[e+1]+r*t[e+i+1];else if(h){a=t[e];var p,h=t[e+1],l=0;s=[0];for(p=e+i;p<o;p+=i){var u=t[p],c=t[p+1];l=l+Math.sqrt((u-a)*(u-a)+(c-h)*(c-h));s.push(l),a=u,h=c}for(o=r*l,h=0,l=s.length,p=!1;h<l;)(a=+D(s[r=h+(l-h>>1)],o))<0?h=r+1:(l=r,p=!a);(r=p?h:~h)<0?(o=(o-s[-r-2])/(s[-r-1]-s[-r-2]),s=d(t[e+=(-r-2)*i],t[e+i],o),a=d(t[e+1],t[e+i+1],o)):(s=t[e+r*i],a=t[e+r*i+1])}return n?(n[0]=s,n[1]=a,n):[s,a]}function Kh(t,e,o,i,r,n){if(o==e)return null;if(r<t[e+i-1])return n?((o=t.slice(e,e+i))[i-1]=r,o):null;if(t[o-1]<r)return n?((o=t.slice(o-i,o))[i-1]=r,o):null;if(r==t[e+i-1])return t.slice(e,e+i);for(e/=i,o/=i;e<o;)r<t[((n=e+o>>1)+1)*i-1]?o=n:e=n+1;if(r==(o=t[e*i-1]))return t.slice((e-1)*i,(e-1)*i+i);var s;for(n=(r-o)/(t[(e+1)*i-1]-o),o=[],s=0;s<i-1;++s)o.push(d(t[(e-1)*i+s],t[e*i+s],n));return o.push(r),o}function Jh(t,e){Ci.call(this),this.c=null,this.u=this.A=this.l=-1,this.pa(t,e)}function _h(t){return t.l!=t.f&&(t.c=t.hh(.5,t.c),t.l=t.f),t.c}function qh(t,e){Ci.call(this),this.c=[],this.l=this.u=-1,this.pa(t,e)}function Qh(t){var e,o,i=[],r=t.B,n=0,s=t.c;for(t=t.a,e=0,o=s.length;e<o;++e){var a=s[e];c(i,n=Hh(r,n,a,t,.5)),n=a}return i}function tl(t,e){var o,i,r=t.ka,n=[],s=[];for(o=0,i=e.length;o<i;++o){var a=e[o];o||(r=a.ka),c(n,a.ha()),s.push(n.length)}t.ca(r,n,s)}function el(t,e){Ci.call(this),this.pa(t,e)}function ol(t,e){Ci.call(this),this.c=[],this.u=-1,this.A=null,this.R=this.C=this.G=-1,this.l=null,this.pa(t,e)}function il(t){if(t.u!=t.f){var e,o,i=t.B,r=t.c,n=t.a,s=0,a=[];for(e=0,o=r.length;e<o;++e){var p=r[e];s=z(i,s,p[0],n);a.push((s[0]+s[2])/2,(s[1]+s[3])/2),s=p[p.length-1]}for(i=rl(t),r=t.c,n=t.a,o=[],p=e=0,s=r.length;p<s;++p){var h=r[p];o=Ji(i,e,h,n,a,2*p,o),e=h[h.length-1]}t.A=o,t.u=t.f}return t.A}function rl(t){if(t.R!=t.f){var e,o=t.B;t:{var i,r;for(i=0,r=(e=t.c).length;i<r;++i)if(!er(o,e[i],t.a,void 0)){e=!1;break t}e=!0}e?t.l=o:(t.l=o.slice(),t.l.length=ir(t.l,t.c,t.a)),t.R=t.f}return t.l}function nl(t,e,o,i){Ei(t,e,o),t.c=i,t.s()}function sl(t,e){var o,i,r,n=t.ka,s=[],a=[];for(o=0,i=e.length;o<i;++o){var p=e[o];o||(n=p.ka);var h,l,u=s.length;for(h=0,l=(r=p.Rb()).length;h<l;++h)r[h]+=u;c(s,p.ha()),a.push(r)}nl(t,n,s,a)}function al(t){t=t||{},Xh.call(this),this.b=t.geometryName}function pl(t,e){if(!t)return null;var o;if("number"==typeof t.x&&"number"==typeof t.y)o="Point";else if(t.points)o="MultiPoint";else if(t.paths)o=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var i,r,n=t.rings,s=hl(t),a=[],p=[];for(o=[],i=0,r=n.length;i<r;++i)a.length=0,Gi(a,0,n[i],s.length),tr(a,0,a.length,s.length)?p.push([n[i]]):o.push(n[i]);for(;o.length;){for(n=o.shift(),s=!1,i=p.length-1;0<=i;i--)if(B(new zi(p[i][0]).D(),new zi(n).D())){p[i].push(n),s=!0;break}s||p.push([n.reverse()])}t=lt({},t),1===p.length?(o="Polygon",t.rings=p[0]):(o="MultiPolygon",t.rings=p)}return $h((0,ul[o])(t),!1,e)}function hl(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function ll(t){return{hasZ:"XYZ"===(t=t.ka)||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}r(Zh,Xh),(t=Zh.prototype).T=function(){return"json"},t.Ub=function(t,e){return this.Sc(Yh(t),Wh(this,t,e))},t.Qa=function(t,e){return this.kg(Yh(t),Wh(this,t,e))},t.Tc=function(t,e){return this.og(Yh(t),Wh(this,t,e))},t.kb=function(t){return this.rg(Yh(t))},t.yd=function(t,e){return JSON.stringify(this.ad(t,e))},t.Xb=function(t,e){return JSON.stringify(this.ce(t,e))},t.bd=function(t,e){return JSON.stringify(this.ee(t,e))},r(Jh,Ci),(t=Jh.prototype).Tj=function(t){this.B?c(this.B,t):this.B=t.slice(),this.s()},t.clone=function(){var t=new Jh(null);return t.ca(this.ka,this.B.slice()),t},t.Gb=function(t,e,o,i){return i<E(this.D(),t,e)?i:(this.u!=this.f&&(this.A=Math.sqrt(Ni(this.B,0,this.B.length,this.a,0)),this.u=this.f),Di(this.B,0,this.B.length,this.a,this.A,!1,t,e,o,i))},t.gk=function(t,e){return _i(this.B,0,this.B.length,this.a,t,e)},t.Im=function(t,e){return"XYM"!=this.ka&&"XYZM"!=this.ka?null:Kh(this.B,0,this.B.length,this.a,t,void 0!==e&&e)},t.X=function(){return Bi(this.B,0,this.B.length,this.a)},t.hh=function(t,e){return Hh(this.B,0,this.B.length,this.a,t,e)},t.Jm=function(){var t,e=this.B,o=this.a,i=e[0],r=e[1],n=0;for(t=0+o;t<this.B.length;t+=o){var s=e[t],a=e[t+1];n=n+Math.sqrt((s-i)*(s-i)+(a-r)*(a-r)),i=s,r=a}return n},t.kd=function(t){var e=[];return e.length=Xi(this.B,0,this.B.length,this.a,t,e,0),(t=new Jh(null)).ca("XY",e),t},t.T=function(){return"LineString"},t.Xa=function(t){return qi(this.B,0,this.B.length,this.a,t)},t.pa=function(t,e){t?(Ti(this,e,t,1),this.B||(this.B=[]),this.B.length=Gi(this.B,0,t,this.a),this.s()):this.ca("XY",null)},t.ca=function(t,e){Ei(this,t,e),this.s()},r(qh,Ci),(t=qh.prototype).Uj=function(t){this.B?c(this.B,t.ha().slice()):this.B=t.ha().slice(),this.c.push(this.B.length),this.s()},t.clone=function(){var t=new qh(null);return t.ca(this.ka,this.B.slice(),this.c.slice()),t},t.Gb=function(t,e,o,i){return i<E(this.D(),t,e)?i:(this.l!=this.f&&(this.u=Math.sqrt(ki(this.B,0,this.c,this.a,0)),this.l=this.f),Oi(this.B,0,this.c,this.a,this.u,!1,t,e,o,i))},t.Lm=function(t,e,o){return"XYM"!=this.ka&&"XYZM"!=this.ka||!this.B.length?null:function(t,e,o,i,r,n){var s=0;if(n)return Kh(t,s,e[e.length-1],o,i,r);if(i<t[o-1])return r?((t=t.slice(0,o))[o-1]=i,t):null;if(t[t.length-1]<i)return r?((t=t.slice(t.length-o))[o-1]=i,t):null;for(r=0,n=e.length;r<n;++r){var a=e[r];if(s!=a){if(i<t[s+o-1])break;if(i<=t[a-1])return Kh(t,s,a,o,i,!1);s=a}}return null}(this.B,this.c,this.a,t,void 0!==e&&e,void 0!==o&&o)},t.X=function(){return Vi(this.B,0,this.c,this.a)},t.Rb=function(){return this.c},t.Dk=function(t){if(t<0||this.c.length<=t)return null;var e=new Jh(null);return e.ca(this.ka,this.B.slice(t?this.c[t-1]:0,this.c[t])),e},t.hd=function(){var t,e,o=this.B,i=this.c,r=this.ka,n=[],s=0;for(t=0,e=i.length;t<e;++t){var a=i[t],p=new Jh(null);p.ca(r,o.slice(s,a)),n.push(p),s=a}return n},t.kd=function(t){var e,o,i=[],r=[],n=this.B,s=this.c,a=this.a,p=0,h=0;for(e=0,o=s.length;e<o;++e){var l=s[e];h=Xi(n,p,l,a,t,i,h);r.push(h),p=l}return i.length=h,(t=new qh(null)).ca("XY",i,r),t},t.T=function(){return"MultiLineString"},t.Xa=function(t){t:{var e,o,i=this.B,r=this.c,n=this.a,s=0;for(e=0,o=r.length;e<o;++e){if(qi(i,s,r[e],n,t)){t=!0;break t}s=r[e]}t=!1}return t},t.pa=function(t,e){if(t){Ti(this,e,t,2),this.B||(this.B=[]);var o=Ui(this.B,0,t,this.a,this.c);this.B.length=o.length?o[o.length-1]:0,this.s()}else this.ca("XY",null,this.c)},t.ca=function(t,e,o){Ei(this,t,e),this.c=o,this.s()},r(el,Ci),(t=el.prototype).Wj=function(t){this.B?c(this.B,t.ha()):this.B=t.ha().slice(),this.s()},t.clone=function(){var t=new el(null);return t.ca(this.ka,this.B.slice()),t},t.Gb=function(t,e,o,i){if(i<E(this.D(),t,e))return i;var r,n,s,a=this.B,p=this.a;for(r=0,n=a.length;r<n;r+=p)if((s=f(t,e,a[r],a[r+1]))<i){for(i=s,s=0;s<p;++s)o[s]=a[r+s];o.length=p}return i},t.X=function(){return Bi(this.B,0,this.B.length,this.a)},t.Ok=function(t){var e=this.B?this.B.length/this.a:0;return t<0||e<=t?null:((e=new Zi(null)).ca(this.ka,this.B.slice(t*this.a,(t+1)*this.a)),e)},t.Ie=function(){var t,e,o=this.B,i=this.ka,r=this.a,n=[];for(t=0,e=o.length;t<e;t+=r){var s=new Zi(null);s.ca(i,o.slice(t,t+r)),n.push(s)}return n},t.T=function(){return"MultiPoint"},t.Xa=function(t){var e,o,i=this.B,r=this.a;for(e=0,o=i.length;e<o;e+=r)if(I(t,i[e],i[e+1]))return!0;return!1},t.pa=function(t,e){t?(Ti(this,e,t,1),this.B||(this.B=[]),this.B.length=Gi(this.B,0,t,this.a),this.s()):this.ca("XY",null)},t.ca=function(t,e){Ei(this,t,e),this.s()},r(ol,Ci),(t=ol.prototype).Xj=function(t){if(this.B){var e,o,i=this.B.length;for(c(this.B,t.ha()),e=0,o=(t=t.Rb().slice()).length;e<o;++e)t[e]+=i}else this.B=t.ha().slice(),t=t.Rb().slice(),this.c.push();this.c.push(t),this.s()},t.clone=function(){for(var t=new ol(null),e=this.c.length,o=Array(e),i=0;i<e;++i)o[i]=this.c[i].slice();return nl(t,this.ka,this.B.slice(),o),t},t.Gb=function(t,e,o,i){if(i<E(this.D(),t,e))return i;if(this.C!=this.f){var r,n,s=this.c,a=0,p=0;for(r=0,n=s.length;r<n;++r){var h=s[r];p=ki(this.B,a,h,this.a,p),a=h[h.length-1]}this.G=Math.sqrt(p),this.C=this.f}s=rl(this),a=this.c,p=this.a,r=this.G;var l,u;h=[NaN,NaN];for(l=n=0,u=a.length;l<u;++l){var c=a[l];i=Oi(s,n,c,p,r,!0,t,e,o,i,h),n=c[c.length-1]}return i},t.Oc=function(t,e){var o;t:{o=rl(this);var i,r,n=this.c,s=0;if(n.length)for(i=0,r=n.length;i<r;++i){var a=n[i];if(Ki(o,s,a,this.a,t,e)){o=!0;break t}s=a[a.length-1]}o=!1}return o},t.Mm=function(){var t,e,o=rl(this),i=this.c,r=0,n=0;for(t=0,e=i.length;t<e;++t){var s=i[t];n=n+Ri(o,r,s,this.a),r=s[s.length-1]}return n},t.X=function(t){var e;void 0!==t?ir(e=rl(this).slice(),this.c,this.a,t):e=this.B,t=e,e=this.c;var o,i,r=this.a,n=0,s=[],a=0;for(o=0,i=e.length;o<i;++o){var p=e[o];s[a++]=Vi(t,n,p,r,s[a]),n=p[p.length-1]}return s.length=a,s},t.zk=function(){var t=new el(null);return t.ca("XY",il(this).slice()),t},t.kd=function(t){var e=[],o=[],i=this.B,r=this.c,n=this.a;t=Math.sqrt(t);var s,a,p=0,h=0;for(s=0,a=r.length;s<a;++s){var l=r[s],u=[];h=Wi(i,p,l,n,t,e,h,u);o.push(u),p=l[l.length-1]}return e.length=h,nl(i=new ol(null),"XY",e,o),i},t.Pk=function(t){if(t<0||this.c.length<=t)return null;var e;t?e=(e=this.c[t-1])[e.length-1]:e=0;var o,i,r=(t=this.c[t].slice())[t.length-1];if(e)for(o=0,i=t.length;o<i;++o)t[o]-=e;return(o=new rr(null)).ca(this.ka,this.B.slice(e,r),t),o},t.Od=function(){var t,e,o,i,r=this.ka,n=this.B,s=this.c,a=[],p=0;for(t=0,e=s.length;t<e;++t){var h=s[t].slice(),l=h[h.length-1];if(p)for(o=0,i=h.length;o<i;++o)h[o]-=p;(o=new rr(null)).ca(r,n.slice(p,l),h),a.push(o),p=l}return a},t.T=function(){return"MultiPolygon"},t.Xa=function(t){t:{var e,o,i=rl(this),r=this.c,n=this.a,s=0;for(e=0,o=r.length;e<o;++e){var a=r[e];if(Qi(i,s,a,n,t)){t=!0;break t}s=a[a.length-1]}t=!1}return t},t.pa=function(t,e){if(t){Ti(this,e,t,3),this.B||(this.B=[]);var o,i,r=this.B,n=this.a,s=0,a=(a=this.c)||[],p=0;for(o=0,i=t.length;o<i;++o)s=Ui(r,s,t[o],n,a[p]),s=(a[p++]=s)[s.length-1];a.length=p,a.length?(r=a[a.length-1],this.B.length=r.length?r[r.length-1]:0):this.B.length=0,this.s()}else nl(this,"XY",null,this.c)},r(al,Zh);var ul={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Zi([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Zi([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Zi([t.x,t.y,t.m],"XYM"):new Zi([t.x,t.y])},LineString:function(t){return new Jh(t.paths[0],hl(t))},Polygon:function(t){return new rr(t.rings,hl(t))},MultiPoint:function(t){return new el(t.points,hl(t))},MultiLineString:function(t){return new qh(t.paths,hl(t))},MultiPolygon:function(t){return new ol(t.rings,hl(t))}},cl={Point:function(t){var e,o=t.X();return"XYZ"===(t=t.ka)?e={x:o[0],y:o[1],z:o[2]}:"XYM"===t?e={x:o[0],y:o[1],m:o[2]}:"XYZM"===t?e={x:o[0],y:o[1],z:o[2],m:o[3]}:"XY"===t?e={x:o[0],y:o[1]}:k(!1,34),e},LineString:function(t){var e=ll(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.X()]}},Polygon:function(t){var e=ll(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.X(!1)}},MultiPoint:function(t){var e=ll(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.X()}},MultiLineString:function(t){var e=ll(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.X()}},MultiPolygon:function(t){var e=ll(t);t=t.X(!1);for(var o=[],i=0;i<t.length;i++)for(var r=t[i].length-1;0<=r;r--)o.push(t[i][r]);return{hasZ:e.hasZ,hasM:e.hasM,rings:o}}};function yl(t,e){return(0,cl[t.T()])($h(t,!0,e),e)}function fl(t){this.Bc=t}function dl(t,e){this.Bc=t,this.b=Array.prototype.slice.call(arguments,1),k(2<=this.b.length,57)}function gl(t){var e=["And"].concat(Array.prototype.slice.call(arguments));dl.apply(this,e)}function vl(t,e,o){this.Bc="BBOX",this.geometryName=t,this.extent=e,this.srsName=o}function ml(t,e){this.Bc=t,this.b=e}function bl(t,e,o,i){ml.call(this,t,e),this.f=o,this.a=i}function wl(t,e,o){bl.call(this,"PropertyIsEqualTo",t,e,o)}function xl(t,e){bl.call(this,"PropertyIsGreaterThan",t,e)}function Ml(t,e){bl.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Sl(t,e,o,i){this.Bc=t,this.geometryName=e||"the_geom",this.geometry=o,this.srsName=i}function Pl(t,e,o){Sl.call(this,"Intersects",t,e,o)}function Ll(t,e,o){ml.call(this,"PropertyIsBetween",t),this.a=e,this.f=o}function Cl(t,e,o,i,r,n){ml.call(this,"PropertyIsLike",t),this.c=e,this.g=void 0!==o?o:"*",this.i=void 0!==i?i:".",this.f=void 0!==r?r:"!",this.a=n}function Al(t){ml.call(this,"PropertyIsNull",t)}function El(t,e){bl.call(this,"PropertyIsLessThan",t,e)}function Tl(t,e){bl.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function jl(t){this.Bc="Not",this.condition=t}function Rl(t,e,o){bl.call(this,"PropertyIsNotEqualTo",t,e,o)}function Il(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));dl.apply(this,e)}function Nl(t,e,o){Sl.call(this,"Within",t,e,o)}function kl(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(gl,e))}function Dl(t,e,o){return new vl(t,e,o)}function Ol(t){Si.call(this),this.a=t||null,Ul(this)}function Fl(t){var e,o,i=[];for(e=0,o=t.length;e<o;++e)i.push(t[e].clone());return i}function Gl(t){var e,o;if(t.a)for(e=0,o=t.a.length;e<o;++e)re(t.a[e],"change",t.s,t)}function Ul(t){var e,o;if(t.a)for(e=0,o=t.a.length;e<o;++e)oe(t.a[e],"change",t.s,t)}function Bl(t){t=t||{},Xh.call(this),this.defaultDataProjection=Tt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.g=Tt(t.featureProjection)),this.b=t.geometryName}function Vl(t,e){return t?$h((0,Wl[t.type])(t),!1,e):null}function Xl(t,e){return(0,zl[t.T()])($h(t,!0,e),e)}(t=al.prototype).Sc=function(t,e){var o=pl(t.geometry,e),i=new mh;return this.b&&i.Vc(this.b),i.Sa(o),e&&e.Rf&&t.attributes[e.Rf]&&i.kc(t.attributes[e.Rf]),t.attributes&&i.H(t.attributes),i},t.kg=function(t,e){var o=e||{};if(t.features){var i,r,n=[],s=t.features;for(o.Rf=t.objectIdFieldName,i=0,r=s.length;i<r;++i)n.push(this.Sc(s[i],o));return n}return[this.Sc(t,o)]},t.og=function(t,e){return pl(t,e)},t.rg=function(t){return t.spatialReference&&t.spatialReference.wkid?Tt("EPSG:"+t.spatialReference.wkid):null},t.ee=function(t,e){return yl(t,zh(this,e))},t.ad=function(t,e){e=zh(this,e);var o={},i=t.U();return i&&(o.geometry=yl(i,e)),delete(i=t.N())[t.c],o.attributes=yt(i)?{}:i,e&&e.featureProjection&&(o.spatialReference={wkid:Tt(e.featureProjection).nb.split(":").pop()}),o},t.ce=function(t,e){e=zh(this,e);var o,i,r=[];for(o=0,i=t.length;o<i;++o)r.push(this.ad(t[o],e));return{features:r}},r(dl,fl),r(gl,dl),r(vl,fl),r(ml,fl),r(bl,ml),r(wl,bl),r(xl,bl),r(Ml,bl),r(Sl,fl),r(Pl,Sl),r(Ll,ml),r(Cl,ml),r(Al,ml),r(El,bl),r(Tl,bl),r(jl,fl),r(Rl,bl),r(Il,dl),r(Nl,Sl),r(Ol,Si),(t=Ol.prototype).clone=function(){var t=new Ol(null);return t.Ji(this.a),t},t.Gb=function(t,e,o,i){if(i<E(this.D(),t,e))return i;var r,n,s=this.a;for(r=0,n=s.length;r<n;++r)i=s[r].Gb(t,e,o,i);return i},t.Oc=function(t,e){var o,i,r=this.a;for(o=0,i=r.length;o<i;++o)if(r[o].Oc(t,e))return!0;return!1},t.ne=function(t){X(1/0,1/0,-1/0,-1/0,t);for(var e=this.a,o=0,i=e.length;o<i;++o)Z(t,e[o].D());return t},t.If=function(){return Fl(this.a)},t.Qd=function(t){if(this.j!=this.f&&(ut(this.i),this.g=0,this.j=this.f),t<0||this.g&&t<this.g)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var o,i,r=[],n=this.a,s=!1;for(o=0,i=n.length;o<i;++o){var a=n[o],p=a.Qd(t);r.push(p),p!==a&&(s=!0)}return s?(Gl(t=new Ol(null)),t.a=r,Ul(t),t.s(),this.i[e]=t):(this.g=t,this)},t.T=function(){return"GeometryCollection"},t.Xa=function(t){var e,o,i=this.a;for(e=0,o=i.length;e<o;++e)if(i[e].Xa(t))return!0;return!1},t.rotate=function(t,e){for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].rotate(t,e);this.s()},t.scale=function(t,e,o){o||(o=Q(this.D()));for(var i=this.a,r=0,n=i.length;r<n;++r)i[r].scale(t,e,o);this.s()},t.Ji=function(t){t=Fl(t),Gl(this),this.a=t,Ul(this),this.s()},t.Dc=function(t){var e,o,i=this.a;for(e=0,o=i.length;e<o;++e)i[e].Dc(t);this.s()},t.translate=function(t,e){var o,i,r=this.a;for(o=0,i=r.length;o<i;++o)r[o].translate(t,e);this.s()},t.ra=function(){Gl(this),Si.prototype.ra.call(this)},r(Bl,Zh);var Wl={Point:function(t){return new Zi(t.coordinates)},LineString:function(t){return new Jh(t.coordinates)},Polygon:function(t){return new rr(t.coordinates)},MultiPoint:function(t){return new el(t.coordinates)},MultiLineString:function(t){return new qh(t.coordinates)},MultiPolygon:function(t){return new ol(t.coordinates)},GeometryCollection:function(t,e){return new Ol(t.geometries.map(function(t){return Vl(t,e)}))}},zl={Point:function(t){return{type:"Point",coordinates:t.X()}},LineString:function(t){return{type:"LineString",coordinates:t.X()}},Polygon:function(t,e){var o;return e&&(o=e.rightHanded),{type:"Polygon",coordinates:t.X(o)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.X()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.X()}},MultiPolygon:function(t,e){var o;return e&&(o=e.rightHanded),{type:"MultiPolygon",coordinates:t.X(o)}},GeometryCollection:function(t,o){return{type:"GeometryCollection",geometries:t.a.map(function(t){var e=lt({},o);return delete e.featureProjection,Xl(t,e)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};function $l(){this.f=new XMLSerializer,Xh.call(this)}function Zl(t,e,o){return 0<(t=Yl(t,e,o)).length?t[0]:null}function Yl(t,e,o){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&c(i,t.yc(e,o));return i}function Hl(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Ah(Hl.prototype.Xd),featureMembers:Ah(Hl.prototype.Xd)},$l.call(this)}(t=Bl.prototype).Sc=function(t,e){var o,i=Vl((o="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e),r=new mh;return this.b&&r.Vc(this.b),r.Sa(i),void 0!==o.id&&r.kc(o.id),o.properties&&r.H(o.properties),r},t.kg=function(t,e){var o;if("FeatureCollection"===t.type){o=[];var i,r,n=t.features;for(i=0,r=n.length;i<r;++i)o.push(this.Sc(n[i],e))}else o=[this.Sc(t,e)];return o},t.og=function(t,e){return Vl(t,e)},t.rg=function(t){var e;return(t=t.crs)?"name"==t.type?e=Tt(t.properties.name):"EPSG"==t.type?e=Tt("EPSG:"+t.properties.code):k(!1,36):e=this.defaultDataProjection,e},t.ad=function(t,e){e=zh(this,e);var o={type:"Feature"},i=t.a;return void 0!==i&&(o.id=i),(i=t.U())?o.geometry=Xl(i,e):o.geometry=null,delete(i=t.N())[t.c],yt(i)?o.properties=null:o.properties=i,o},t.ce=function(t,e){e=zh(this,e);var o,i,r=[];for(o=0,i=t.length;o<i;++o)r.push(this.ad(t[o],e));return{type:"FeatureCollection",features:r}},t.ee=function(t,e){return Xl(t,zh(this,e))},r($l,Xh),(t=$l.prototype).T=function(){return"xml"},t.Ub=function(t,e){return Mh(t)?Zl(this,t,e):Sh(t)?this.jg(t,e):"string"==typeof t?Zl(this,Ph(t),e):null},t.jg=function(){return null},t.Qa=function(t,e){return Mh(t)?Yl(this,t,e):Sh(t)?this.yc(t,e):"string"==typeof t?Yl(this,Ph(t),e):[]},t.Tc=function(t,e){return Mh(t)?null:Sh(t)?this.vi(t,e):("string"==typeof t&&Ph(t),null)},t.vi=function(){return null},t.kb=function(t){return Mh(t)?this.qg(t):Sh(t)?this.Ze(t):"string"==typeof t?(t=Ph(t),this.qg(t)):null},t.qg=function(){return this.defaultDataProjection},t.Ze=function(){return this.defaultDataProjection},t.yd=function(t,e){return this.f.serializeToString(this.Fg(t,e))},t.Fg=function(){return null},t.Xb=function(t,e){var o=this.Yb(t,e);return this.f.serializeToString(o)},t.Yb=function(){return null},t.bd=function(t,e){var o=this.de(t,e);return this.f.serializeToString(o)},t.de=function(){return null},r(Hl,$l);var Kl=/^[\s\xa0]*$/;function Jl(t){return _l(t=xh(t,!1))}function _l(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function ql(t){return t=xh(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Ql(t){return tu(t=xh(t,!1))}function tu(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function eu(t){return ou(t=xh(t,!1))}function ou(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function iu(t){return xh(t,!1).trim()}function ru(t,e){au(t,e?"1":"0")}function nu(t,e){t.appendChild(bh.createTextNode(e.toPrecision()))}function su(t,e){t.appendChild(bh.createTextNode(e.toString()))}function au(t,e){t.appendChild(bh.createTextNode(e))}function pu(t){Hl.call(this,t=t||{}),this.o=void 0!==t.surface&&t.surface,this.i=void 0!==t.curve&&t.curve,this.l=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function hu(t,e,o){o=o[o.length-1].srsName;for(var i,r=(e=e.X()).length,n=Array(r),s=0;s<r;++s){i=e[s];var a=s,p="enu";o&&(p=Tt(o).b),n[a]="en"===p.substr(0,2)?i[0]+" "+i[1]:i[1]+" "+i[0]}au(t,n.join(" "))}(t=Hl.prototype).Xd=function(t,e){var o=t.localName,i=null;if("FeatureCollection"==o)i="http://www.opengis.net/wfs"===t.namespaceURI?Fh([],this.b,t,e,this):Fh(null,this.b,t,e,this);else if("featureMembers"==o||"featureMember"==o){var r,n,s=(f=e[0]).featureType,a=f.featureNS;if(!s&&t.childNodes){for(s=[],a={},r=0,n=t.childNodes.length;r<n;++r){if(1===(c=t.childNodes[r]).nodeType){var p=c.nodeName.split(":").pop();if(-1===s.indexOf(p)){var h,l="",u=0,c=c.namespaceURI;for(h in a){if(a[h]===c){l=h;break}++u}l||(a[l="p"+u]=c),s.push(l+":"+p)}}}"featureMember"!=o&&(f.featureType=s,f.featureNS=a)}"string"==typeof a&&(r=a,(a={}).p0=r);var y,f={};s=Array.isArray(s)?s:[s];for(y in a){for(p={},r=0,n=s.length;r<n;++r)(-1===s[r].indexOf(":")?"p0":s[r].split(":")[0])===y&&(p[s[r].split(":").pop()]="featureMembers"==o?Ch(this.ig,this):Ah(this.ig,this));f[a[y]]=p}i=Fh("featureMember"==o?void 0:[],f,t,e)}return null===i&&(i=[]),i},t.We=function(t,e){var o=e[0];o.srsName=t.firstElementChild.getAttribute("srsName");var i=Fh(null,this.Jg,t,e,this);if(i)return $h(i,!1,o)},t.ig=function(t,e){var o,i;(i=t.getAttribute("fid"))||(i=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var r,n={};for(o=t.firstElementChild;o;o=o.nextElementSibling){var s=o.localName;if(0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)){var a=xh(o,!1);Kl.test(a)&&(a=void 0),n[s]=a}else"boundedBy"!==s&&(r=s),n[s]=this.We(o,e)}return o=new mh(n),r&&o.Vc(r),i&&o.kc(i),o},t.Ai=function(t,e){var o=this.Ve(t,e);if(o){var i=new Zi(null);return i.ca("XYZ",o),i}},t.yi=function(t,e){var o=Fh([],this.sj,t,e,this);if(o)return new el(o)},t.xi=function(t,e){var o=Fh([],this.rj,t,e,this);if(o){var i=new qh(null);return tl(i,o),i}},t.zi=function(t,e){var o=Fh([],this.tj,t,e,this);if(o){var i=new ol(null);return sl(i,o),i}},t.ri=function(t,e){Oh(this.wj,t,e,this)},t.yh=function(t,e){Oh(this.pj,t,e,this)},t.si=function(t,e){Oh(this.xj,t,e,this)},t.Xe=function(t,e){var o=this.Ve(t,e);if(o){var i=new Jh(null);return i.ca("XYZ",o),i}},t.Lo=function(t,e){var o=Fh(null,this.fe,t,e,this);if(o)return o},t.wi=function(t,e){var o=this.Ve(t,e);if(o){var i=new zi(null);return $i(i,"XYZ",o),i}},t.Ye=function(t,e){var o=Fh([null],this.qf,t,e,this);if(o&&o[0]){var i,r,n=new rr(null),s=o[0],a=[s.length];for(i=1,r=o.length;i<r;++i)c(s,o[i]),a.push(s.length);return n.ca("XYZ",s,a),n}},t.Ve=function(t,e){return Fh(null,this.fe,t,e,this)},t.sj={"http://www.opengis.net/gml":{pointMember:Ch(Hl.prototype.ri),pointMembers:Ch(Hl.prototype.ri)}},t.rj={"http://www.opengis.net/gml":{lineStringMember:Ch(Hl.prototype.yh),lineStringMembers:Ch(Hl.prototype.yh)}},t.tj={"http://www.opengis.net/gml":{polygonMember:Ch(Hl.prototype.si),polygonMembers:Ch(Hl.prototype.si)}},t.wj={"http://www.opengis.net/gml":{Point:Ch(Hl.prototype.Ve)}},t.pj={"http://www.opengis.net/gml":{LineString:Ch(Hl.prototype.Xe)}},t.xj={"http://www.opengis.net/gml":{Polygon:Ch(Hl.prototype.Ye)}},t.ge={"http://www.opengis.net/gml":{LinearRing:Ah(Hl.prototype.Lo)}},t.vi=function(t,e){var o=this.We(t,[Wh(this,t,e||{})]);return o||null},t.yc=function(t,e){var o={featureType:this.featureType,featureNS:this.featureNS};return e&&lt(o,Wh(this,t,e)),this.Xd(t,[o])||[]},t.Ze=function(t){return Tt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r(pu,Hl),(t=pu.prototype).Po=function(t,e){var o=Fh([],this.qj,t,e,this);if(o){var i=new qh(null);return tl(i,o),i}},t.Qo=function(t,e){var o=Fh([],this.uj,t,e,this);if(o){var i=new ol(null);return sl(i,o),i}},t.Zg=function(t,e){Oh(this.mj,t,e,this)},t.Wi=function(t,e){Oh(this.Bj,t,e,this)},t.To=function(t,e){return Fh([null],this.vj,t,e,this)},t.Wo=function(t,e){return Fh([null],this.Aj,t,e,this)},t.Uo=function(t,e){return Fh([null],this.qf,t,e,this)},t.Oo=function(t,e){return Fh([null],this.fe,t,e,this)},t.Jl=function(t,e){var o=Fh(void 0,this.ge,t,e,this);o&&e[e.length-1].push(o)},t.ck=function(t,e){var o=Fh(void 0,this.ge,t,e,this);o&&(e[e.length-1][0]=o)},t.Bi=function(t,e){var o=Fh([null],this.Cj,t,e,this);if(o&&o[0]){var i,r,n=new rr(null),s=o[0],a=[s.length];for(i=1,r=o.length;i<r;++i)c(s,o[i]),a.push(s.length);return n.ca("XYZ",s,a),n}},t.ti=function(t,e){var o=Fh([null],this.nj,t,e,this);if(o){var i=new Jh(null);return i.ca("XYZ",o),i}},t.Ko=function(t,e){var o=Fh([null],this.oj,t,e,this);return X(o[1][0],o[1][1],o[2][0],o[2][1])},t.Mo=function(t,e){for(var o,i=xh(t,!1),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,n=[];o=r.exec(i);)n.push(parseFloat(o[1])),i=i.substr(o[0].length);if(""===i){if(r="enu",(i=e[0].srsName)&&(r=Tt(i).b),"neu"===r)for(i=0,r=n.length;i<r;i+=3)o=n[i],n[i]=n[i+1],n[i+1]=o;if(2==(i=n.length)&&n.push(0),i)return n}},t.ng=function(t,e){var o=xh(t,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName,r=t.parentNode.getAttribute("srsDimension"),n="enu";i&&(n=Tt(i).b),o=o.split(/\s+/),i=2,t.getAttribute("srsDimension")?i=ou(t.getAttribute("srsDimension")):t.getAttribute("dimension")?i=ou(t.getAttribute("dimension")):r&&(i=ou(r));for(var s,a,p=[],h=0,l=o.length;h<l;h+=i)r=parseFloat(o[h]),s=parseFloat(o[h+1]),a=3===i?parseFloat(o[h+2]):0,"en"===n.substr(0,2)?p.push(r,s,a):p.push(s,r,a);return p},t.fe={"http://www.opengis.net/gml":{pos:Ah(pu.prototype.Mo),posList:Ah(pu.prototype.ng)}},t.qf={"http://www.opengis.net/gml":{interior:pu.prototype.Jl,exterior:pu.prototype.ck}},t.Jg={"http://www.opengis.net/gml":{Point:Ah(Hl.prototype.Ai),MultiPoint:Ah(Hl.prototype.yi),LineString:Ah(Hl.prototype.Xe),MultiLineString:Ah(Hl.prototype.xi),LinearRing:Ah(Hl.prototype.wi),Polygon:Ah(Hl.prototype.Ye),MultiPolygon:Ah(Hl.prototype.zi),Surface:Ah(pu.prototype.Bi),MultiSurface:Ah(pu.prototype.Qo),Curve:Ah(pu.prototype.ti),MultiCurve:Ah(pu.prototype.Po),Envelope:Ah(pu.prototype.Ko)}},t.qj={"http://www.opengis.net/gml":{curveMember:Ch(pu.prototype.Zg),curveMembers:Ch(pu.prototype.Zg)}},t.uj={"http://www.opengis.net/gml":{surfaceMember:Ch(pu.prototype.Wi),surfaceMembers:Ch(pu.prototype.Wi)}},t.mj={"http://www.opengis.net/gml":{LineString:Ch(Hl.prototype.Xe),Curve:Ch(pu.prototype.ti)}},t.Bj={"http://www.opengis.net/gml":{Polygon:Ch(Hl.prototype.Ye),Surface:Ch(pu.prototype.Bi)}},t.Cj={"http://www.opengis.net/gml":{patches:Ah(pu.prototype.To)}},t.nj={"http://www.opengis.net/gml":{segments:Ah(pu.prototype.Wo)}},t.oj={"http://www.opengis.net/gml":{lowerCorner:Ch(pu.prototype.ng),upperCorner:Ch(pu.prototype.ng)}},t.vj={"http://www.opengis.net/gml":{PolygonPatch:Ah(pu.prototype.Uo)}},t.Aj={"http://www.opengis.net/gml":{LineStringSegment:Ah(pu.prototype.Oo)}},t.hj=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),i=wh(t.namespaceURI,"pos"),t.appendChild(i),t="enu",(o=o[o.length-1].srsName)&&(t=Tt(o).b),e=e.X(),au(i,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var lu={"http://www.opengis.net/gml":{lowerCorner:jh(au),upperCorner:jh(au)}};(t=pu.prototype).Jp=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),Uh({node:t},lu,Nh,[e[0]+" "+e[1],e[2]+" "+e[3]],o,["lowerCorner","upperCorner"],this)},t.ej=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),i=wh(t.namespaceURI,"posList"),t.appendChild(i),hu(i,e,o)},t.zj=function(t,e){var o=e[e.length-1],i=o.node,r=o.exteriorWritten;return void 0===r&&(o.exteriorWritten=!0),wh(i.namespaceURI,void 0!==r?"interior":"exterior")},t.nf=function(t,e,o){var i=o[o.length-1].srsName;"PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.jd(),Uh({node:t,srsName:i},fu,this.zj,e,o,void 0,this)):"Surface"===t.nodeName&&(i=wh(t.namespaceURI,"patches"),t.appendChild(i),t=wh(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.nf(t,e,o))},t.mf=function(t,e,o){var i=o[o.length-1].srsName;"LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(i=wh(t.namespaceURI,"posList"),t.appendChild(i),hu(i,e,o)):"Curve"===t.nodeName&&(i=wh(t.namespaceURI,"segments"),t.appendChild(i),t=wh(i.namespaceURI,"LineStringSegment"),i.appendChild(t),this.mf(t,e,o))},t.gj=function(t,e,o){var i=(r=o[o.length-1]).srsName,r=r.surface;i&&t.setAttribute("srsName",i),e=e.Od(),Uh({node:t,srsName:i,surface:r},uu,this.c,e,o,void 0,this)},t.Kp=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),e=e.Ie(),Uh({node:t,srsName:i},cu,Ih("pointMember"),e,o,void 0,this)},t.fj=function(t,e,o){var i=(r=o[o.length-1]).srsName,r=r.curve;i&&t.setAttribute("srsName",i),e=e.hd(),Uh({node:t,srsName:i,curve:r},yu,this.c,e,o,void 0,this)},t.ij=function(t,e,o){var i=wh(t.namespaceURI,"LinearRing");t.appendChild(i),this.ej(i,e,o)},t.jj=function(t,e,o){var i=this.a(e,o);i&&(t.appendChild(i),this.nf(i,e,o))},t.Lp=function(t,e,o){var i=wh(t.namespaceURI,"Point");t.appendChild(i),this.hj(i,e,o)},t.dj=function(t,e,o){var i=this.a(e,o);i&&(t.appendChild(i),this.mf(i,e,o))},t.zd=function(t,e,o){var i,r=o[o.length-1],n=lt({},r);n.node=t,i=Array.isArray(e)?r.dataProjection?Ot(e,r.featureProjection,r.dataProjection):e:$h(e,!0,r),Uh(n,du,this.a,[i],o,void 0,this)},t.cj=function(t,e,o){(i=e.a)&&t.setAttribute("fid",i);var i,r=(i=o[o.length-1]).featureNS,n=e.c;i.Uc||(i.Uc={},i.Uc[r]={});var s=e.N();e=[];var a,p=[];for(a in s){var h=s[a];null!==h&&(e.push(a),p.push(h),a==n||h instanceof Si?a in i.Uc[r]||(i.Uc[r][a]=jh(this.zd,this)):a in i.Uc[r]||(i.Uc[r][a]=jh(au)))}(a=lt({},i)).node=t,Uh(a,i.Uc,Ih(void 0,r),p,o,e)};var uu={"http://www.opengis.net/gml":{surfaceMember:jh(pu.prototype.jj),polygonMember:jh(pu.prototype.jj)}},cu={"http://www.opengis.net/gml":{pointMember:jh(pu.prototype.Lp)}},yu={"http://www.opengis.net/gml":{lineStringMember:jh(pu.prototype.dj),curveMember:jh(pu.prototype.dj)}},fu={"http://www.opengis.net/gml":{exterior:jh(pu.prototype.ij),interior:jh(pu.prototype.ij)}},du={"http://www.opengis.net/gml":{Curve:jh(pu.prototype.mf),MultiCurve:jh(pu.prototype.fj),Point:jh(pu.prototype.hj),MultiPoint:jh(pu.prototype.Kp),LineString:jh(pu.prototype.mf),MultiLineString:jh(pu.prototype.fj),LinearRing:jh(pu.prototype.ej),Polygon:jh(pu.prototype.nf),MultiPolygon:jh(pu.prototype.gj),Surface:jh(pu.prototype.nf),MultiSurface:jh(pu.prototype.gj),Envelope:jh(pu.prototype.Jp)}},gu={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};function vu(t){Hl.call(this,t=t||{}),this.b["http://www.opengis.net/gml"].featureMember=Ch(Hl.prototype.Xd),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function mu(t){t=t||{},$l.call(this),this.defaultDataProjection=Tt("EPSG:4326"),this.b=t.readExtensions}pu.prototype.c=function(t,e){return wh("http://www.opengis.net/gml",gu[e[e.length-1].node.nodeName])},pu.prototype.a=function(t,e){var o,i=(s=e[e.length-1]).multiSurface,r=s.surface,n=s.curve,s=s.multiCurve;return Array.isArray(t)?o="Envelope":"MultiPolygon"===(o=t.T())&&!0===i?o="MultiSurface":"Polygon"===o&&!0===r?o="Surface":"LineString"===o&&!0===n?o="Curve":"MultiLineString"===o&&!0===s&&(o="MultiCurve"),wh("http://www.opengis.net/gml",o)},pu.prototype.de=function(t,e){e=zh(this,e);var o=wh("http://www.opengis.net/gml","geom"),i={node:o,srsName:this.srsName,curve:this.i,surface:this.o,multiSurface:this.j,multiCurve:this.l};return e&&lt(i,e),this.zd(o,t,[i]),o},pu.prototype.Yb=function(t,e){e=zh(this,e);var o=wh("http://www.opengis.net/gml","featureMembers");o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,curve:this.i,surface:this.o,multiSurface:this.j,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};e&&lt(i,e);var r=(i=[i])[i.length-1],n=r.featureType,s=r.featureNS,a={};return a[s]={},a[s][n]=jh(this.cj,this),(r=lt({},r)).node=o,Uh(r,a,Ih(n,s),t,i),o},r(vu,Hl),(t=vu.prototype).ui=function(t,e){var o=xh(t,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName,r=t.parentNode.getAttribute("srsDimension"),n="enu";i&&(i=Tt(i))&&(n=i.b),o=o.split(/[\s,]+/),i=2,t.getAttribute("srsDimension")?i=ou(t.getAttribute("srsDimension")):t.getAttribute("dimension")?i=ou(t.getAttribute("dimension")):r&&(i=ou(r));for(var s,a,p=[],h=0,l=o.length;h<l;h+=i)r=parseFloat(o[h]),s=parseFloat(o[h+1]),a=3===i?parseFloat(o[h+2]):0,"en"===n.substr(0,2)?p.push(r,s,a):p.push(s,r,a);return p},t.Io=function(t,e){var o=Fh([null],this.lj,t,e,this);return X(o[1][0],o[1][1],o[1][3],o[1][4])},t.Hl=function(t,e){var o=Fh(void 0,this.ge,t,e,this);o&&e[e.length-1].push(o)},t.ro=function(t,e){var o=Fh(void 0,this.ge,t,e,this);o&&(e[e.length-1][0]=o)},t.fe={"http://www.opengis.net/gml":{coordinates:Ah(vu.prototype.ui)}},t.qf={"http://www.opengis.net/gml":{innerBoundaryIs:vu.prototype.Hl,outerBoundaryIs:vu.prototype.ro}},t.lj={"http://www.opengis.net/gml":{coordinates:Ch(vu.prototype.ui)}},t.Jg={"http://www.opengis.net/gml":{Point:Ah(Hl.prototype.Ai),MultiPoint:Ah(Hl.prototype.yi),LineString:Ah(Hl.prototype.Xe),MultiLineString:Ah(Hl.prototype.xi),LinearRing:Ah(Hl.prototype.wi),Polygon:Ah(Hl.prototype.Ye),MultiPolygon:Ah(Hl.prototype.zi),Box:Ah(vu.prototype.Io)}},r(mu,$l);var bu=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function wu(t,e,o,i){return t.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function xu(t,e,o){var i="XY",r=2;if(t.hasZ&&t.hasM?(i="XYZM",r=4):t.hasZ?(i="XYZ",r=3):t.hasM&&(i="XYM",r=3),4!==r){var n,s;for(n=0,s=e.length/4;n<s;n++)e[n*r]=e[4*n],e[n*r+1]=e[4*n+1],t.hasZ&&(e[n*r+2]=e[4*n+2]),t.hasM&&(e[n*r+2]=e[4*n+3]);if(e.length=e.length/4*r,o)for(n=0,s=o.length;n<s;n++)o[n]=o[n]/4*r}return i}function Mu(t,e){var o=e[e.length-1],i=t.getAttribute("href");null!==i&&(o.link=i),Oh(Tu,t,e)}function Su(t,e){e[e.length-1].extensionsNode_=t}function Pu(t,e){var o=e[0],i=Fh({flatCoordinates:[],layoutOptions:{}},ju,t,e);if(i){var r=i.flatCoordinates;delete i.flatCoordinates;var n=i.layoutOptions;delete i.layoutOptions;n=xu(n,r);var s=new Jh(null);return s.ca(n,r),$h(s,!1,o),(o=new mh(s)).H(i),o}}function Lu(t,e){var o=e[0],i=Fh({flatCoordinates:[],ends:[],layoutOptions:{}},Iu,t,e);if(i){var r=i.flatCoordinates;delete i.flatCoordinates;var n=i.ends;delete i.ends;var s=i.layoutOptions;delete i.layoutOptions;s=xu(s,r,n);var a=new qh(null);return a.ca(s,r,n),$h(a,!1,o),(o=new mh(a)).H(i),o}}function Cu(t,e){var o,i,r=e[0],n=Fh({},Du,t,e);if(n)return $h(i=new Zi(i=wu([],o={},t,n),o=xu(o,i)),!1,r),(r=new mh(i)).H(n),r}var Au={rte:Pu,trk:Lu,wpt:Cu},Eu=Dh(bu,{rte:Ch(Pu),trk:Ch(Lu),wpt:Ch(Cu)}),Tu=Dh(bu,{text:Th(iu,"linkText"),type:Th(iu,"linkType")}),ju=Dh(bu,{name:Th(iu),cmt:Th(iu),desc:Th(iu),src:Th(iu),link:Mu,number:Th(eu),extensions:Su,type:Th(iu),rtept:function(t,e){var o=Fh({},Ru,t,e);if(o){var i=e[e.length-1];wu(i.flatCoordinates,i.layoutOptions,t,o)}}}),Ru=Dh(bu,{ele:Th(Ql),time:Th(ql)}),Iu=Dh(bu,{name:Th(iu),cmt:Th(iu),desc:Th(iu),src:Th(iu),link:Mu,number:Th(eu),type:Th(iu),extensions:Su,trkseg:function(t,e){var o=e[e.length-1];Oh(Nu,t,e),o.ends.push(o.flatCoordinates.length)}}),Nu=Dh(bu,{trkpt:function(t,e){var o=Fh({},ku,t,e);if(o){var i=e[e.length-1];wu(i.flatCoordinates,i.layoutOptions,t,o)}}}),ku=Dh(bu,{ele:Th(Ql),time:Th(ql)}),Du=Dh(bu,{ele:Th(Ql),time:Th(ql),magvar:Th(Ql),geoidheight:Th(Ql),name:Th(iu),cmt:Th(iu),desc:Th(iu),src:Th(iu),link:Mu,sym:Th(iu),type:Th(iu),fix:Th(iu),sat:Th(eu),hdop:Th(Ql),vdop:Th(Ql),pdop:Th(Ql),ageofdgpsdata:Th(Ql),dgpsid:Th(eu),extensions:Su});function Ou(t,e){e||(e=[]);for(var o=0,i=e.length;o<i;++o){var r=e[o];if(t.b){var n=r.get("extensionsNode_")||null;t.b(r,n)}r.set("extensionsNode_",void 0)}}function Fu(t,e,o){t.setAttribute("href",e),e=o[o.length-1].properties,Uh({node:t},Bu,Nh,[e.linkText,e.linkType],o,Uu)}function Gu(t,e,o){var i=o[o.length-1],r=i.node.namespaceURI,n=i.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),i.geometryLayout){case"XYZM":e[3]&&(n.time=e[3]);case"XYZ":e[2]&&(n.ele=e[2]);break;case"XYM":e[2]&&(n.time=e[2])}i=kh(n,e="rtept"==t.nodeName?Wu[r]:Hu[r]),Uh({node:t,properties:n},Ku,Nh,i,o,e)}mu.prototype.jg=function(t,e){if(!v(bu,t.namespaceURI))return null;var o=Au[t.localName];return o&&(o=o(t,[Wh(this,t,e)]))?(Ou(this,[o]),o):null},mu.prototype.yc=function(t,e){if(!v(bu,t.namespaceURI))return[];if("gpx"==t.localName){var o=Fh([],Eu,t,[Wh(this,t,e)]);if(o)return Ou(this,o),o}return[]};var Uu=["text","type"],Bu=Dh(bu,{text:jh(au),type:jh(au)}),Vu=Dh(bu,"name cmt desc src link number type rtept".split(" ")),Xu=Dh(bu,{name:jh(au),cmt:jh(au),desc:jh(au),src:jh(au),link:jh(Fu),number:jh(su),type:jh(au),rtept:Rh(jh(Gu))}),Wu=Dh(bu,["ele","time"]),zu=Dh(bu,"name cmt desc src link number type trkseg".split(" ")),$u=Dh(bu,{name:jh(au),cmt:jh(au),desc:jh(au),src:jh(au),link:jh(Fu),number:jh(su),type:jh(au),trkseg:Rh(jh(function(t,e,o){Uh({node:t,geometryLayout:e.ka,properties:{}},Yu,Zu,e.X(),o)}))}),Zu=Ih("trkpt"),Yu=Dh(bu,{trkpt:jh(Gu)}),Hu=Dh(bu,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Ku=Dh(bu,{ele:jh(nu),time:jh(function(t,e){var o=new Date(1e3*e);t.appendChild(bh.createTextNode(o.getUTCFullYear()+"-"+pi(o.getUTCMonth()+1)+"-"+pi(o.getUTCDate())+"T"+pi(o.getUTCHours())+":"+pi(o.getUTCMinutes())+":"+pi(o.getUTCSeconds())+"Z"))}),magvar:jh(nu),geoidheight:jh(nu),name:jh(au),cmt:jh(au),desc:jh(au),src:jh(au),link:jh(Fu),sym:jh(au),type:jh(au),fix:jh(au),sat:jh(su),hdop:jh(nu),vdop:jh(nu),pdop:jh(nu),ageofdgpsdata:jh(nu),dgpsid:jh(su)}),Ju={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function _u(t,e){var o=t.U();if(o&&(o=Ju[o.T()]))return wh(e[e.length-1].node.namespaceURI,o)}var qu=Dh(bu,{rte:jh(function(t,e,o){var i=o[0],r=e.N();t={node:t,properties:r},(e=e.U())&&(e=$h(e,!0,i),t.geometryLayout=e.ka,r.rtept=e.X()),r=kh(r,i=Vu[o[o.length-1].node.namespaceURI]),Uh(t,Xu,Nh,r,o,i)}),trk:jh(function(t,e,o){var i=o[0],r=e.N();t={node:t,properties:r},(e=e.U())&&(e=$h(e,!0,i),r.trkseg=e.hd()),r=kh(r,i=zu[o[o.length-1].node.namespaceURI]),Uh(t,$u,Nh,r,o,i)}),wpt:jh(function(t,e,o){var i=o[0],r=o[o.length-1];r.properties=e.N(),(e=e.U())&&(e=$h(e,!0,i),r.geometryLayout=e.ka,Gu(t,e.X(),o))})});function Qu(){Xh.call(this)}function tc(t){return"string"==typeof t?t:""}function ec(t){t=t||{},Xh.call(this),this.defaultDataProjection=Tt("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}mu.prototype.Yb=function(t,e){e=zh(this,e);var o=wh("http://www.topografix.com/GPX/1/1","gpx");return o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),o.setAttribute("version","1.1"),o.setAttribute("creator","OpenLayers"),Uh({node:o},qu,_u,t,[e]),o},r(Qu,Xh),(t=Qu.prototype).T=function(){return"text"},t.Ub=function(t,e){return this.Wd(tc(t),zh(this,e))},t.Qa=function(t,e){return this.lg(tc(t),zh(this,e))},t.Tc=function(t,e){return this.ud(tc(t),zh(this,e))},t.kb=function(){return this.defaultDataProjection},t.yd=function(t,e){return this.be(t,zh(this,e))},t.Xb=function(t,e){return this.Gg(t,zh(this,e))},t.bd=function(t,e){return this.Ad(t,zh(this,e))},r(ec,Qu);var oc,ic,rc,nc,sc,ac,pc,hc,lc,uc,cc,yc,fc,dc,gc,vc=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,mc=/^H.([A-Z]{3}).*?:(.*)/,bc=/^HFDTE(\d{2})(\d{2})(\d{2})/,wc=/\r\n|\r|\n/;function xc(t,e,o,i,r,n){ue.call(this),this.l=null,this.M=t||new Image,null!==i&&(this.M.crossOrigin=i),this.c=n?document.createElement("CANVAS"):null,this.g=n,this.i=null,this.f=r,this.a=o,this.j=e,this.o=!1,2==this.f&&Mc(this)}function Mc(e){var t=Ne(1,1);try{t.drawImage(e.M,0,0),t.getImageData(0,0,1,1)}catch(t){e.o=!0}}function Sc(t){t=t||{},this.j=void 0!==t.anchor?t.anchor:[.5,.5],this.I=null,this.a=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.G=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.ta=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,o=void 0!==t.imgSize?t.imgSize:null,i=t.src;k(!(void 0!==i&&e),4),k(!e||e&&o,5),void 0!==i&&i.length||!e||(i=e.src||U(e).toString()),k(void 0!==i&&0<i.length,6);var r=void 0!==t.src?0:2;this.i=void 0!==t.color?Le(t.color):null;var n=this.ta,s=this.i,a=zn.get(i,n,s);a||(a=new xc(e,i,o,n,r,s),zn.set(i,n,s,a)),this.b=a,this.qa=void 0!==t.offset?t.offset:[0,0],this.f=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.u=null,this.A=void 0!==t.size?t.size:null,ah.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function Pc(t){t=t||{},this.a=t.font,this.i=t.rotation,this.j=t.rotateWithView,this.b=t.scale,this.Fa=t.text,this.g=t.textAlign,this.l=t.textBaseline,this.Wa=void 0!==t.fill?t.fill:new uh({color:"#333"}),this.Ya=void 0!==t.stroke?t.stroke:null,this.f=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function Lc(t){t=t||{},$l.call(this),oc||(rc=new uh({color:ic=[255,255,255,1]}),ac=sc="pixels",uc=new Sc({anchor:nc=[20,2],anchorOrigin:"bottom-left",anchorXUnits:sc,anchorYUnits:ac,crossOrigin:"anonymous",rotation:0,scale:lc=.5,size:pc=[64,64],src:hc="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),cc="NO_IMAGE",yc=new Ba({color:ic,width:1}),fc=new Ba({color:[51,51,51,1],width:2}),dc=new Pc({font:"bold 16px Helvetica",fill:rc,stroke:fc,scale:.8}),gc=new ch({fill:rc,image:uc,text:dc,stroke:yc,zIndex:0}),oc=[gc]),this.defaultDataProjection=Tt("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:oc,this.c=void 0===t.extractStyles||t.extractStyles,this.l=void 0===t.writeStyles||t.writeStyles,this.b={},this.i=void 0===t.showPointNames||t.showPointNames}(t=ec.prototype).Wd=function(t,e){var o,i,r=this.b,n=t.split(wc),s={},a=[],p=2e3,h=0,l=1,u=-1;for(o=0,i=n.length;o<i;++o){var c;if("B"==(y=n[o]).charAt(0)){if(c=vc.exec(y)){var y=parseInt(c[1],10),f=parseInt(c[2],10),d=parseInt(c[3],10),g=parseInt(c[4],10)+parseInt(c[5],10)/6e4;"S"==c[6]&&(g=-g);var v=parseInt(c[7],10)+parseInt(c[8],10)/6e4;"W"==c[9]&&(v=-v),a.push(v,g),"none"!=r&&a.push("gps"==r?parseInt(c[11],10):"barometric"==r?parseInt(c[12],10):0),(c=Date.UTC(p,h,l,y,f,d))<u&&(c=Date.UTC(p,h,l+1,y,f,d)),a.push(c/1e3),u=c}}else"H"==y.charAt(0)&&((c=bc.exec(y))?(l=parseInt(c[1],10),h=parseInt(c[2],10)-1,p=2e3+parseInt(c[3],10)):(c=mc.exec(y))&&(s[c[1]]=c[2].trim()))}return a.length?((n=new Jh(null)).ca("none"==r?"XYM":"XYZM",a),(r=new mh($h(n,!1,e))).H(s),r):null},t.lg=function(t,e){var o=this.Wd(t,e);return o?[o]:[]},t.be=function(){},t.Gg=function(){},t.Ad=function(){},t.ud=function(){},r(xc,ue),xc.prototype.v=function(){this.f=3,this.i.forEach(ne),this.i=null,this.b("change")},xc.prototype.I=function(){if(this.f=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(ne),this.i=null,Mc(this),!this.o&&null!==this.g){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),o=e.data,i=this.g[0]/255,r=this.g[1]/255,n=this.g[2]/255,s=0,a=o.length;s<a;s+=4)o[s]*=i,o[s+1]*=r,o[s+2]*=n;t.putImageData(e,0,0)}this.b("change")},xc.prototype.Z=function(){return this.c?this.c:this.M},xc.prototype.load=function(){if(0==this.f){this.f=1,this.i=[ie(this.M,"error",this.v,this),ie(this.M,"load",this.I,this)];try{this.M.src=this.j}catch(t){this.v()}}},r(Sc,ah),(t=Sc.prototype).clone=function(){var t,e=this.Z(1);if(2===this.b.f)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{var o=(t=document.createElement("canvas")).getContext("2d");t.width=e.width,t.height=e.height,o.drawImage(e,0,0)}return new Sc({anchor:this.j.slice(),anchorOrigin:this.a,anchorXUnits:this.C,anchorYUnits:this.G,crossOrigin:this.ta,color:this.i&&this.i.slice?this.i.slice():this.i||void 0,img:t||void 0,imgSize:t?this.b.a.slice():void 0,src:t?void 0:this.b.j,offset:this.qa.slice(),offsetOrigin:this.f,size:null!==this.A?this.A.slice():void 0,opacity:this.g,scale:this.c,snapToPixel:this.v,rotation:this.l,rotateWithView:this.o})},t.Hc=function(){if(this.I)return this.I;var t=this.j,e=this.jc();if("fraction"==this.C||"fraction"==this.G){if(!e)return null;t=this.j.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.G&&(t[1]*=e[1])}if("top-left"!=this.a){if(!e)return null;t===this.j&&(t=this.j.slice()),"top-right"!=this.a&&"bottom-right"!=this.a||(t[0]=-t[0]+e[0]),"bottom-left"!=this.a&&"bottom-right"!=this.a||(t[1]=-t[1]+e[1])}return this.I=t},t.Zn=function(){return this.i},t.Z=function(t){return this.b.Z(t)},t.ue=function(){return this.b.a},t.Oe=function(){return this.b.f},t.cg=function(){var t=this.b;if(!t.l)if(t.o){var e=t.a[0],o=t.a[1],i=Ne(e,o);i.fillRect(0,0,e,o),t.l=i.canvas}else t.l=t.M;return t.l},t.Pc=function(){if(this.u)return this.u;var t=this.qa;if("top-left"!=this.f){var e=this.jc(),o=this.b.a;if(!e||!o)return null;t=t.slice(),"top-right"!=this.f&&"bottom-right"!=this.f||(t[0]=o[0]-e[0]-t[0]),"bottom-left"!=this.f&&"bottom-right"!=this.f||(t[1]=o[1]-e[1]-t[1])}return this.u=t},t.$n=function(){return this.b.j},t.jc=function(){return this.A?this.A:this.b.a},t.zh=function(t,e){return oe(this.b,"change",t,e)},t.load=function(){this.b.load()},t.Yi=function(t,e){re(this.b,"change",t,e)},(t=Pc.prototype).clone=function(){return new Pc({font:this.a,rotation:this.i,rotateWithView:this.j,scale:this.b,text:this.Pa(),textAlign:this.g,textBaseline:this.l,fill:this.Ca()?this.Ca().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,offsetX:this.f,offsetY:this.c})},t.tk=function(){return this.a},t.Ik=function(){return this.f},t.Jk=function(){return this.c},t.Ca=function(){return this.Wa},t.fo=function(){return this.j},t.ho=function(){return this.i},t.io=function(){return this.b},t.Da=function(){return this.Ya},t.Pa=function(){return this.Fa},t.Tk=function(){return this.g},t.Uk=function(){return this.l},t.Ii=function(t){this.a=t},t.Oi=function(t){this.f=t},t.Pi=function(t){this.c=t},t.cf=function(t){this.Wa=t},t.jo=function(t){this.i=t},t.ni=function(t){this.b=t},t.df=function(t){this.Ya=t},t.ef=function(t){this.Fa=t},t.Ri=function(t){this.g=t},t.up=function(t){this.l=t},r(Lc,$l);var Cc=["http://www.google.com/kml/ext/2.2"],Ac=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Ec={fraction:"fraction",pixels:"pixels"};function Tc(t,e){var o,i=[0,0],r="start";if(t.Z()&&(null===(o=t.Z().ue())&&(o=pc),2==o.length&&(r=t.Z().c,i[0]=r*o[0]/2,i[1]=-r*o[1]/2,r="left")),null!==t.Pa()){var n=t.Pa();(o=n.clone()).Ii(n.a||dc.a),o.ni(n.b||dc.b),o.cf(n.Ca()||dc.Ca()),o.df(n.Da()||fc)}else o=dc.clone();return o.ef(e),o.Oi(i[0]),o.Pi(i[1]),o.Ri(r),new ch({text:o})}function jc(i,r,n,s,a){return function(){var t=a,e="";if(t&&this.U()&&(t="Point"===this.U().T()),t&&(e=this.get("name"),t=t&&e),i)return t?(t=Tc(i[0],e),i.concat(t)):i;if(r){var o=function t(e,o,i){return Array.isArray(e)?e:"string"==typeof e?(!(e in i)&&"#"+e in i&&(e="#"+e),t(i[e],o,i)):o}(r,n,s);return t?(t=Tc(o[0],e),o.concat(t)):o}return t?(t=Tc(n[0],e),n.concat(t)):n}}function Rc(t){if(t=xh(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function Ic(t){t=xh(t,!1);for(var e,o=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(t);)o.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return o}function Nc(t){var e=xh(t,!1).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function kc(t){return Ql(t)}function Dc(t,e){return Fh(null,qc,t,e)}function Oc(t,e){if(n=Fh({B:[],bj:[]},ty,t,e)){var o,i,r=n.B,n=n.bj;for(o=0,i=Math.min(r.length,n.length);o<i;++o)r[4*o+3]=n[o];return(n=new Jh(null)).ca("XYZM",r),n}}function Fc(t,e){var o=Fh({},_c,t,e),i=Fh(null,ey,t,e);if(i){var r=new Jh(null);return r.ca("XYZ",i),r.H(o),r}}function Gc(t,e){var o=Fh({},_c,t,e),i=Fh(null,ey,t,e);if(i){var r=new rr(null);return r.ca("XYZ",i,[i.length]),r.H(o),r}}function Uc(t,e){var o=Fh([],ay,t,e);if(!o)return null;if(!o.length)return new Ol(o);var i,r,n,s=!0,a=o[0].T();for(r=1,n=o.length;r<n;++r)if(o[r].T()!=a){s=!1;break}if(s)if("Point"==a){for(s=(i=o[0]).ka,a=i.ha(),r=1,n=o.length;r<n;++r)c(a,o[r].ha());(i=new el(null)).ca(s,a),Wc(i,o)}else"LineString"==a?(tl(i=new qh(null),o),Wc(i,o)):"Polygon"==a?(sl(i=new ol(null),o),Wc(i,o)):"GeometryCollection"==a?i=new Ol(o):k(!1,37);else i=new Ol(o);return i}function Bc(t,e){var o=Fh({},_c,t,e),i=Fh(null,ey,t,e);if(i){var r=new Zi(null);return r.ca("XYZ",i),r.H(o),r}}function Vc(t,e){var o=Fh({},_c,t,e),i=Fh([null],Qc,t,e);if(i&&i[0]){var r,n,s=new rr(null),a=i[0],p=[a.length];for(r=1,n=i.length;r<n;++r)c(a,i[r]),p.push(a.length);return s.ca("XYZ",a,p),s.H(o),s}}function Xc(t,e){if(!(r=Fh({},gy,t,e)))return null;var o="fillStyle"in r?r.fillStyle:rc,i=r.fill;void 0===i||i||(o=null),(i="imageStyle"in r?r.imageStyle:uc)==cc&&(i=void 0);var r,n="textStyle"in r?r.textStyle:dc,s="strokeStyle"in r?r.strokeStyle:yc;return void 0===(r=r.outline)||r||(s=null),[new ch({fill:o,image:i,stroke:s,text:n,zIndex:void 0})]}function Wc(t,e){var o,i,r,n,s=e.length,a=Array(e.length),p=Array(e.length);for(r=n=!1,i=0;i<s;++i)o=e[i],a[i]=o.get("extrude"),p[i]=o.get("altitudeMode"),r=r||void 0!==a[i],n=n||p[i];r&&t.set("extrude",a),n&&t.set("altitudeMode",p)}function zc(t,e){Oh(Yc,t,e)}function $c(t,e){Oh(Hc,t,e)}var Zc=Dh(Ac,{displayName:Th(iu),value:Th(iu)}),Yc=Dh(Ac,{Data:function(t,e){var o=t.getAttribute("name");Oh(Zc,t,e);var i=e[e.length-1];null!==o?i[o]=i.value:null!==i.displayName&&(i[i.displayName]=i.value)},SchemaData:function(t,e){Oh(dy,t,e)}}),Hc=Dh(Ac,{LatLonAltBox:function(t,e){var o=Fh({},Kc,t,e);if(o){var i=e[e.length-1];i.extent=[parseFloat(o.west),parseFloat(o.south),parseFloat(o.east),parseFloat(o.north)],i.altitudeMode=o.altitudeMode,i.minAltitude=parseFloat(o.minAltitude),i.maxAltitude=parseFloat(o.maxAltitude)}},Lod:function(t,e){var o=Fh({},Jc,t,e);if(o){var i=e[e.length-1];i.minLodPixels=parseFloat(o.minLodPixels),i.maxLodPixels=parseFloat(o.maxLodPixels),i.minFadeExtent=parseFloat(o.minFadeExtent),i.maxFadeExtent=parseFloat(o.maxFadeExtent)}}}),Kc=Dh(Ac,{altitudeMode:Th(iu),minAltitude:Th(Ql),maxAltitude:Th(Ql),north:Th(Ql),south:Th(Ql),east:Th(Ql),west:Th(Ql)}),Jc=Dh(Ac,{minLodPixels:Th(Ql),maxLodPixels:Th(Ql),minFadeExtent:Th(Ql),maxFadeExtent:Th(Ql)}),_c=Dh(Ac,{extrude:Th(Jl),altitudeMode:Th(iu)}),qc=Dh(Ac,{coordinates:Ah(Ic)}),Qc=Dh(Ac,{innerBoundaryIs:function(t,e){var o=Fh(void 0,ry,t,e);o&&e[e.length-1].push(o)},outerBoundaryIs:function(t,e){var o=Fh(void 0,uy,t,e);o&&(e[e.length-1][0]=o)}}),ty=Dh(Ac,{when:function(t,e){var o=e[e.length-1].bj,i=xh(t,!1);i=Date.parse(i);o.push(isNaN(i)?0:i)}},Dh(Cc,{coord:function(t,e){var o=e[e.length-1].B,i=xh(t,!1);(i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i))?o.push(parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3]),0):o.push(0,0,0,0)}})),ey=Dh(Ac,{coordinates:Ah(Ic)}),oy=Dh(Ac,{href:Th(Nc)},Dh(Cc,{x:Th(Ql),y:Th(Ql),w:Th(Ql),h:Th(Ql)})),iy=Dh(Ac,{Icon:Th(function(t,e){var o=Fh({},oy,t,e);return o||null}),heading:Th(Ql),hotSpot:Th(function(t){var e=t.getAttribute("xunits"),o=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),Hg:Ec[e],y:parseFloat(t.getAttribute("y")),Ig:Ec[o]}}),scale:Th(kc)}),ry=Dh(Ac,{LinearRing:Ah(Dc)}),ny=Dh(Ac,{color:Th(Rc),scale:Th(kc)}),sy=Dh(Ac,{color:Th(Rc),width:Th(Ql)}),ay=Dh(Ac,{LineString:Ch(Fc),LinearRing:Ch(Gc),MultiGeometry:Ch(Uc),Point:Ch(Bc),Polygon:Ch(Vc)}),py=Dh(Cc,{Track:Ch(Oc)}),hy=Dh(Ac,{ExtendedData:zc,Region:$c,Link:function(t,e){Oh(ly,t,e)},address:Th(iu),description:Th(iu),name:Th(iu),open:Th(Jl),phoneNumber:Th(iu),visibility:Th(Jl)}),ly=Dh(Ac,{href:Th(Nc)}),uy=Dh(Ac,{LinearRing:Ah(Dc)}),cy=Dh(Ac,{Style:Th(Xc),key:Th(iu),styleUrl:Th(Nc)}),yy=Dh(Ac,{ExtendedData:zc,Region:$c,MultiGeometry:Th(Uc,"geometry"),LineString:Th(Fc,"geometry"),LinearRing:Th(Gc,"geometry"),Point:Th(Bc,"geometry"),Polygon:Th(Vc,"geometry"),Style:Th(Xc),StyleMap:function(t,e){var o=Fh(void 0,vy,t,e);if(o){var i=e[e.length-1];Array.isArray(o)?i.Style=o:"string"==typeof o?i.styleUrl=o:k(!1,38)}},address:Th(iu),description:Th(iu),name:Th(iu),open:Th(Jl),phoneNumber:Th(iu),styleUrl:Th(Nc),visibility:Th(Jl)},Dh(Cc,{MultiTrack:Th(function(t,e){var o=Fh([],py,t,e);if(o){var i=new qh(null);return tl(i,o),i}},"geometry"),Track:Th(Oc,"geometry")})),fy=Dh(Ac,{color:Th(Rc),fill:Th(Jl),outline:Th(Jl)}),dy=Dh(Ac,{SimpleData:function(t,e){var o=t.getAttribute("name");if(null!==o){var i=iu(t);e[e.length-1][o]=i}}}),gy=Dh(Ac,{IconStyle:function(t,e){var o=Fh({},iy,t,e);if(o){var i,r,n,s,a=e[e.length-1],p="Icon"in o?o.Icon:{},h=!("Icon"in o)||0<Object.keys(p).length;(u=p.href)?i=u:h&&(i=hc),(u=o.hotSpot)?(r=[u.x,u.y],n=u.Hg,s=u.Ig):i===hc?(r=nc,n=sc,s=ac):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(r=[.5,0],s=n="fraction");var l,u=p.x,c=p.y;void 0!==u&&void 0!==c&&(l=[u,c]);var y,f;u=p.w,p=p.h;void 0!==u&&void 0!==p&&(y=[u,p]),void 0!==(p=o.heading)&&(f=S(p)),o=o.scale,h?(i==hc&&(y=pc,void 0===o&&(o=lc)),h=new Sc({anchor:r,anchorOrigin:"bottom-left",anchorXUnits:n,anchorYUnits:s,crossOrigin:"anonymous",offset:l,offsetOrigin:"bottom-left",rotation:f,scale:o,size:y,src:i}),a.imageStyle=h):a.imageStyle=cc}},LabelStyle:function(t,e){var o=Fh({},ny,t,e);o&&(e[e.length-1].textStyle=new Pc({fill:new uh({color:"color"in o?o.color:ic}),scale:o.scale}))},LineStyle:function(t,e){var o=Fh({},sy,t,e);o&&(e[e.length-1].strokeStyle=new Ba({color:"color"in o?o.color:ic,width:"width"in o?o.width:1}))},PolyStyle:function(t,e){var o=Fh({},fy,t,e);if(o){var i=e[e.length-1];i.fillStyle=new uh({color:"color"in o?o.color:ic});var r=o.fill;void 0!==r&&(i.fill=r),void 0!==(o=o.outline)&&(i.outline=o)}}}),vy=Dh(Ac,{Pair:function(t,e){var o=Fh({},cy,t,e);if(o){var i=o.key;i&&"normal"==i&&((i=o.styleUrl)&&(e[e.length-1]=i),(o=o.Style)&&(e[e.length-1]=o))}}});function my(t,e){var o;for(o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE){var i=by(t,o);if(i)return i}}function by(t,e){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling)if(v(Ac,o.namespaceURI)&&"name"==o.localName)return iu(o);for(o=e.firstElementChild;o;o=o.nextElementSibling){var i=o.localName;if(v(Ac,o.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)&&(i=by(t,o)))return i}}function wy(t,e){var o,i=[];for(o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&c(i,xy(t,o));return i}function xy(t,e){var o,i=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(v(Ac,o.namespaceURI)&&"NetworkLink"==o.localName){var r=Fh({},hy,o,[]);i.push(r)}for(o=e.firstElementChild;o;o=o.nextElementSibling)r=o.localName,!v(Ac,o.namespaceURI)||"Document"!=r&&"Folder"!=r&&"kml"!=r||c(i,xy(t,o));return i}function My(t,e){var o,i=[];for(o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&c(i,t.$e(o));return i}function Sy(t,e){var o,i=[255*(4==(i=Le(e)).length?i[3]:1),i[2],i[1],i[0]];for(o=0;o<4;++o){var r=parseInt(i[o],10).toString(16);i[o]=1==r.length?"0"+r:r}au(t,i.join(""))}function Py(t,e,o){t={node:t};var i,r,n=e.T();"GeometryCollection"==n?(i=e.If(),r=tf):"MultiPoint"==n?(i=e.Ie(),r=uf):"MultiLineString"==n?(i=e.hd(),r=cf):"MultiPolygon"==n?(i=e.Od(),r=ff):k(!1,39),Uh(t,zy,r,i,o)}function Ly(t,e,o){Uh({node:t},Wy,yf,[e],o)}function Cy(t,e,o){var i={node:t};e.a&&t.setAttribute("id",e.a),t=e.N();var r={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};r[e.c]=1;var n=Object.keys(t||{}).sort().filter(function(t){return!r[t]});if(0<n.length){var s=kh(t,n);Uh(i,Zy,hf,[{names:n,values:s}],o)}(n=e.Nc())&&(n=n.call(e,0))&&(n=Array.isArray(n)?n[0]:n,this.l&&(t.Style=n),(n=n.Pa())&&(t.name=n.Pa())),t=kh(t,n=$y[o[o.length-1].node.namespaceURI]),Uh(i,Zy,Nh,t,o,n),t=o[0],(e=e.U())&&(e=$h(e,!0,t)),Uh(i,Zy,tf,[e],o)}function Ay(t,e,o){var i=e.ha();(t={node:t}).layout=e.ka,t.stride=e.sa(),Uh(t,Yy,af,[i],o)}function Ey(t,e,o){var i=(e=e.jd()).shift();Uh(t={node:t},Hy,lf,e,o),Uh(t,Hy,df,[i],o)}function Ty(t,e){nu(t,Math.round(1e6*e)/1e6)}(t=Lc.prototype).hg=function(t,e){var o=Dh(Ac,{Document:Lh(this.hg,this),Folder:Lh(this.hg,this),Placemark:Ch(this.pg,this),Style:this.Yo.bind(this),StyleMap:this.Xo.bind(this)});if(o=Fh([],o,t,e,this))return o},t.pg=function(t,e){var o=Fh({geometry:null},yy,t,e);if(o){var i=new mh;null!==(r=t.getAttribute("id"))&&i.kc(r);var r=e[0],n=o.geometry;return n&&$h(n,!1,r),i.Sa(n),delete o.geometry,this.c&&i.Vf(jc(o.Style,o.styleUrl,this.a,this.b,this.i)),delete o.Style,i.H(o),i}},t.Yo=function(t,e){var o=t.getAttribute("id");if(null!==o){var i=Xc(t,e);i&&(o=t.baseURI?new URL("#"+o,t.baseURI).href:"#"+o,this.b[o]=i)}},t.Xo=function(t,e){var o=t.getAttribute("id");if(null!==o){var i=Fh(void 0,vy,t,e);i&&(o=t.baseURI?new URL("#"+o,t.baseURI).href:"#"+o,this.b[o]=i)}},t.jg=function(t,e){if(!v(Ac,t.namespaceURI))return null;var o=this.pg(t,[Wh(this,t,e)]);return o||null},t.yc=function(t,e){if(!v(Ac,t.namespaceURI))return[];var o;if("Document"==(o=t.localName)||"Folder"==o)return(o=this.hg(t,[Wh(this,t,e)]))?o:[];if("Placemark"==o)return(o=this.pg(t,[Wh(this,t,e)]))?[o]:[];if("kml"==o){var i;for(o=[],i=t.firstElementChild;i;i=i.nextElementSibling){var r=this.yc(i,e);r&&c(o,r)}return o}return[]},t.Ro=function(t){return Mh(t)?my(this,t):Sh(t)?by(this,t):"string"==typeof t?my(this,t=Ph(t)):void 0},t.So=function(t){var e=[];return Mh(t)?c(e,wy(this,t)):Sh(t)?c(e,xy(this,t)):"string"==typeof t&&c(e,wy(this,t=Ph(t))),e},t.Vo=function(t){var e=[];return Mh(t)?c(e,My(this,t)):Sh(t)?c(e,this.$e(t)):"string"==typeof t&&c(e,My(this,t=Ph(t))),e},t.$e=function(t){var e,o=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(v(Ac,e.namespaceURI)&&"Region"==e.localName){var i=Fh({},Hc,e,[]);o.push(i)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!v(Ac,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||c(o,this.$e(e));return o};var jy=Dh(Ac,["Document","Placemark"]),Ry=Dh(Ac,{Document:jh(function(t,e,o){Uh({node:t},Iy,Qy,e,o,void 0,this)}),Placemark:jh(Cy)}),Iy=Dh(Ac,{Placemark:jh(Cy)}),Ny=Dh(Ac,{Data:jh(function(t,e,o){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&Uh(t,Ny,Nh,[e.displayName],o,["displayName"]),null!==e&&e.value&&Uh(t,Ny,Nh,[e.value],o,["value"])):Uh(t,Ny,Nh,[e],o,["value"])}),value:jh(function(t,e){au(t,e)}),displayName:jh(function(t,e){t.appendChild(bh.createCDATASection(e))})}),ky={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Dy=Dh(Ac,["href"],Dh(Cc,["x","y","w","h"])),Oy=Dh(Ac,{href:jh(au)},Dh(Cc,{x:jh(nu),y:jh(nu),w:jh(nu),h:jh(nu)})),Fy=Dh(Ac,["scale","heading","Icon","hotSpot"]),Gy=Dh(Ac,{Icon:jh(function(t,e,o){t={node:t};var i=Dy[o[o.length-1].node.namespaceURI],r=kh(e,i);Uh(t,Oy,Nh,r,o,i),r=kh(e,i=Dy[Cc[0]]),Uh(t,Oy,qy,r,o,i)}),heading:jh(nu),hotSpot:jh(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Hg),t.setAttribute("yunits",e.Ig)}),scale:jh(Ty)}),Uy=Dh(Ac,["color","scale"]),By=Dh(Ac,{color:jh(Sy),scale:jh(Ty)}),Vy=Dh(Ac,["color","width"]),Xy=Dh(Ac,{color:jh(Sy),width:jh(nu)}),Wy=Dh(Ac,{LinearRing:jh(Ay)}),zy=Dh(Ac,{LineString:jh(Ay),Point:jh(Ay),Polygon:jh(Ey),GeometryCollection:jh(Py)}),$y=Dh(Ac,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Zy=Dh(Ac,{ExtendedData:jh(function(t,e,o){t={node:t};var i=e.names;e=e.values;for(var r=i.length,n=0;n<r;n++)Uh(t,Ny,pf,[{name:i[n],value:e[n]}],o)}),MultiGeometry:jh(Py),LineString:jh(Ay),LinearRing:jh(Ay),Point:jh(Ay),Polygon:jh(Ey),Style:jh(function(t,e,o){t={node:t};var i={},r=e.Ca(),n=e.Da(),s=e.Z();e=e.Pa(),s instanceof Sc&&(i.IconStyle=s),e&&(i.LabelStyle=e),n&&(i.LineStyle=n),r&&(i.PolyStyle=r),i=kh(i,e=Jy[o[o.length-1].node.namespaceURI]),Uh(t,_y,Nh,i,o,e)}),address:jh(au),description:jh(au),name:jh(au),open:jh(ru),phoneNumber:jh(au),styleUrl:jh(au),visibility:jh(ru)}),Yy=Dh(Ac,{coordinates:jh(function(t,e,o){var i,r=(o=o[o.length-1]).layout;o=o.stride,"XY"==r||"XYM"==r?i=2:"XYZ"==r||"XYZM"==r?i=3:k(!1,34);var n,s=e.length,a="";if(0<s){for(a+=e[0],r=1;r<i;++r)a+=","+e[r];for(n=o;n<s;n+=o)for(a+=" "+e[n],r=1;r<i;++r)a+=","+e[n+r]}au(t,a)})}),Hy=Dh(Ac,{outerBoundaryIs:jh(Ly),innerBoundaryIs:jh(Ly)}),Ky=Dh(Ac,{color:jh(Sy)}),Jy=Dh(Ac,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),_y=Dh(Ac,{IconStyle:jh(function(t,e,o){t={node:t};var i={},r=e.jc(),n=e.ue(),s={href:e.b.j};if(r){s.w=r[0],s.h=r[1];var a=e.Hc(),p=e.Pc();p&&n&&p[0]&&p[1]!==r[1]&&(s.x=p[0],s.y=n[1]-(p[1]+r[1])),a&&a[0]&&a[1]!==r[1]&&(i.hotSpot={x:a[0],Hg:"pixels",y:r[1]-a[1],Ig:"pixels"})}i.Icon=s,1!==(r=e.c)&&(i.scale=r),(e=e.l)&&(i.heading=e),i=kh(i,e=Fy[o[o.length-1].node.namespaceURI]),Uh(t,Gy,Nh,i,o,e)}),LabelStyle:jh(function(t,e,o){t={node:t};var i={},r=e.Ca();r&&(i.color=r.b),(e=e.b)&&1!==e&&(i.scale=e),i=kh(i,e=Uy[o[o.length-1].node.namespaceURI]),Uh(t,By,Nh,i,o,e)}),LineStyle:jh(function(t,e,o){t={node:t};var i=Vy[o[o.length-1].node.namespaceURI];e=kh({color:e.a,width:e.c},i),Uh(t,Xy,Nh,e,o,i)}),PolyStyle:jh(function(t,e,o){Uh({node:t},Ky,sf,[e.b],o)})});function qy(t,e,o){return wh(Cc[0],"gx:"+o)}function Qy(t,e){return wh(e[e.length-1].node.namespaceURI,"Placemark")}function tf(t,e){if(t)return wh(e[e.length-1].node.namespaceURI,ky[t.T()])}var ef,of,rf,nf,sf=Ih("color"),af=Ih("coordinates"),pf=Ih("Data"),hf=Ih("ExtendedData"),lf=Ih("innerBoundaryIs"),uf=Ih("Point"),cf=Ih("LineString"),yf=Ih("LinearRing"),ff=Ih("Polygon"),df=Ih("outerBoundaryIs");function gf(t,e,o,i){this.f=t,this.b=e,this.i=o,this.c=i}function vf(t){Xh.call(this),t=t||{},this.defaultDataProjection=new mt({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:gf,this.f=t.geometryName,this.a=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null}function mf(t,e,o){for(var i=0,r=0,n=t.length;r<n;++r){var s,a,p=t[r];for(s=0,a=p.length;s<a;++s){var h=p[s];e.push(h.x,h.y)}i+=2*s,o.push(i)}}function bf(){$l.call(this),this.defaultDataProjection=Tt("EPSG:4326")}function wf(t,e){e[e.length-1].ae[t.getAttribute("k")]=t.getAttribute("v")}Lc.prototype.Yb=function(t,e){e=zh(this,e);var o=wh(Ac[4],"kml");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Cc[0]),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:o},r={};1<t.length?r.Document=t:1==t.length&&(r.Placemark=t[0]);var n=jy[o.namespaceURI];r=kh(r,n);return Uh(i,Ry,Nh,r,[e],n,this),o},of={ma:ef={}},function(t){"object"==typeof ef&&void 0!==of?of.ma=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).aq=t()}(function(){return function i(r,n,s){function a(o,t){if(!n[o]){if(!r[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(p)return p(o,!0);throw(e=Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",e}e=n[o]={ma:{}},r[o][0].call(e.ma,function(t){var e=r[o][1][t];return a(e||t)},e,e.ma,i,r,n,s)}return n[o].ma}for(var p="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,o){o.read=function(t,e,o,i,r){var n,s=(1<<(n=8*r-i-1))-1,a=s>>1,p=-7,h=o?-1:1,l=t[e+(r=o?r-1:0)];for(r+=h,o=l&(1<<-p)-1,l>>=-p,p+=n;0<p;o=256*o+t[e+r],r+=h,p-=8);for(n=o&(1<<-p)-1,o>>=-p,p+=i;0<p;n=256*n+t[e+r],r+=h,p-=8);if(0===o)o=1-a;else{if(o===s)return n?NaN:1/0*(l?-1:1);n+=Math.pow(2,i),o-=a}return(l?-1:1)*n*Math.pow(2,o-i)},o.write=function(t,e,o,i,r,n){var s,a=8*n-r-1,p=(1<<a)-1,h=p>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0;n=i?0:n-1;var u=i?1:-1,c=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,i=p):(i=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-i))<1&&(i--,s*=2),2<=(e=1<=i+h?e+l/s:e+l*Math.pow(2,1-h))*s&&(i++,s/=2),p<=i+h?(e=0,i=p):1<=i+h?(e=(e*s-1)*Math.pow(2,r),i+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,r),i=0));8<=r;t[o+n]=255&e,n+=u,e/=256,r-=8);for(i=i<<r|e,a+=r;0<a;t[o+n]=255&i,n+=u,i/=256,a-=8);t[o+n-u]|=128*c}},{}],2:[function(t,e){function o(t){this.lc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ga=0,this.length=this.lc.length}function s(t,e,o){return o?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.ma=o;var i=t("ieee754");o.c=0,o.f=1,o.b=2,o.a=5,o.prototype={mg:function(t,e,o){for(o=o||this.length;this.ga<o;){var i=this.Ma(),r=i>>3,n=this.ga;this.type=7&i,t(r,e,this),this.ga===n&&this.zp(i)}return e},No:function(){var t=i.read(this.lc,this.ga,!0,23,4);return this.ga+=4,t},Jo:function(){var t=i.read(this.lc,this.ga,!0,52,8);return this.ga+=8,t},Ma:function(t){var e,o,i=this.lc;return e=127&(o=i[this.ga++]),o<128?e:(e|=(127&(o=i[this.ga++]))<<7,o<128?e:(e|=(127&(o=i[this.ga++]))<<14,o<128?e:(e|=(127&(o=i[this.ga++]))<<21,o<128?e:function(t,e,o){var i,r,n=o.lc;if(i=(112&(r=n[o.ga++]))>>4,r<128)return s(t,i,e);if(i|=(127&(r=n[o.ga++]))<<3,r<128)return s(t,i,e);if(i|=(127&(r=n[o.ga++]))<<10,r<128)return s(t,i,e);if(i|=(127&(r=n[o.ga++]))<<17,r<128)return s(t,i,e);if(i|=(127&(r=n[o.ga++]))<<24,r<128)return s(t,i,e);if((r=n[o.ga++])<128)return s(t,i|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}(e|(15&(o=i[this.ga]))<<28,t,this))))},Zo:function(){return this.Ma(!0)},Yd:function(){var t=this.Ma();return 1==t%2?(t+1)/-2:t/2},Ho:function(){return!!this.Ma()},sg:function(){for(var t=this.Ma()+this.ga,e=this.lc,o="",i=this.ga;i<t;){var r,n,s,a=e[i],p=null,h=239<a?4:223<a?3:191<a?2:1;if(t<i+h)break;1===h?a<128&&(p=a):2===h?128==(192&(r=e[i+1]))&&(p=(31&a)<<6|63&r)<=127&&(p=null):3===h?(r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&((p=(15&a)<<12|(63&r)<<6|63&n)<=2047||55296<=p&&p<=57343)&&(p=null)):4===h&&(r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&((p=(15&a)<<18|(63&r)<<12|(63&n)<<6|63&s)<=65535||1114112<=p))&&(p=null),null===p?(p=65533,h=1):65535<p&&(p-=65536,o+=String.fromCharCode(p>>>10&1023|55296),p=56320|1023&p),o+=String.fromCharCode(p),i+=h}return this.ga=t,o},zp:function(t){if((t&=7)===o.c)for(;127<this.lc[this.ga++];);else if(t===o.b)this.ga=this.Ma()+this.ga;else if(t===o.a)this.ga+=4;else{if(t!==o.f)throw Error("Unimplemented type: "+t);this.ga+=8}}}},{ieee754:1}]},{},[2])(2)}),Na=of.ma,nf={ma:rf={}},function(t){"object"==typeof rf&&void 0!==nf?nf.ma=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).eq=t()}(function(){return function i(r,n,s){function a(o,t){if(!n[o]){if(!r[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(p)return p(o,!0);throw(e=Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",e}e=n[o]={ma:{}},r[o][0].call(e.ma,function(t){var e=r[o][1][t];return a(e||t)},e,e.ma,i,r,n,s)}return n[o].ma}for(var p="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e){function o(t,e){this.x=t,this.y=e}(e.ma=o).prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone().Ej(t)},rotate:function(t){return this.clone().Oj(t)},round:function(){return this.clone().Pj()},angle:function(){return Math.atan2(this.y,this.x)},Ej:function(t){return this.x+=t.x,this.y+=t.y,this},Oj:function(t){var e=Math.cos(t),o=(t=Math.sin(t))*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=o,this},Pj:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.b=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t}},{}],2:[function(t,e){e.ma.Dj=t("./lib/vectortile.js"),e.ma.Yp=t("./lib/vectortilefeature.js"),e.ma.Zp=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function o(t,e,o){3===t&&(t=new i(o,o.Ma()+o.ga)).length&&(e[t.name]=t)}var i=t("./vectortilelayer");e.ma=function(t,e){this.layers=t.mg(o,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function o(t,e,o,i,r){this.properties={},this.extent=o,this.type=0,this.Cc=t,this.tf=-1,this.ie=i,this.ke=r,t.mg(n,this,e)}function n(t,e,o){if(1==t)e.id=o.Ma();else if(2==t)for(t=o.Ma()+o.ga;o.ga<t;){var i=e.ie[o.Ma()],r=e.ke[o.Ma()];e.properties[i]=r}else 3==t?e.type=o.Ma():4==t&&(e.tf=o.ga)}var p=t("point-geometry");(e.ma=o).b=["Unknown","Point","LineString","Polygon"],o.prototype.Ah=function(){var t=this.Cc;t.ga=this.tf;for(var e,o=t.Ma()+t.ga,i=1,r=0,n=0,s=0,a=[];t.ga<o;)if(r||(i=7&(r=t.Ma()),r>>=3),r--,1===i||2===i)n+=t.Yd(),s+=t.Yd(),1===i&&(e&&a.push(e),e=[]),e.push(new p(n,s));else{if(7!==i)throw Error("unknown command "+i);e&&e.push(e[0].clone())}return e&&a.push(e),a},o.prototype.bbox=function(){var t=this.Cc;t.ga=this.tf;for(var e=t.Ma()+t.ga,o=1,i=0,r=0,n=0,s=1/0,a=-1/0,p=1/0,h=-1/0;t.ga<e;)if(i||(o=7&(i=t.Ma()),i>>=3),i--,1===o||2===o)(r+=t.Yd())<s&&(s=r),a<r&&(a=r),(n+=t.Yd())<p&&(p=n),h<n&&(h=n);else if(7!==o)throw Error("unknown command "+o);return[s,p,a,h]}},{"point-geometry":1}],5:[function(t,e){function o(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Cc=t,this.ie=[],this.ke=[],this.he=[],t.mg(i,this,e),this.length=this.he.length}function i(t,e,o){15===t?e.version=o.Ma():1===t?e.name=o.sg():5===t?e.extent=o.Ma():2===t?e.he.push(o.ga):3===t?e.ie.push(o.sg()):4===t&&e.ke.push(function(t){for(var e=null,o=t.Ma()+t.ga;t.ga<o;)e=1==(e=t.Ma()>>3)?t.sg():2===e?t.No():3===e?t.Jo():4===e?t.Zo():5===e?t.Ma():6===e?t.Yd():7===e?t.Ho():null;return e}(o))}var r=t("./vectortilefeature.js");(e.ma=o).prototype.feature=function(t){if(t<0||t>=this.he.length)throw Error("feature index out of bounds");return this.Cc.ga=this.he[t],t=this.Cc.Ma()+this.Cc.ga,new r(this.Cc,t,this.extent,this.ie,this.ke)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),ka=nf.ma,(t=gf.prototype).get=function(t){return this.c[t]},t.Rb=function(){return this.i},t.D=function(){return this.a||(this.a="Point"===this.f?W(this.b):z(this.b,0,this.b.length,2)),this.a},t.fc=function(){return this.b},t.ha=gf.prototype.fc,t.U=function(){return this},t.mn=function(){return this.c},t.Qd=gf.prototype.U,t.sa=function(){return 2},t.Nc=a,t.T=function(){return this.f},r(vf,Xh),(t=vf.prototype).T=function(){return"arraybuffer"},t.Qa=function(t,e){var o,i,r,n=this.c,s=new Na(t),a=(s=new ka.Dj(s),[]),p=this.b;for(r in s.layers)if(!n||-1!=n.indexOf(r))for(var h=0,l=(o=s.layers[r]).length;h<l;++h){if(p===gf){i=void 0;var u=o.feature(h),c=r,y=u.Ah(),f=[],d=[];mf(y,d,f),1===(g=u.type)?i=1===y.length?"Point":"MultiPoint":2===g?i=1===y.length?"LineString":"MultiLineString":3===g&&(i="Polygon"),(u=u.properties)[this.a]=c,i=new this.b(i,d,f,u)}else{if(g=o.feature(h),u=r,d=e,i=new this.b,c=g.id,(f=g.properties)[this.a]=u,this.f&&i.Vc(this.f),u=void 0,0===(y=g.type))u=null;else{var g,v=[],m=[];mf(g=g.Ah(),m,v),1===y?u=1===g.length?new Zi(null):new el(null):2===y?u=1===g.length?new Jh(null):new qh(null):3===y&&(u=new rr(null)),u.ca("XY",m,v)}d=$h(u,!1,zh(this,d)),i.Sa(d),i.kc(c),i.H(f)}a.push(i)}return a},t.kb=function(){return this.defaultDataProjection},t.Hm=function(t){this.c=t},t.Ub=function(){},t.Tc=function(){},t.yd=function(){},t.bd=function(){},t.Xb=function(){},r(bf,$l);var xf=[null],Mf=Dh(xf,{nd:function(t,e){e[e.length-1].md.push(t.getAttribute("ref"))},tag:wf}),Sf=Dh(xf,{node:function(t,e){var o=e[0],i=e[e.length-1],r=t.getAttribute("id"),n=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];i.Eh[r]=n;var s=Fh({ae:{}},Pf,t,e);yt(s.ae)||($h(n=new Zi(n),!1,o),(o=new mh(n)).kc(r),o.H(s.ae),i.features.push(o))},way:function(t,e){for(var o=e[0],i=t.getAttribute("id"),r=Fh({md:[],ae:{}},Mf,t,e),n=e[e.length-1],s=[],a=0,p=r.md.length;a<p;a++)c(s,n.Eh[r.md[a]]);r.md[0]==r.md[r.md.length-1]?(a=new rr(null)).ca("XY",s,[s.length]):(a=new Jh(null)).ca("XY",s),$h(a,!1,o),(o=new mh(a)).kc(i),o.H(r.ae),n.features.push(o)}}),Pf=Dh(xf,{tag:wf});function Lf(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Cf(){}function Af(){}bf.prototype.yc=function(t,e){var o=Wh(this,t,e);return"osm"==t.localName&&(o=Fh({Eh:{},features:[]},Sf,t,[o])).features?o.features:[]},bf.prototype.Fg=function(){},bf.prototype.Yb=function(){},bf.prototype.de=function(){},Cf.prototype.read=function(t){return Mh(t)?this.a(t):Sh(t)?this.b(t):"string"==typeof t?(t=Ph(t),this.a(t)):null},r(Af,Cf),Af.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Af.prototype.b=function(t){return(t=Fh({},Tf,t,[]))?t:null};var Ef=[null,"http://www.opengis.net/ows/1.1"],Tf=Dh(Ef,{ServiceIdentification:Th(function(t,e){return Fh({},Vf,t,e)}),ServiceProvider:Th(function(t,e){return Fh({},Xf,t,e)}),OperationsMetadata:Th(function(t,e){return Fh({},Ff,t,e)})}),jf=Dh(Ef,{DeliveryPoint:Th(iu),City:Th(iu),AdministrativeArea:Th(iu),PostalCode:Th(iu),Country:Th(iu),ElectronicMailAddress:Th(iu)}),Rf=Dh(Ef,{Value:Eh(function(t){return iu(t)})}),If=Dh(Ef,{AllowedValues:Th(function(t,e){return Fh({},Rf,t,e)})}),Nf=Dh(Ef,{Phone:Th(function(t,e){return Fh({},Gf,t,e)}),Address:Th(function(t,e){return Fh({},jf,t,e)})}),kf=Dh(Ef,{HTTP:Th(function(t,e){return Fh({},Df,t,e)})}),Df=Dh(Ef,{Get:Eh(function(t,e){var o=Lf(t);if(o)return Fh({href:o},Uf,t,e)}),Post:void 0}),Of=Dh(Ef,{DCP:Th(function(t,e){return Fh({},kf,t,e)})}),Ff=Dh(Ef,{Operation:function(t,e){var o=t.getAttribute("name"),i=Fh({},Of,t,e);i&&(e[e.length-1][o]=i)}}),Gf=Dh(Ef,{Voice:Th(iu),Facsimile:Th(iu)}),Uf=Dh(Ef,{Constraint:Eh(function(t,e){var o=t.getAttribute("name");if(o)return Fh({name:o},If,t,e)})}),Bf=Dh(Ef,{IndividualName:Th(iu),PositionName:Th(iu),ContactInfo:Th(function(t,e){return Fh({},Nf,t,e)})}),Vf=Dh(Ef,{Title:Th(iu),ServiceTypeVersion:Th(iu),ServiceType:Th(iu)}),Xf=Dh(Ef,{ProviderName:Th(iu),ProviderSite:Th(Lf),ServiceContact:Th(function(t,e){return Fh({},Bf,t,e)})});function Wf(t,e,o,i){var r;r=void 0!==i?i:[];for(var n=i=0;n<e;){var s=t[n++];for(r[i++]=t[n++],r[i++]=s,s=2;s<o;++s)r[i++]=t[n++]}r.length=i}function zf(t){t=t||{},Xh.call(this),this.defaultDataProjection=Tt("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function $f(t,e,o){var i,r,n,s=Array(e);for(i=0;i<e;++i)s[i]=0;for(r=0,n=t.length;r<n;)for(i=0;i<e;++i,++r){var a=t[r],p=a-s[i];s[i]=a,t[r]=p}return Yf(t,o||1e5)}function Zf(t,e,o){var i,r,n=Array(e);for(i=0;i<e;++i)n[i]=0;for(t=Hf(t,o||1e5),o=0,r=t.length;o<r;)for(i=0;i<e;++i,++o)n[i]+=t[o],t[o]=n[i];return t}function Yf(t,e){var o,i,r=e||1e5;for(o=0,i=t.length;o<i;++o)t[o]=Math.round(t[o]*r);for(r=0,o=t.length;r<o;++r)i=t[r],t[r]=i<0?~(i<<1):i<<1;for(r="",o=0,i=t.length;o<i;++o){for(var n,s=t[o],a="";32<=s;)n=63+(32|31&s),a+=String.fromCharCode(n),s>>=5;r+=a+=String.fromCharCode(s+63)}return r}function Hf(t,e){var o,i,r=e||1e5,n=[],s=0,a=0;for(o=0,i=t.length;o<i;++o){var p=t.charCodeAt(o)-63;s=s|(31&p)<<a;p<32?(n.push(s),a=s=0):a+=5}for(s=0,a=n.length;s<a;++s)o=n[s],n[s]=1&o?~(o>>1):o>>1;for(s=0,a=n.length;s<a;++s)n[s]/=r;return n}function Kf(t){t=t||{},Xh.call(this),this.defaultDataProjection=Tt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function Jf(t,e){var o,i,r,n,s=[];for(r=0,n=t.length;r<n;++r)o=t[r],0<r&&s.pop(),i=0<=o?e[o]:e[~o].slice().reverse(),s.push.apply(s,i);for(o=0,i=s.length;o<i;++o)s[o]=s[o].slice();return s}function _f(t,e,o,i,r){var n,s,a=[];for(n=0,s=(t=t.geometries).length;n<s;++n)a[n]=qf(t[n],e,o,i,r);return a}function qf(t,e,o,i,r){var n=t.type,s=td[n];return e="Point"===n||"MultiPoint"===n?s(t,o,i):s(t,e),(o=new mh).Sa($h(e,!1,r)),void 0!==t.id&&o.kc(t.id),t.properties&&o.H(t.properties),o}function Qf(t,e,o){t[0]=t[0]*e[0]+o[0],t[1]=t[1]*e[1]+o[1]}r(zf,Qu),(t=zf.prototype).Wd=function(t,e){return new mh(this.ud(t,e))},t.lg=function(t,e){return[this.Wd(t,e)]},t.ud=function(t,e){var o=Ai(this.a),i=Zf(t,o,this.b);return Wf(i,i.length,o,i),$h(new Jh(o=Bi(i,0,i.length,o),this.a),!1,zh(this,e))},t.be=function(t,e){var o=t.U();return o?this.Ad(o,e):(k(!1,40),"")},t.Gg=function(t,e){return this.be(t[0],e)},t.Ad=function(t,e){var o=(t=$h(t,!0,zh(this,e))).ha(),i=t.sa();return Wf(o,o.length,i,o),$f(o,i,this.b)},r(Kf,Zh),Kf.prototype.kg=function(t,e){if("Topology"==t.type){var o,i=null,r=null;t.transform&&(i=(o=t.transform).scale,r=o.translate);var n=t.arcs;if(o){o=i;var s,a,p=r;for(s=0,a=n.length;s<a;++s){var h,l,u,c=n[s],y=o,f=p,d=0,g=0;for(l=0,h=c.length;l<h;++l)d+=(u=c[l])[0],g+=u[1],u[0]=d,u[1]=g,Qf(u,y,f)}}for(o=[],s=0,a=(p=ct(t.objects)).length;s<a;++s)"GeometryCollection"===p[s].type?(h=p[s],o.push.apply(o,_f(h,n,i,r,e))):(h=p[s],o.push(qf(h,n,i,r,e)));return o}return[]},Kf.prototype.rg=function(){return this.defaultDataProjection};var td={Point:function(t,e,o){return t=t.coordinates,e&&o&&Qf(t,e,o),new Zi(t)},LineString:function(t,e){return new Jh(Jf(t.arcs,e))},Polygon:function(t,e){var o,i,r=[];for(o=0,i=t.arcs.length;o<i;++o)r[o]=Jf(t.arcs[o],e);return new rr(r)},MultiPoint:function(t,e,o){var i,r;if(t=t.coordinates,e&&o)for(i=0,r=t.length;i<r;++i)Qf(t[i],e,o);return new el(t)},MultiLineString:function(t,e){var o,i,r=[];for(o=0,i=t.arcs.length;o<i;++o)r[o]=Jf(t.arcs[o],e);return new qh(r)},MultiPolygon:function(t,e){var o,i,r,n,s,a,p=[];for(s=0,a=t.arcs.length;s<a;++s){for(i=[],r=0,n=(o=t.arcs[s]).length;r<n;++r)i[r]=Jf(o[r],e);p[s]=i}return new ol(p)}};function ed(t){t=t||{},this.i=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new pu,this.c=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",$l.call(this)}function od(t,e){for(var o=e.firstChild;o;o=o.nextSibling)if(o.nodeType==Node.ELEMENT_NODE)return rd(t,o)}(t=Kf.prototype).ad=function(){},t.ce=function(){},t.ee=function(){},t.og=function(){},t.Sc=function(){},r(ed,$l),ed.prototype.yc=function(t,e){var o={featureType:this.i,featureNS:this.a};return lt(o,Wh(this,t,e||{})),o=[o],this.b.b["http://www.opengis.net/gml"].featureMember=Ch(Hl.prototype.Xd),(o=Fh([],this.b.b,t,o,this.b))||(o=[]),o},ed.prototype.j=function(t){return Mh(t)?hd(t):Sh(t)?Fh({},pd,t,[]):"string"==typeof t?hd(t=Ph(t)):void 0},ed.prototype.l=function(t){return Mh(t)?od(this,t):Sh(t)?rd(this,t):"string"==typeof t?od(this,t=Ph(t)):void 0};var id={"http://www.opengis.net/gml":{boundedBy:Th(Hl.prototype.We,"bounds")}};function rd(t,e){var o={},i=ou(e.getAttribute("numberOfFeatures"));return o.numberOfFeatures=i,Fh(o,id,e,[],t.b)}var nd={"http://www.opengis.net/wfs":{totalInserted:Th(eu),totalUpdated:Th(eu),totalDeleted:Th(eu)}},sd={"http://www.opengis.net/ogc":{FeatureId:Ch(function(t){return t.getAttribute("fid")})}},ad={"http://www.opengis.net/wfs":{Feature:function(t,e){Oh(sd,t,e)}}},pd={"http://www.opengis.net/wfs":{TransactionSummary:Th(function(t,e){return Fh({},nd,t,e)},"transactionSummary"),InsertResults:Th(function(t,e){return Fh([],ad,t,e)},"insertIds")}};function hd(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Fh({},pd,t,[])}var ld={"http://www.opengis.net/wfs":{PropertyName:jh(au)}};function ud(t,e){var o=wh("http://www.opengis.net/ogc","Filter"),i=wh("http://www.opengis.net/ogc","FeatureId");o.appendChild(i),i.setAttribute("fid",e),t.appendChild(o)}var cd={"http://www.opengis.net/wfs":{Insert:jh(function(t,e,o){var i=wh((i=o[o.length-1]).featureNS,i.featureType);t.appendChild(i),pu.prototype.cj(i,e,o)}),Update:jh(function(t,e,o){var i=o[o.length-1];k(void 0!==e.a,27);var r=i.featureType,n=(n=i.featurePrefix)||"feature",s=i.featureNS;if(t.setAttribute("typeName",n+":"+r),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+n,s),void 0!==(r=e.a)){s=[];for(var a=0,p=(n=e.O()).length;a<p;a++){var h=e.get(n[a]);void 0!==h&&s.push({name:n[a],value:h})}Uh({node:t,srsName:i.srsName},cd,Ih("Property"),s,o),ud(t,r)}}),Delete:jh(function(t,e,o){var i=o[o.length-1];k(void 0!==e.a,26),o=i.featureType;var r=(r=i.featurePrefix)||"feature";i=i.featureNS;t.setAttribute("typeName",r+":"+o),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,i),void 0!==(e=e.a)&&ud(t,e)}),Property:jh(function(t,e,o){var i=wh("http://www.opengis.net/wfs","Name");t.appendChild(i),au(i,e.name),void 0!==e.value&&null!==e.value&&(i=wh("http://www.opengis.net/wfs","Value"),t.appendChild(i),e.value instanceof Si?pu.prototype.zd(i,e.value,o):au(i,e.value))}),Native:jh(function(t,e){e.Hp&&t.setAttribute("vendorId",e.Hp),void 0!==e.lp&&t.setAttribute("safeToIgnore",e.lp),void 0!==e.value&&au(t,e.value)})}};function yd(t,e,o){var i={node:t};e.b.forEach(function(t){Uh(i,md,Ih(t.Bc),[t],o)})}function fd(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),gd(t,e.b),vd(t,""+e.f)}function dd(t,e,o){au(t=wh("http://www.opengis.net/ogc",t),o),e.appendChild(t)}function gd(t,e){dd("PropertyName",t,e)}function vd(t,e){dd("Literal",t,e)}var md={"http://www.opengis.net/wfs":{Query:jh(function(t,e,o){var i=o[o.length-1],r=i.featurePrefix,n=i.featureNS,s=i.propertyNames,a=i.srsName;t.setAttribute("typeName",(r?r+":":"")+e),a&&t.setAttribute("srsName",a),n&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,n),(e=lt({},i)).node=t,Uh(e,ld,Ih("PropertyName"),s,o),(i=i.filter)&&(s=wh("http://www.opengis.net/ogc","Filter"),t.appendChild(s),Uh({node:s},md,Ih(i.Bc),[i],o))})},"http://www.opengis.net/ogc":{And:jh(yd),Or:jh(yd),Not:jh(function(t,e,o){e=e.condition,Uh({node:t},md,Ih(e.Bc),[e],o)}),BBOX:jh(function(t,e,o){o[o.length-1].srsName=e.srsName,gd(t,e.geometryName),pu.prototype.zd(t,e.extent,o)}),Intersects:jh(function(t,e,o){o[o.length-1].srsName=e.srsName,gd(t,e.geometryName),pu.prototype.zd(t,e.geometry,o)}),Within:jh(function(t,e,o){o[o.length-1].srsName=e.srsName,gd(t,e.geometryName),pu.prototype.zd(t,e.geometry,o)}),PropertyIsEqualTo:jh(fd),PropertyIsNotEqualTo:jh(fd),PropertyIsLessThan:jh(fd),PropertyIsLessThanOrEqualTo:jh(fd),PropertyIsGreaterThan:jh(fd),PropertyIsGreaterThanOrEqualTo:jh(fd),PropertyIsNull:jh(function(t,e){gd(t,e.b)}),PropertyIsBetween:jh(function(t,e){gd(t,e.b);var o=wh("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(o),vd(o,""+e.a),o=wh("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(o),vd(o,""+e.f)}),PropertyIsLike:jh(function(t,e){t.setAttribute("wildCard",e.g),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.f),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),gd(t,e.b),vd(t,""+e.c)})}};function bd(t){t=t||{},Xh.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function wd(t){return(t=t.X()).length?t.join(" "):""}function xd(t){for(var e=[],o=0,i=(t=t.X()).length;o<i;++o)e.push(t[o].join(" "));return e.join(",")}function Md(t){for(var e=[],o=0,i=(t=t.jd()).length;o<i;++o)e.push("("+xd(t[o])+")");return e.join(",")}function Sd(t){var e=t.T(),o=(0,Pd[e])(t);e=e.toUpperCase();if(t instanceof Ci){var i="";"XYZ"!==(t=t.ka)&&"XYZM"!==t||(i+="Z"),"XYM"!==t&&"XYZM"!==t||(i+="M"),0<(t=i).length&&(e+=" "+t)}return o.length?e+"("+o+")":e+" EMPTY"}ed.prototype.o=function(t){var e,o=wh("http://www.opengis.net/wfs","GetFeature");if(o.setAttribute("service","WFS"),o.setAttribute("version","1.1.0"),t&&(t.handle&&o.setAttribute("handle",t.handle),t.outputFormat&&o.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&o.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&o.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&o.setAttribute("startIndex",t.startIndex),void 0!==t.count&&o.setAttribute("count",t.count),e=t.filter,t.bbox)){k(t.geometryName,12);var i=Dl(t.geometryName,t.bbox,t.srsName);e=e?kl(e,i):i}return o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),e={node:o,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]},k(Array.isArray(t.featureTypes),11),t=t.featureTypes,(i=lt({},(e=[e])[e.length-1])).node=o,Uh(i,md,Ih("Query"),t,e),o},ed.prototype.v=function(t,e,o,i){var r,n,s=[],a=wh("http://www.opengis.net/wfs","Transaction");return a.setAttribute("service","WFS"),a.setAttribute("version","1.1.0"),i&&(r=i.gmlOptions?i.gmlOptions:{},i.handle&&a.setAttribute("handle",i.handle)),a.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),t&&(n={node:a,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},lt(n,r),Uh(n,cd,Ih("Insert"),t,s)),e&&(n={node:a,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},lt(n,r),Uh(n,cd,Ih("Update"),e,s)),o&&Uh({node:a,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},cd,Ih("Delete"),o,s),i.nativeElements&&Uh({node:a,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:i.featurePrefix,srsName:i.srsName},cd,Ih("Native"),i.nativeElements,s),a},ed.prototype.qg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.Ze(t);return null},ed.prototype.Ze=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=(t=t.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.We(t,e),Tt(e.pop().srsName)}return null},r(bd,Qu);var Pd={Point:wd,LineString:xd,Polygon:Md,MultiPoint:function(t){for(var e=[],o=0,i=(t=t.Ie()).length;o<i;++o)e.push("("+wd(t[o])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],o=0,i=(t=t.hd()).length;o<i;++o)e.push("("+xd(t[o])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],o=0,i=(t=t.Od()).length;o<i;++o)e.push("("+Md(t[o])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],o=0,i=(t=t.If()).length;o<i;++o)e.push(Sd(t[o]));return e.join(",")}};function Ld(t){this.a=t,this.b=-1}function Cd(t){this.f=t,this.a="XY"}function Ad(t){t.b=function t(e){var o=e.a.charAt(++e.b),i={position:e.b,value:o};if("("==o)i.type=2;else if(","==o)i.type=5;else if(")"==o)i.type=3;else if("0"<=o&&o<="9"||"."==o||"-"==o){i.type=4,o=e.b;for(var r,n=!1,s=!1;"."==r?n=!0:"e"!=r&&"E"!=r||(s=!0),"0"<=(r=e.a.charAt(++e.b))&&r<="9"||"."==r&&(void 0===n||!n)||!s&&("e"==r||"E"==r)||s&&("-"==r||"+"==r););e=parseFloat(e.a.substring(o,e.b--)),i.value=e}else if("a"<=o&&o<="z"||"A"<=o&&o<="Z"){for(i.type=1,o=e.b;"a"<=(r=e.a.charAt(++e.b))&&r<="z"||"A"<=r&&r<="Z";);e=e.a.substring(o,e.b--).toUpperCase(),i.value=e}else{if(" "==o||"\t"==o||"\r"==o||"\n"==o)return t(e);if(""!==o)throw Error("Unexpected character: "+o);i.type=6}return i}(t.f)}function Ed(t,e){var o=t.b.type==e;return o&&Ad(t),o}function Td(t){for(var e=[],o=t.a.length,i=0;i<o;++i){var r=t.b;if(!Ed(t,4))break;e.push(r.value)}if(e.length==o)return e;throw Error(Nd(t))}function jd(t){for(var e=[Td(t)];Ed(t,5);)e.push(Td(t));return e}function Rd(t){for(var e=[t.eg()];Ed(t,5);)e.push(t.eg());return e}function Id(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&Ad(t),e}function Nd(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.f.a+"`"}(t=bd.prototype).Wd=function(t,e){var o=this.ud(t,e);if(o){var i=new mh;return i.Sa(o),i}return null},t.lg=function(t,e){for(var o=[],i=this.ud(t,e),r=[],n=0,s=(o=this.b&&"GeometryCollection"==i.T()?i.a:[i]).length;n<s;++n)(i=new mh).Sa(o[n]),r.push(i);return r},t.ud=function(t,e){var o;return Ad(o=new Cd(new Ld(t))),(o=function t(e){var o=e.b;if(Ed(e,1)){var o=o.value,i="XY",r=e.b;if(1==e.b.type&&("Z"===(r=r.value)?i="XYZ":"M"===r?i="XYM":"ZM"===r&&(i="XYZM"),"XY"!==i&&Ad(e)),e.a=i,"GEOMETRYCOLLECTION"==o){t:{if(Ed(e,2)){for(o=[];o.push(t(e)),Ed(e,5););if(Ed(e,3)){e=o;break t}}else if(Id(e)){e=[];break t}throw Error(Nd(e))}return new Ol(e)}if(r=Dd[o],i=kd[o],!r||!i)throw Error("Invalid geometry type: "+o);return o=r.call(e),new i(o,e.a)}throw Error(Nd(e))}(o))?$h(o,!1,e):null},t.be=function(t,e){var o=t.U();return o?this.Ad(o,e):""},t.Gg=function(t,e){if(1==t.length)return this.be(t[0],e);for(var o=[],i=0,r=t.length;i<r;++i)o.push(t[i].U());return o=new Ol(o),this.Ad(o,e)},t.Ad=function(t,e){return Sd($h(t,!0,e))},(t=Cd.prototype).fg=function(){if(Ed(this,2)){var t=Td(this);if(Ed(this,3))return t}else if(Id(this))return null;throw Error(Nd(this))},t.eg=function(){if(Ed(this,2)){var t=jd(this);if(Ed(this,3))return t}else if(Id(this))return[];throw Error(Nd(this))},t.gg=function(){if(Ed(this,2)){var t=Rd(this);if(Ed(this,3))return t}else if(Id(this))return[];throw Error(Nd(this))},t.uo=function(){if(Ed(this,2)){var t;if(2==this.b.type)for(t=[this.fg()];Ed(this,5);)t.push(this.fg());else t=jd(this);if(Ed(this,3))return t}else if(Id(this))return[];throw Error(Nd(this))},t.to=function(){if(Ed(this,2)){var t=Rd(this);if(Ed(this,3))return t}else if(Id(this))return[];throw Error(Nd(this))},t.vo=function(){if(Ed(this,2)){for(var t=[this.gg()];Ed(this,5);)t.push(this.gg());if(Ed(this,3))return t}else if(Id(this))return[];throw Error(Nd(this))};var kd={POINT:Zi,LINESTRING:Jh,POLYGON:rr,MULTIPOINT:el,MULTILINESTRING:qh,MULTIPOLYGON:ol},Dd={POINT:Cd.prototype.fg,LINESTRING:Cd.prototype.eg,POLYGON:Cd.prototype.gg,MULTIPOINT:Cd.prototype.uo,MULTILINESTRING:Cd.prototype.to,MULTIPOLYGON:Cd.prototype.vo};function Od(){this.version=void 0}function Fd(t,e){return Fh({},ig,t,e)}function Gd(t,e){return Fh({},Qd,t,e)}function Ud(t,e){var o=Fd(t,e);if(o){var i=[ou(t.getAttribute("width")),ou(t.getAttribute("height"))];return o.size=i,o}}function Bd(t,e){return Fh([],rg,t,e)}r(Od,Cf),Od.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Od.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Fh({version:this.version},Xd,t,[]))?t:null};var Vd=[null,"http://www.opengis.net/wms"],Xd=Dh(Vd,{Service:Th(function(t,e){return Fh({},zd,t,e)}),Capability:Th(function(t,e){return Fh({},Wd,t,e)})}),Wd=Dh(Vd,{Request:Th(function(t,e){return Fh({},qd,t,e)}),Exception:Th(function(t,e){return Fh([],Hd,t,e)}),Layer:Th(function(t,e){return Fh({},Kd,t,e)})}),zd=Dh(Vd,{Name:Th(iu),Title:Th(iu),Abstract:Th(iu),KeywordList:Th(Bd),OnlineResource:Th(Lf),ContactInformation:Th(function(t,e){return Fh({},$d,t,e)}),Fees:Th(iu),AccessConstraints:Th(iu),LayerLimit:Th(eu),MaxWidth:Th(eu),MaxHeight:Th(eu)}),$d=Dh(Vd,{ContactPersonPrimary:Th(function(t,e){return Fh({},Zd,t,e)}),ContactPosition:Th(iu),ContactAddress:Th(function(t,e){return Fh({},Yd,t,e)}),ContactVoiceTelephone:Th(iu),ContactFacsimileTelephone:Th(iu),ContactElectronicMailAddress:Th(iu)}),Zd=Dh(Vd,{ContactPerson:Th(iu),ContactOrganization:Th(iu)}),Yd=Dh(Vd,{AddressType:Th(iu),Address:Th(iu),City:Th(iu),StateOrProvince:Th(iu),PostCode:Th(iu),Country:Th(iu)}),Hd=Dh(Vd,{Format:Ch(iu)}),Kd=Dh(Vd,{Name:Th(iu),Title:Th(iu),Abstract:Th(iu),KeywordList:Th(Bd),CRS:Eh(iu),EX_GeographicBoundingBox:Th(function(t,e){if(n=Fh({},_d,t,e)){var o=n.westBoundLongitude,i=n.southBoundLatitude,r=n.eastBoundLongitude,n=n.northBoundLatitude;if(void 0!==o&&void 0!==i&&void 0!==r&&void 0!==n)return[o,i,r,n]}}),BoundingBox:Eh(function(t){var e=[tu(t.getAttribute("minx")),tu(t.getAttribute("miny")),tu(t.getAttribute("maxx")),tu(t.getAttribute("maxy"))],o=[tu(t.getAttribute("resx")),tu(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:o}}),Dimension:Eh(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:_l(t.getAttribute("multipleValues")),nearestValue:_l(t.getAttribute("nearestValue")),current:_l(t.getAttribute("current")),values:iu(t)}}),Attribution:Th(function(t,e){return Fh({},Jd,t,e)}),AuthorityURL:Eh(function(t,e){var o=Fd(t,e);if(o)return o.name=t.getAttribute("name"),o}),Identifier:Eh(iu),MetadataURL:Eh(function(t,e){var o=Fd(t,e);if(o)return o.type=t.getAttribute("type"),o}),DataURL:Eh(Fd),FeatureListURL:Eh(Fd),Style:Eh(function(t,e){return Fh({},og,t,e)}),MinScaleDenominator:Th(Ql),MaxScaleDenominator:Th(Ql),Layer:Eh(function(t,e){var o=e[e.length-1],i=Fh({},Kd,t,e);if(i){var r=_l(t.getAttribute("queryable"));return void 0===r&&(r=o.queryable),i.queryable=void 0!==r&&r,void 0===(r=ou(t.getAttribute("cascaded")))&&(r=o.cascaded),i.cascaded=r,void 0===(r=_l(t.getAttribute("opaque")))&&(r=o.opaque),i.opaque=void 0!==r&&r,void 0===(r=_l(t.getAttribute("noSubsets")))&&(r=o.noSubsets),i.noSubsets=void 0!==r&&r,(r=tu(t.getAttribute("fixedWidth")))||(r=o.fixedWidth),i.fixedWidth=r,(r=tu(t.getAttribute("fixedHeight")))||(r=o.fixedHeight),i.fixedHeight=r,["Style","CRS","AuthorityURL"].forEach(function(t){t in o&&(i[t]=(i[t]||[]).concat(o[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in i||(i[t]=o[t])}),i}})}),Jd=Dh(Vd,{Title:Th(iu),OnlineResource:Th(Lf),LogoURL:Th(Ud)}),_d=Dh(Vd,{westBoundLongitude:Th(Ql),eastBoundLongitude:Th(Ql),southBoundLatitude:Th(Ql),northBoundLatitude:Th(Ql)}),qd=Dh(Vd,{GetCapabilities:Th(Gd),GetMap:Th(Gd),GetFeatureInfo:Th(Gd)}),Qd=Dh(Vd,{Format:Eh(iu),DCPType:Eh(function(t,e){return Fh({},tg,t,e)})}),tg=Dh(Vd,{HTTP:Th(function(t,e){return Fh({},eg,t,e)})}),eg=Dh(Vd,{Get:Th(Fd),Post:Th(Fd)}),og=Dh(Vd,{Name:Th(iu),Title:Th(iu),Abstract:Th(iu),LegendURL:Eh(Ud),StyleSheetURL:Th(Fd),StyleURL:Th(Fd)}),ig=Dh(Vd,{Format:Th(iu),OnlineResource:Th(Lf)}),rg=Dh(Vd,{Keyword:Ch(iu)});function ng(t){t=t||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new vu,this.c=t.layers?t.layers:null,$l.call(this)}function sg(){this.f=new Af}function ag(t){var e=iu(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}r(ng,$l),ng.prototype.yc=function(t,e){var o={};e&&lt(o,Wh(this,t,e));var i=[o];t.setAttribute("namespaceURI",this.a);var r=t.localName;o=[];if(t.childNodes.length){if("msGMLOutput"==r)for(var n=0,s=t.childNodes.length;n<s;n++){var a=t.childNodes[n];if(a.nodeType===Node.ELEMENT_NODE){var p=i[0],h=a.localName.replace("_layer","");if(!this.c||v(this.c,h)){h+="_feature",p.featureType=h,p.featureNS=this.a;var l={};l[h]=Ch(this.b.ig,this.b),p=Dh([p.featureNS,null],l),a.setAttribute("namespaceURI",this.a),(a=Fh([],p,a,i,this.b))&&c(o,a)}}}"FeatureCollection"==r&&(i=Fh([],this.b.b,t,[{}],this.b))&&(o=i)}return o},ng.prototype.Fg=function(){},ng.prototype.Yb=function(){},ng.prototype.de=function(){},r(sg,Cf),sg.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},sg.prototype.b=function(t){var e=t.getAttribute("version").trim(),o=this.f.b(t);return o?(o.version=e,(o=Fh(o,lg,t,[]))?o:null):null};var pg=[null,"http://www.opengis.net/wmts/1.0"],hg=[null,"http://www.opengis.net/ows/1.1"],lg=Dh(pg,{Contents:Th(function(t,e){return Fh({},ug,t,e)})}),ug=Dh(pg,{Layer:Eh(function(t,e){return Fh({},cg,t,e)}),TileMatrixSet:Eh(function(t,e){return Fh({},bg,t,e)})}),cg=Dh(pg,{Style:Eh(function(t,e){var o=Fh({},yg,t,e);if(o){var i="true"===t.getAttribute("isDefault");return o.isDefault=i,o}}),Format:Eh(iu),TileMatrixSetLink:Eh(function(t,e){return Fh({},fg,t,e)}),Dimension:Eh(function(t,e){return Fh({},vg,t,e)}),ResourceURL:Eh(function(t){var e=t.getAttribute("format"),o=t.getAttribute("template");t=t.getAttribute("resourceType");var i={};return e&&(i.format=e),o&&(i.template=o),t&&(i.resourceType=t),i})},Dh(hg,{Title:Th(iu),Abstract:Th(iu),WGS84BoundingBox:Th(function(t,e){var o=Fh([],mg,t,e);if(2==o.length)return L(o)}),Identifier:Th(iu)})),yg=Dh(pg,{LegendURL:Eh(function(t){var e={};return e.format=t.getAttribute("format"),e.href=Lf(t),e})},Dh(hg,{Title:Th(iu),Identifier:Th(iu)})),fg=Dh(pg,{TileMatrixSet:Th(iu),TileMatrixSetLimits:Th(function(t,e){return Fh([],dg,t,e)})}),dg=Dh(pg,{TileMatrixLimits:Ch(function(t,e){return Fh({},gg,t,e)})}),gg=Dh(pg,{TileMatrix:Th(iu),MinTileRow:Th(eu),MaxTileRow:Th(eu),MinTileCol:Th(eu),MaxTileCol:Th(eu)}),vg=Dh(pg,{Default:Th(iu),Value:Eh(iu)},Dh(hg,{Identifier:Th(iu)})),mg=Dh(hg,{LowerCorner:Ch(ag),UpperCorner:Ch(ag)}),bg=Dh(pg,{WellKnownScaleSet:Th(iu),TileMatrix:Eh(function(t,e){return Fh({},wg,t,e)})},Dh(hg,{SupportedCRS:Th(iu),Identifier:Th(iu)})),wg=Dh(pg,{TopLeftCorner:Th(ag),ScaleDenominator:Th(Ql),TileWidth:Th(eu),TileHeight:Th(eu),MatrixWidth:Th(eu),MatrixHeight:Th(eu)},Dh(hg,{Identifier:Th(iu)}));function xg(t){fe.call(this),t=t||{},this.a=null,this.i=Nt,this.c=void 0,oe(this,ge("projection"),this.hm,this),oe(this,ge("tracking"),this.im,this),void 0!==t.projection&&this.Ih(Tt(t.projection)),void 0!==t.trackingOptions&&this.Si(t.trackingOptions),this.Ee(void 0!==t.tracking&&t.tracking)}function Mg(t,e,o){Ci.call(this),this.yg(t,e||0,o)}function Sg(t){var e=t.B[t.a]-t.B[0];return e*e+(t=t.B[t.a+1]-t.B[1])*t}function Pg(t,e,o){for(var i,r,n,s,a,p=[],h=t(0),l=t(1),u=e(h),c=e(l),y=[l,h],f=[c,u],d=[1,0],g={},v=1e5;0<--v&&0<d.length;)n=d.pop(),h=y.pop(),u=f.pop(),(l=n.toString())in g||(p.push(u[0],u[1]),g[l]=!0),s=d.pop(),l=y.pop(),c=f.pop(),M((r=e(i=t(a=(n+s)/2)))[0],r[1],u[0],u[1],c[0],c[1])<o?(p.push(c[0],c[1]),g[l=s.toString()]=!0):(d.push(s,a,a,n),f.push(c,r,r,u),y.push(l,i,i,h));return p}function Lg(t){t=t||{},this.i=this.j=null,this.f=this.g=1/0,this.c=this.l=-1/0,this.A=this.u=1/0,this.G=this.C=-1/0,this.R=void 0!==t.targetSize?t.targetSize:100,this.qa=void 0!==t.maxLines?t.maxLines:100,this.b=[],this.a=[],this.ta=void 0!==t.strokeStyle?t.strokeStyle:Cg,this.I=this.o=void 0,this.v=null,this.setMap(void 0!==t.map?t.map:null)}r(xg,fe),(t=xg.prototype).ra=function(){this.Ee(!1),fe.prototype.ra.call(this)},t.hm=function(){var t=this.Gh();t&&(this.i=It(Tt("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},t.im=function(){if(So){var t=this.Hh();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Co.bind(this),this.Do.bind(this),this.th()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},t.Co=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:S(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),(t=sr(Dn,this.a,t.accuracy)).Dc(this.i),this.set("accuracyGeometry",t),this.s()},t.Do=function(t){t.type="error",this.Ee(!1),this.b(t)},t.hk=function(){return this.get("accuracy")},t.ik=function(){return this.get("accuracyGeometry")||null},t.kk=function(){return this.get("altitude")},t.lk=function(){return this.get("altitudeAccuracy")},t.fm=function(){return this.get("heading")},t.gm=function(){return this.get("position")},t.Gh=function(){return this.get("projection")},t.Rk=function(){return this.get("speed")},t.Hh=function(){return this.get("tracking")},t.th=function(){return this.get("trackingOptions")},t.Ih=function(t){this.set("projection",t)},t.Ee=function(t){this.set("tracking",t)},t.Si=function(t){this.set("trackingOptions",t)},r(Mg,Ci),(t=Mg.prototype).clone=function(){var t=new Mg(null);return Ei(t,this.ka,this.B.slice()),t.s(),t},t.Gb=function(t,e,o,i){var r=this.B;t-=r[0];var n=e-r[1];if((e=t*t+n*n)<i){if(e)for(i=this.Vd()/Math.sqrt(e),o[0]=r[0]+i*t,o[1]=r[1]+i*n,i=2;i<this.a;++i)o[i]=r[i];else for(i=0;i<this.a;++i)o[i]=r[i];return o.length=this.a,e}return i},t.Oc=function(t,e){var o,i=t-(o=this.B)[0];return i*i+(o=e-o[1])*o<=Sg(this)},t.Ba=function(){return this.B.slice(0,this.a)},t.ne=function(t){var e=this.B,o=e[this.a]-e[0];return X(e[0]-o,e[1]-o,e[0]+o,e[1]+o,t)},t.Vd=function(){return Math.sqrt(Sg(this))},t.T=function(){return"Circle"},t.Xa=function(t){var e=this.D();return!!st(t,e)&&(e=this.Ba(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||K(t,this.sb,this))},t.wb=function(t){var e,o=this.a,i=t.slice();for(i[o]=i[0]+(this.B[o]-this.B[0]),e=1;e<o;++e)i[o+e]=t[e];Ei(this,this.ka,i),this.s()},t.yg=function(t,e,o){if(t){var i;for(Ti(this,o,t,0),this.B||(this.B=[]),t=Fi(o=this.B,t),o[t++]=o[0]+e,e=1,i=this.a;e<i;++e)o[t++]=o[e];o.length=t}else Ei(this,"XY",null);this.s()},t.X=function(){},t.pa=function(){},t.Wc=function(t){this.B[this.a]=this.B[0]+t,this.s()};var Cg=new Ba({color:"rgba(0,0,0,0.2)"}),Ag=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function Eg(t,e,o,i,r,n,s){var a,p,h,l,u,c=s;return a=e,p=o,h=i,l=t.i,u=r,e=Pg(function(t){return[a,p+(h-p)*t]},Rt(Tt("EPSG:4326"),l),u),(c=void 0!==t.b[c]?t.b[c]:new Jh(null)).ca("XY",e),st(c.D(),n)&&(t.b[s++]=c),s}function Tg(t,e,o,i,r){var n,s,a,p,h,l=r;return n=e,s=t.c,a=t.f,p=t.i,h=o,e=Pg(function(t){return[s+(a-s)*t,n]},Rt(Tt("EPSG:4326"),p),h),(l=void 0!==t.a[l]?t.a[l]:new Jh(null)).ca("XY",e),st(l.D(),i)&&(t.a[r++]=l),r}function jg(t,e,o,i,r){ue.call(this),this.i=r,this.extent=t,this.a=o,this.resolution=e,this.state=i}function Rg(t,e,o,i,r,n,s){jg.call(this,t,e,o,0,i),this.l=r,this.M=new Image,null!==n&&(this.M.crossOrigin=n),this.c={},this.f=null,this.state=0,this.g=s}function Ig(t,e,o,i,r,n){this.c=n||null,jg.call(this,t,e,o,n?0:2,i),this.f=r}function Ng(t,e){ue.call(this),this.Ga=t,this.state=e,this.a=null,this.key=""}function kg(t){if(!t.a)return t;var e=t.a;do{if(2==e.V())return e;e=e.a}while(e);return t}function Dg(t,e,o,i,r){Ng.call(this,t,e),this.g=o,this.M=new Image,null!==i&&(this.M.crossOrigin=i),this.c=null,this.j=r}function Og(t){t.c.forEach(ne),t.c=null}function Fg(t){t=t||{},xr.call(this,{handleEvent:xi}),this.g=t.formatConstructors?t.formatConstructors:[],this.j=t.projection?Tt(t.projection):null,this.a=null,this.target=t.target?t.target:null}function Gg(t){var e,o,i;for(e=0,o=(t=t.dataTransfer.files).length;e<o;++e){i=t.item(e);var r=new FileReader;r.addEventListener("load",this.l.bind(this,i)),r.readAsText(i)}}function Ug(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}(t=Lg.prototype).jm=function(){return this.j},t.Gk=function(){return this.b},t.Nk=function(){return this.a},t.wh=function(t){var e=t.vectorContext,o=t.frameState,i=o.extent,r=(t=o.viewState).center,n=t.projection,s=t.resolution;if(t=s*s/(4*(t=o.pixelRatio)*t),!this.i||!jt(this.i,n)){var a=Tt("EPSG:4326"),p=n.D(),h=n.g,l=Ot(h,a,n),u=h[2],c=h[1],y=h[0],f=l[3],d=l[2],g=l[1];l=l[0];this.g=h[3],this.f=u,this.l=c,this.c=y,this.u=f,this.A=d,this.C=g,this.G=l,this.o=Rt(a,n),this.I=Rt(n,a),this.v=this.I(Q(p)),this.i=n}for(n.a&&(a=nt(n=n.D()),(o=o.focus[0])<n[0]||o>n[2])&&(o=a*Math.ceil((n[0]-o)/a),i=[i[0]+o,i[1],i[2]+o,i[3]]),o=this.v[0],n=this.v[1],a=-1,h=Math.pow(this.R*s,2),u=[],c=[],s=0,p=Ag.length;s<p&&(y=Ag[s]/2,u[0]=o-y,u[1]=n-y,c[0]=o+y,c[1]=n+y,this.o(u,u),this.o(c,c),!((y=Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2))<=h));++s)a=Ag[s];if(-1==(s=a))this.b.length=this.a.length=0;else{for(r=(o=this.I(r))[0],o=o[1],n=this.qa,h=(a=Ot(a=[Math.max(i[0],this.G),Math.max(i[1],this.C),Math.min(i[2],this.A),Math.min(i[3],this.u)],this.i,"EPSG:4326"))[3],c=a[1],p=Eg(this,u=x(r=Math.floor(r/s)*s,this.c,this.f),c,h,t,i,0),a=0;u!=this.c&&a++<n;)p=Eg(this,u=Math.max(u-s,this.c),c,h,t,i,p);for(u=x(r,this.c,this.f),a=0;u!=this.f&&a++<n;)p=Eg(this,u=Math.min(u+s,this.f),c,h,t,i,p);for(this.b.length=p,p=Tg(this,r=x(o=Math.floor(o/s)*s,this.l,this.g),t,i,0),a=0;r!=this.l&&a++<n;)p=Tg(this,r=Math.max(r-s,this.l),t,i,p);for(r=x(o,this.l,this.g),a=0;r!=this.g&&a++<n;)p=Tg(this,r=Math.min(r+s,this.g),t,i,p);this.a.length=p}for(e.Na(null,this.ta),t=0,r=this.b.length;t<r;++t)s=this.b[t],e.Qb(s,null);for(t=0,r=this.a.length;t<r;++t)s=this.a[t],e.Qb(s,null)},t.setMap=function(t){this.j&&(this.j.K("postcompose",this.wh,this),this.j.render()),t&&(t.J("postcompose",this.wh,this),t.render()),this.j=t},r(jg,ue),jg.prototype.s=function(){this.b("change")},jg.prototype.D=function(){return this.extent},jg.prototype.V=function(){return this.state},r(Rg,jg),(t=Rg.prototype).Z=function(t){var e;return void 0!==t?(t=U(t))in this.c?this.c[t]:(e=yt(this.c)?this.M:this.M.cloneNode(!1),this.c[t]=e):this.M},t.mm=function(){this.state=3,this.f.forEach(ne),this.f=null,this.s()},t.nm=function(){void 0===this.resolution&&(this.resolution=et(this.extent)/this.M.height),this.state=2,this.f.forEach(ne),this.f=null,this.s()},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.f=[ie(this.M,"error",this.mm,this),ie(this.M,"load",this.nm,this)],this.g(this,this.l))},t.zg=function(t){this.M=t},r(Ig,jg),Ig.prototype.g=function(t){this.state=t?3:2,this.s()},Ig.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.g.bind(this)))},Ig.prototype.Z=function(){return this.f},r(Ng,ue),Ng.prototype.s=function(){this.b("change")},Ng.prototype.ib=function(){return this.key+"/"+this.Ga},Ng.prototype.i=function(){return this.Ga},Ng.prototype.V=function(){return this.state},r(Dg,Ng),(t=Dg.prototype).ra=function(){1==this.state&&Og(this),this.a&&pe(this.a),this.state=5,this.s(),Ng.prototype.ra.call(this)},t.Z=function(){return this.M},t.ib=function(){return this.g},t.km=function(){this.state=3,Og(this),this.s()},t.lm=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,Og(this),this.s()},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.c=[ie(this.M,"error",this.km,this),ie(this.M,"load",this.lm,this)],this.j(this,this.g))},r(Fg,xr),Fg.prototype.l=function(t,e){var o=e.target.result,i=this.v,r=this.j;r||(r=i.$().o);var n,s,a=[];for(n=0,s=(i=this.g).length;n<s;++n){var p=new i[n],h={featureProjection:r};try{a=p.Qa(o,h)}catch(t){a=null}if(a&&0<a.length)break}this.b(new Vg(Bg,t,a,r))},Fg.prototype.setMap=function(t){this.a&&(this.a.forEach(ne),this.a=null),xr.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.c,this.a=[oe(t,"drop",Gg,this),oe(t,"dragenter",Ug,this),oe(t,"dragover",Ug,this),oe(t,"drop",Ug,this)])};var Bg="addfeatures";function Vg(t,e,o,i){he.call(this,t),this.features=o,this.file=e,this.projection=i}function Xg(t){t=t||{},Or.call(this,{handleDownEvent:$g,handleDragEvent:Wg,handleUpEvent:zg}),this.o=t.condition?t.condition:Ir,this.a=this.g=void 0,this.j=0,this.u=void 0!==t.duration?t.duration:400}function Wg(t){if(kr(t)){var e=t.map,o=e.Mb(),i=t.pixel;t=i[0]-o[0]/2,i=o[1]/2-i[1],o=Math.atan2(i,t),t=Math.sqrt(t*t+i*i),e=e.$(),void 0!==this.g&&(i=o-this.g,Mr(e,e.Va()-i)),this.g=o,void 0!==this.a&&Pr(e,o=this.a*(e.Ua()/t)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function zg(t){if(!kr(t))return!0;mr(t=t.map.$(),1,-1);var e=this.j-1,o=t.Va();Mr(t,o=t.constrainRotation(o,0),void 0,void 0);o=t.Ua();var i=this.u;return Pr(t,o=t.constrainResolution(o,0,e),void 0,i),this.j=0,!1}function $g(t){return!(!kr(t)||!this.o(t))&&(mr(t.map.$(),1,1),this.a=this.g=void 0,!0)}function Zg(t,e,o,i){this.oa=t,this.Y=e,this.overlaps=i,this.c=0,this.resolution=o,this.R=this.ta=null,this.a=[],this.coordinates=[],this.eb=[1,0,0,1,0,0],this.b=[],this.qa=null,this.ia=[1,0,0,1,0,0],this.ea=[1,0,0,1,0,0]}function Yg(t,e,o,i,r,n,s){var a=t.coordinates.length,p=t.Gf();s&&(o+=r),s=[e[o],e[o+1]];var h,l,u,c=[NaN,NaN],y=!0;for(h=o+r;h<i;h+=r)c[0]=e[h],c[1]=e[h+1],(u=N(p,c))!==l?(y&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],y=!1):1===u?(t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],y=!1):y=!0,s[0]=c[0],s[1]=c[1],l=u;return(n&&y||h===o+r)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function Hg(t,e){t.ta=[0,e,0],t.a.push(t.ta),t.R=[0,e,0],t.b.push(t.R)}function Kg(t,e,o,i,r,n,s,a,p){var h;t.qa&&G(i,t.eb)?h=t.qa:(t.qa||(t.qa=[]),h=Pi(t.coordinates,0,t.coordinates.length,2,i,t.qa),Kn(t.eb,i)),i=!yt(n);for(var l,u,c,y,f,d=0,g=s.length,v=0,m=t.ia,b=t.ea,w=0,x=0,M=t.a!=s||t.overlaps?0:200;d<g;){var S,P,L,C,A=s[d];switch(A[0]){case 0:v=A[1],i&&n[U(v).toString()]||!v.U()?d=A[2]:void 0===p||st(p,v.U().D())?++d:d=A[2]+1;break;case 1:M<w&&(t.Wa(e,r),w=0),M<x&&(e.stroke(),x=0),w||x||(e.beginPath(),u=c=NaN),++d;break;case 2:l=h[v=A[1]],A=h[v+1],y=h[v+2]-l,v=h[v+3]-A,v=Math.sqrt(y*y+v*v),e.moveTo(l+v,A),e.arc(l,A,v,0,2*Math.PI,!0),++d;break;case 3:e.closePath(),++d;break;case 4:v=A[1],l=A[2],S=A[3],P=A[4]*o,L=A[5]*o;var E=A[6],T=A[7],j=A[8],R=A[9];C=A[10],y=A[11],f=A[12];var I=A[13],N=A[14];for(C&&(y+=r);v<l;v+=2){if(A=h[v]-P,C=h[v+1]-L,I&&(A=Math.round(A),C=Math.round(C)),1!=f||y){var k=A+P;ts(m,k,D=C+L,f,f,y,-k,-D),e.setTransform.apply(e,m)}k=e.globalAlpha,1!=T&&(e.globalAlpha=k*T);var D=N+j>S.width?S.width-j:N,O=E+R>S.height?S.height-R:E;e.drawImage(S,j,R,D,O,A,C,D*o,O*o),1!=T&&(e.globalAlpha=k),(1!=f||y)&&e.setTransform.apply(e,b)}++d;break;case 5:for(v=A[1],l=A[2],L=A[3],E=A[4]*o,T=A[5]*o,y=A[6],f=A[7]*o,S=A[8],P=A[9],(C=A[10])&&(y+=r);v<l;v+=2){for(A=h[v]+E,C=h[v+1]+T,(1!=f||y)&&(ts(m,A,C,f,f,y,-A,-C),e.setTransform.apply(e,m)),1<(R=(j=L.split("\n")).length)?C-=(R-1)/2*(I=Math.round(1.5*e.measureText("M").width)):I=0,N=0;N<R;N++)k=j[N],P&&e.strokeText(k,A,C),S&&e.fillText(k,A,C),C+=I;(1!=f||y)&&e.setTransform.apply(e,b)}++d;break;case 6:if(a&&(v=a(v=A[1])))return v;++d;break;case 7:M?w++:t.Wa(e,r),++d;break;case 8:for(v=A[1],l=A[2],A=h[v],f=(C=h[v+1])+.5|0,(y=A+.5|0)===u&&f===c||(e.moveTo(A,C),u=y,c=f),v+=2;v<l;v+=2)y=(A=h[v])+.5|0,f=(C=h[v+1])+.5|0,(v==l-2||y!==u||f!==c)&&(e.lineTo(A,C),u=y,c=f);++d;break;case 9:t.$a=A[2],w&&(t.Wa(e,r),w=0,x&&(e.stroke(),x=0)),e.fillStyle=A[1],++d;break;case 10:v=void 0===A[8]||A[8];var F=A[9];l=A[2],x&&(e.stroke(),x=0),e.strokeStyle=A[1],e.lineWidth=v?l*o:l,e.lineCap=A[3],e.lineJoin=A[4],e.miterLimit=A[5],wo&&(l=A[6],y=A[7],v&&o!==F&&(l=l.map(function(t){return t*o/F}),y*=o/F,A[6]=l,A[7]=y,A[9]=o),e.lineDashOffset=y,e.setLineDash(l)),++d;break;case 11:e.font=A[1],e.textAlign=A[2],e.textBaseline=A[3],++d;break;case 12:M?x++:e.stroke(),++d;break;default:++d}}w&&t.Wa(e,r),x&&e.stroke()}function Jg(t){var e=t.b;e.reverse();var o,i,r,n=e.length,s=-1;for(o=0;o<n;++o)if(6==(r=(i=e[o])[0]))s=o;else if(0==r){for(i[2]=o,i=t.b,r=o;s<r;){var a=i[s];i[s]=i[r],i[r]=a,++s,--r}s=-1}}function _g(t,e){t.ta[2]=t.a.length,t.ta=null,t.R[2]=t.b.length,t.R=null;var o=[6,e];t.a.push(o),t.b.push(o)}function qg(t,e,o,i){Zg.call(this,t,e,o,i),this.M=this.S=null,this.G=this.C=this.A=this.u=this.I=this.v=this.o=this.j=this.l=this.g=this.f=void 0}function Qg(t,e,o,i){Zg.call(this,t,e,o,i),this.g=null,this.f={Kd:void 0,Ed:void 0,Fd:null,Gd:void 0,Hd:void 0,Id:void 0,Jd:void 0,Sf:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function tv(t,e,o,i,r){var n=t.coordinates.length;return n=[8,n,e=Yg(t,e,o,i,r,!1,!1)],t.a.push(n),t.b.push(n),i}function ev(t){var e=t.f,o=e.strokeStyle,i=e.lineCap,r=e.lineDash,n=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,p=e.miterLimit;e.Kd==o&&e.Ed==i&&G(e.Fd,r)&&e.Gd==n&&e.Hd==s&&e.Id==a&&e.Jd==p||(e.Sf!=t.coordinates.length&&(t.a.push([12]),e.Sf=t.coordinates.length),t.a.push([10,o,a,i,s,p,r,n,!0,1],[1]),e.Kd=o,e.Ed=i,e.Fd=r,e.Gd=n,e.Hd=s,e.Id=a,e.Jd=p)}function ov(t,e,o,i){Zg.call(this,t,e,o,i),this.g=null,this.f={Yg:void 0,Kd:void 0,Ed:void 0,Fd:null,Gd:void 0,Hd:void 0,Id:void 0,Jd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function iv(t,e,o,i,r){var n=void 0!==(s=t.f).fillStyle,s=null!=s.strokeStyle,a=i.length,p=[1];for(t.a.push(p),t.b.push(p),p=0;p<a;++p){var h=i[p];o=[8,t.coordinates.length,o=Yg(t,e,o,h,r,!0,!s)],t.a.push(o),t.b.push(o),s&&(o=[3],t.a.push(o),t.b.push(o)),o=h}return e=[7],t.b.push(e),n&&t.a.push(e),s&&(n=[12],t.a.push(n),t.b.push(n)),o}function rv(t,e){var o=t.f,i=o.fillStyle,r=o.strokeStyle,n=o.lineCap,s=o.lineDash,a=o.lineDashOffset,p=o.lineJoin,h=o.lineWidth,l=o.miterLimit;if(void 0!==i&&("string"!=typeof i||o.Yg!=i)){var u=[9,i];"string"!=typeof i&&(i=e.D(),u.push([i[0],i[3]])),t.a.push(u),o.Yg=o.fillStyle}void 0===r||o.Kd==r&&o.Ed==n&&G(o.Fd,s)&&o.Gd==a&&o.Hd==p&&o.Id==h&&o.Jd==l||(t.a.push([10,r,h,n,p,l,s,a,!0,1]),o.Kd=r,o.Ed=n,o.Fd=s,o.Gd=a,o.Hd=p,o.Id=h,o.Jd=l)}function nv(t,e,o,i){Zg.call(this,t,e,o,i),this.G=this.C=this.A=null,this.Fa="",this.o=this.j=0,this.v=void 0,this.u=this.I=0,this.l=this.g=this.f=null}function sv(t,e,o,i,r){this.I=t,this.c=e,this.o=i,this.v=o,this.g=r,this.a={},this.l=Ne(1,1),this.j=[1,0,0,1,0,0]}r(Vg,he),r(Xg,Or),r(Zg,ys),Zg.prototype.Wa=function(t,e){if(this.$a){var o=Jn(this.eb,this.$a.slice());t.translate(o[0],o[1]),t.rotate(e)}t.fill(),this.$a&&t.setTransform.apply(t,this.ea)},Zg.prototype.i=function(t,e,o,i,r){Kg(this,t,e,o,i,r,this.a,void 0,void 0)},Zg.prototype.Je=a,Zg.prototype.Gf=function(){return this.Y},r(qg,Zg),qg.prototype.qc=function(t,e){if(this.M){Hg(this,e);var o=t.ha(),i=this.coordinates.length;o=Yg(this,o,0,o.length,t.sa(),!1,!1);this.a.push([4,i,o,this.M,this.f,this.g,this.l,this.j,this.o,this.v,this.I,this.u,this.A,this.C,this.G]),this.b.push([4,i,o,this.S,this.f,this.g,this.l,this.j,this.o,this.v,this.I,this.u,this.A,this.C,this.G]),_g(this,e)}},qg.prototype.oc=function(t,e){if(this.M){Hg(this,e);var o=t.ha(),i=this.coordinates.length;o=Yg(this,o,0,o.length,t.sa(),!1,!1);this.a.push([4,i,o,this.M,this.f,this.g,this.l,this.j,this.o,this.v,this.I,this.u,this.A,this.C,this.G]),this.b.push([4,i,o,this.S,this.f,this.g,this.l,this.j,this.o,this.v,this.I,this.u,this.A,this.C,this.G]),_g(this,e)}},qg.prototype.Je=function(){Jg(this),this.g=this.f=void 0,this.M=this.S=null,this.G=this.C=this.u=this.I=this.v=this.o=this.j=this.A=this.l=void 0},qg.prototype.Vb=function(t){var e=t.Hc(),o=t.jc(),i=t.cg(1),r=t.Z(1),n=t.Pc();this.f=e[0],this.g=e[1],this.S=i,this.M=r,this.l=o[1],this.j=t.g,this.o=n[0],this.v=n[1],this.I=t.o,this.u=t.l,this.A=t.c,this.C=t.v,this.G=o[0]},r(Qg,Zg),(t=Qg.prototype).Gf=function(){return this.g||(this.g=A(this.Y),0<this.c&&C(this.g,this.resolution*(this.c+1)/2,this.g)),this.g},t.Qb=function(t,e){var o=this.f,i=o.lineWidth;void 0!==o.strokeStyle&&void 0!==i&&(ev(this),Hg(this,e),this.b.push([10,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1],[1]),tv(this,o=t.ha(),0,o.length,t.sa()),this.b.push([12]),_g(this,e))},t.nc=function(t,e){var o=(n=this.f).lineWidth;if(void 0!==n.strokeStyle&&void 0!==o){ev(this),Hg(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]);var i,r,n=t.Rb(),s=(o=t.ha(),t.sa()),a=0;for(i=0,r=n.length;i<r;++i)a=tv(this,o,a,n[i],s);this.b.push([12]),_g(this,e)}},t.Je=function(){this.f.Sf!=this.coordinates.length&&this.a.push([12]),Jg(this),this.f=null},t.Na=function(t,e){var o=e.a;this.f.strokeStyle=Re(o||us),o=e.i,this.f.lineCap=void 0!==o?o:"round",o=e.f,this.f.lineDash=o||ls,o=e.g,this.f.lineDashOffset=o||0,o=e.l,this.f.lineJoin=void 0!==o?o:"round",o=e.c,this.f.lineWidth=void 0!==o?o:1,o=e.j,this.f.miterLimit=void 0!==o?o:10,this.f.lineWidth>this.c&&(this.c=this.f.lineWidth,this.g=null)},r(ov,Zg),(t=ov.prototype).$b=function(t,e){var o=this.f,i=o.strokeStyle;if(void 0!==o.fillStyle||void 0!==i){rv(this,t),Hg(this,e),this.b.push([9,Ce(hs)]),void 0!==o.strokeStyle&&this.b.push([10,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1]);var r=t.ha();i=this.coordinates.length;Yg(this,r,0,r.length,t.sa(),!1,!1),r=[1],i=[2,i],this.a.push(r,i),this.b.push(r,i),i=[7],this.b.push(i),void 0!==o.fillStyle&&this.a.push(i),void 0!==o.strokeStyle&&(o=[12],this.a.push(o),this.b.push(o)),_g(this,e)}},t.rc=function(t,e){var o=this.f;rv(this,t),Hg(this,e),this.b.push([9,Ce(hs)]),void 0!==o.strokeStyle&&this.b.push([10,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,!0,1]);o=t.Rb();iv(this,t.fc(),0,o,t.sa()),_g(this,e)},t.pc=function(t,e){var o=(n=this.f).strokeStyle;if(void 0!==n.fillStyle||void 0!==o){rv(this,t),Hg(this,e),this.b.push([9,Ce(hs)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i,r,n=t.c,s=(o=rl(t),t.sa()),a=0;for(i=0,r=n.length;i<r;++i)a=iv(this,o,a,n[i],s);_g(this,e)}},t.Je=function(){Jg(this),this.f=null;var t=this.oa;if(t){var e,o,i=this.coordinates;for(e=0,o=i.length;e<o;++e)i[e]=t*Math.round(i[e]/t)}},t.Gf=function(){return this.g||(this.g=A(this.Y),0<this.c&&C(this.g,this.resolution*(this.c+1)/2,this.g)),this.g},t.Na=function(t,e){var o=this.f;if(t){var i=t.b;o.fillStyle=Re(i||hs)}else o.fillStyle=void 0;e?(i=e.a,o.strokeStyle=Re(i||us),i=e.i,o.lineCap=void 0!==i?i:"round",i=e.f,o.lineDash=i?i.slice():ls,i=e.g,o.lineDashOffset=i||0,i=e.l,o.lineJoin=void 0!==i?i:"round",i=e.c,o.lineWidth=void 0!==i?i:1,i=e.j,o.miterLimit=void 0!==i?i:10,o.lineWidth>this.c&&(this.c=o.lineWidth,this.g=null)):(o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0)},r(nv,Zg),nv.prototype.xc=function(t,e,o,i,r,n){if(""!==this.Fa&&this.l&&(this.f||this.g)){if(this.f){r=this.f;var s=this.A;if(!s||s.fillStyle!=r.fillStyle){var a=[9,r.fillStyle];this.a.push(a),this.b.push(a),s?s.fillStyle=r.fillStyle:this.A={fillStyle:r.fillStyle}}}this.g&&(r=this.g,(s=this.C)&&s.lineCap==r.lineCap&&s.lineDash==r.lineDash&&s.lineDashOffset==r.lineDashOffset&&s.lineJoin==r.lineJoin&&s.lineWidth==r.lineWidth&&s.miterLimit==r.miterLimit&&s.strokeStyle==r.strokeStyle||(a=[10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset,!1,1],this.a.push(a),this.b.push(a),s?(s.lineCap=r.lineCap,s.lineDash=r.lineDash,s.lineDashOffset=r.lineDashOffset,s.lineJoin=r.lineJoin,s.lineWidth=r.lineWidth,s.miterLimit=r.miterLimit,s.strokeStyle=r.strokeStyle):this.C={lineCap:r.lineCap,lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,lineJoin:r.lineJoin,lineWidth:r.lineWidth,miterLimit:r.miterLimit,strokeStyle:r.strokeStyle})),r=this.l,(s=this.G)&&s.font==r.font&&s.textAlign==r.textAlign&&s.textBaseline==r.textBaseline||(a=[11,r.font,r.textAlign,r.textBaseline],this.a.push(a),this.b.push(a),s?(s.font=r.font,s.textAlign=r.textAlign,s.textBaseline=r.textBaseline):this.G={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),Hg(this,n),t=[5,r=this.coordinates.length,t=Yg(this,t,e,o,i,!1,!1),this.Fa,this.j,this.o,this.I,this.u,!!this.f,!!this.g,this.v],this.a.push(t),this.b.push(t),_g(this,n)}},nv.prototype.Tb=function(t){if(t){if((e=t.Ca())?(e=Re((e=e.b)||hs),this.f?this.f.fillStyle=e:this.f={fillStyle:e}):this.f=null,a=t.Da()){var e=a.a,o=a.i,i=a.f,r=a.g,n=a.l,s=a.c,a=a.j;o=void 0!==o?o:"round",i=i?i.slice():ls,r=void 0!==r?r:0,n=void 0!==n?n:"round",s=void 0!==s?s:1,a=void 0!==a?a:10,e=Re(e||us);if(this.g)(h=this.g).lineCap=o,h.lineDash=i,h.lineDashOffset=r,h.lineJoin=n,h.lineWidth=s,h.miterLimit=a,h.strokeStyle=e;else this.g={lineCap:o,lineDash:i,lineDashOffset:r,lineJoin:n,lineWidth:s,miterLimit:a,strokeStyle:e}}else this.g=null;var p=t.a,h=(e=t.f,o=t.c,i=t.j,s=t.i,a=t.b,r=t.Pa(),n=t.g,t.l);t=void 0!==p?p:"10px sans-serif",n=void 0!==n?n:"center",h=void 0!==h?h:"middle",this.l?((p=this.l).font=t,p.textAlign=n,p.textBaseline=h):this.l={font:t,textAlign:n,textBaseline:h},this.Fa=void 0!==r?r:"",this.j=void 0!==e?e:0,this.o=void 0!==o?o:0,this.v=void 0!==i&&i,this.I=void 0!==s?s:0,this.u=void 0!==a?a:1}else this.Fa=""},r(sv,Ps);var av={0:[[!0]]};function pv(t,e,o){var i,r=Math.floor(t.length/2);if(r<=e)for(i=r;i<e;i++)t[i][o]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][o]=!0}function hv(t){for(var e in t.a){var o,i=t.a[e];for(o in i)i[o].Je()}}function lv(t,e){var o,i=(o=t.c)[0],r=o[1],n=o[2];return Pi(i=[i,r,i,o=o[3],n,o,n,r],0,8,2,e,i),i}sv.prototype.Aa=function(t,e,o,i,r,n){var s,a=2*(i=Math.round(i))+1,p=ts(this.j,i+.5,i+.5,1/e,-1/e,-o,-t[0],-t[1]),h=this.l;h.canvas.width!==a||h.canvas.height!==a?(h.canvas.width=a,h.canvas.height=a):h.clearRect(0,0,a,a),void 0!==this.g&&(Y(s=[1/0,1/0,-1/0,-1/0],t),C(s,e*(this.g+i),s));var l=function(t){if(void 0!==av[t])return av[t];for(var e=2*t+1,o=Array(e),i=0;i<e;i++)o[i]=Array(e);e=t;for(var r=i=0;i<=e;)pv(o,t+e,t+i),pv(o,t+i,t+e),pv(o,t-i,t+e),pv(o,t-e,t+i),pv(o,t-e,t-i),pv(o,t-i,t-e),pv(o,t+i,t-e),pv(o,t+e,t-i),0<2*((r+=1+2*++i)-e)+1&&(r+=1-2*--e);return av[t]=o}(i);return function(t,e,o,i,r,n,s){var a,p,h,l,u,c=Object.keys(t.a).map(Number);for(c.sort(function(t,e){return e-t}),a=0,p=c.length;a<p;++a)for(l=t.a[c[a].toString()],h=Ss.length-1;0<=h;--h)if(void 0!==(u=l[Ss[h]])&&(u=Kg(u,e,1,o,i,r,u.b,n,s)))return u}(this,h,p,o,r,function(t){for(var e=h.getImageData(0,0,a,a).data,o=0;o<a;o++)for(var i=0;i<a;i++)if(l[o][i]&&0<e[4*(i*a+o)+3])return(t=n(t))?t:void h.clearRect(0,0,a,a)},s)},sv.prototype.b=function(t,e){var o=void 0!==t?t.toString():"0",i=this.a[o];return void 0===i&&(i={},this.a[o]=i),void 0===(o=i[e])&&(o=new uv[e](this.I,this.c,this.v,this.o),i[e]=o),o},sv.prototype.f=function(){return yt(this.a)},sv.prototype.i=function(t,e,o,i,r,n){var s=Object.keys(this.a).map(Number);s.sort(D);var a=lv(this,o);t.save(),t.beginPath(),t.moveTo(a[0],a[1]),t.lineTo(a[2],a[3]),t.lineTo(a[4],a[5]),t.lineTo(a[6],a[7]),t.clip(),n=n||Ss;var p,h,l,u,c;a=0;for(p=s.length;a<p;++a)for(u=this.a[s[a].toString()],h=0,l=n.length;h<l;++h)void 0!==(c=u[n[h]])&&c.i(t,e,o,i,r);t.restore()};var uv={Circle:ov,Image:qg,LineString:Qg,Polygon:ov,Text:nv};function cv(t){ye.call(this),this.a=t}function yv(t,e){var o=e.V();return 2!=o&&3!=o&&oe(e,"change",t.ea,t),0==o&&(e.load(),o=e.V()),2==o}function fv(t){var e=t.a;e.Kb()&&"ready"==e.Nf()&&t.s()}function dv(t,e){e.fi()&&t.postRenderFunctions.push(function(t,e,o){e=U(t).toString(),t.gd(o.viewState.projection,o.usedTiles[e])}.bind(null,e))}function gv(t,e){var o,i,r;if(e)for(i=0,r=e.length;i<r;++i)t[U(o=e[i]).toString()]=o}function vv(t,e){var o=e.R;void 0!==o&&("string"==typeof o?t.logos[o]="":o&&(k("string"==typeof o.href,44),k("string"==typeof o.src,45),t.logos[o.src]=o.href))}function mv(t,e,o,i){e=U(e).toString(),o=o.toString(),e in t?o in t[e]?(t=t[e][o],i.da<t.da&&(t.da=i.da),i.ba>t.ba&&(t.ba=i.ba),i.fa<t.fa&&(t.fa=i.fa),i.ja>t.ja&&(t.ja=i.ja)):t[e][o]=i:(t[e]={},t[e][o]=i)}function bv(t,e,o,i,r,n,s,a,p,h){var l=U(e).toString();l in t.wantedTiles||(t.wantedTiles[l]={});var u=t.wantedTiles[l];t=t.tileQueue;var c,y,f,d,g,v,m=o.minZoom;for(v=s;m<=v;--v)for(y=Wt(o,n,v,y),f=o.La(v),d=y.da;d<=y.ba;++d)for(g=y.fa;g<=y.ja;++g)s-v<=a?(0==(c=e.Lc(v,d,g,i,r)).V()&&(u[c.ib()]=!0,c.ib()in t.a||t.i([c,l,zt(o,c.Ga),f])),p&&p.call(h,c)):e.Eg(v,d,g,r)}function wv(t){cv.call(this,t),this.ia=[1,0,0,1,0,0]}function xv(t,e,o){var i=e.pixelRatio,r=e.size[0]*i,n=e.size[1]*i,s=e.viewState.rotation,a=it(o),p=rt(o),h=q(o);o=_(o),Jn(e.coordinateToPixelTransform,a),Jn(e.coordinateToPixelTransform,p),Jn(e.coordinateToPixelTransform,h),Jn(e.coordinateToPixelTransform,o),t.save(),cs(t,-s,r/2,n/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(p[0]*i,p[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(o[0]*i,o[1]*i),t.clip(),cs(t,s,r/2,n/2)}function Mv(t,e,o,i,r){var n=t.a;if(ce(n,e)){var s=i.size[0]*i.pixelRatio,a=i.size[1]*i.pixelRatio,p=i.viewState.rotation;cs(o,-p,s/2,a/2),t=r||Sv(t,i,0),n.b(new ps(e,new fs(o,i.pixelRatio,i.extent,t,i.viewState.rotation),i,o,null)),cs(o,p,s/2,a/2)}}function Sv(t,e,o){var i=e.viewState,r=e.pixelRatio,n=r/i.resolution;return ts(t.ia,r*e.size[0]/2,r*e.size[1]/2,n,-n,-i.rotation,-i.center[0]+o,-i.center[1])}function Pv(t,e){return U(t)-U(e)}function Lv(t,e){var o=.5*t/e;return o*o}function Cv(t,e,o,i,r,n){var s,a,p=!1;return(s=o.Z())&&(2==(a=s.Oe())||3==a?s.Yi(r,n):(0==a&&s.load(),s.zh(r,n),p=!0)),(r=(0,o.Ra)(e))&&(i=r.Qd(i),(0,Av[i.T()])(t,i,o,e)),p}r(cv,ye),cv.prototype.Aa=a,cv.prototype.Ke=Mi,cv.prototype.Cf=function(o,i,r){return function(e,t){return zb(o,i,e,t,function(t){r[e]||(r[e]={}),r[e][t.Ga.toString()]=t})}},cv.prototype.ea=function(t){2===t.target.V()&&fv(this)},r(wv,cv),wv.prototype.v=function(t,e,o,i){if(this.Aa(t,e,0,xi,this))return o.call(i,this.a,null)},wv.prototype.Ue=function(t,e,o,i){Mv(this,"postcompose",t,e,i)};var Av={Point:function(t,e,o,i){var r=o.Z();if(r){if(2!=r.Oe())return;var n=t.b(o.za(),"Image");n.Vb(r),n.qc(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),t.xc(e.ha(),0,2,2,e,i))},LineString:function(t,e,o,i){var r=o.Da();if(r){var n=t.b(o.za(),"LineString");n.Na(null,r),n.Qb(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),t.xc(_h(e),0,2,2,e,i))},Polygon:function(t,e,o,i){var r=o.Ca(),n=o.Da();if(r||n){var s=t.b(o.za(),"Polygon");s.Na(r,n),s.rc(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),t.xc(nr(e),0,2,2,e,i))},MultiPoint:function(t,e,o,i){var r=o.Z();if(r){if(2!=r.Oe())return;var n=t.b(o.za(),"Image");n.Vb(r),n.oc(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),o=e.ha(),t.xc(o,0,o.length,e.sa(),e,i))},MultiLineString:function(t,e,o,i){var r=o.Da();if(r){var n=t.b(o.za(),"LineString");n.Na(null,r),n.nc(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),o=Qh(e),t.xc(o,0,o.length,2,e,i))},MultiPolygon:function(t,e,o,i){var r=o.Ca(),n=o.Da();if(n||r){var s=t.b(o.za(),"Polygon");s.Na(r,n),s.pc(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),o=il(e),t.xc(o,0,o.length,2,e,i))},GeometryCollection:function(t,e,o,i){var r,n;for(r=0,n=(e=e.a).length;r<n;++r)(0,Av[e[r].T()])(t,e[r],o,i)},Circle:function(t,e,o,i){var r=o.Ca(),n=o.Da();if(r||n){var s=t.b(o.za(),"Circle");s.Na(r,n),s.$b(e,i)}(r=o.Pa())&&((t=t.b(o.za(),"Text")).Tb(r),t.xc(e.Ba(),0,2,2,e,i))}};function Ev(t){wv.call(this,t),this.c=!1,this.u=-1,this.o=NaN,this.l=[1/0,1/0,-1/0,-1/0],this.i=this.j=null,this.g=Ne()}function Tv(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}r(Ev,wv),Ev.prototype.I=function(t,e,o){var i=t.extent,r=t.pixelRatio,n=e.De?t.skippedFeatureUids:{},s=(a=t.viewState).projection,a=a.rotation,p=s.D(),h=this.a.la(),l=Sv(this,t,0);Mv(this,"precompose",o,t,l);var u=e.extent,c=void 0!==u;if(c&&xv(o,t,u),(u=this.i)&&!u.f()){var y,f=0,d=0;if(ce(this.a,"render")){y=o.canvas.width;var g=o.canvas.height;if(a){f=((v=Math.round(Math.sqrt(y*y+g*g)))-y)/2,d=(v-g)/2;y=g=v}this.g.canvas.width=y,this.g.canvas.height=g,y=this.g}else y=o;g=y.globalAlpha,y.globalAlpha=e.opacity,y!=o&&y.translate(f,d);var v=t.size[0]*r,m=t.size[1]*r;if(cs(y,-a,v/2,m/2),u.i(y,r,l,a,n),h.G&&s.a&&!B(p,i)){s=i[0],h=nt(p);for(var b=0;s<p[0];)l=Sv(this,t,l=h*--b),u.i(y,r,l,a,n),s+=h;for(b=0,s=i[2];s>p[2];)l=Sv(this,t,l=h*++b),u.i(y,r,l,a,n),s-=h;l=Sv(this,t,0)}cs(y,a,v/2,m/2),y!=o&&(Mv(this,"render",y,t,l),o.drawImage(y.canvas,-f,-d),y.translate(-f,-d)),y.globalAlpha=g}c&&o.restore(),this.Ue(o,t,e,l)},Ev.prototype.Aa=function(t,e,o,i,r){if(this.i){var n=this.a,s={};return this.i.Aa(t,e.viewState.resolution,e.viewState.rotation,o,{},function(t){var e=U(t).toString();if(!(e in s))return s[e]=!0,i.call(r,t,n)})}},Ev.prototype.A=function(){fv(this)},Ev.prototype.qd=function(t){function e(t){var e,o=t.Nc();if(o?e=o.call(t,h):(o=n.i)&&(e=o(t,h)),e){if(e){if(o=!1,Array.isArray(e))for(var i=0,r=e.length;i<r;++i)o=Cv(c,t,e[i],Lv(h,l),this.A,this)||o;else o=Cv(c,t,e,Lv(h,l),this.A,this)||o;t=o}else t=!1;this.c=this.c||t}}var n=this.a,o=n.la();gv(t.attributions,o.l),vv(t,o);var i=t.viewHints[0],r=t.viewHints[1],s=n.ea,a=n.ia;if(!this.c&&!s&&i||!a&&r)return!0;var p=t.extent,h=(i=(a=t.viewState).projection,a.resolution),l=t.pixelRatio,u=(r=n.f,n.c);if(void 0===(s=n.get(Gv))&&(s=Pv),p=C(p,u*h),u=a.projection.D(),o.G&&a.projection.a&&!B(u,t.extent)&&(t=Math.max(nt(p)/2,nt(u)),p[0]=u[0]-t,p[2]=u[2]+t),!this.c&&this.o==h&&this.u==r&&this.j==s&&B(this.l,p))return!0;this.i=null,this.c=!1;var c=new sv(.5*h/l,p,h,o.Ha,n.c);if(o.Ud(p,h,i),s){var y=[];o.ac(p,function(t){y.push(t)},this),y.sort(s),y.forEach(e,this)}else o.ac(p,e,this);return hv(c),this.o=h,this.u=r,this.j=s,this.l=p,this.i=c,!0},r(Tv,Cs);var jv=new Tv;function Rv(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}r(Rv,As);var Iv=new Rv;function Nv(t,e){this.f=t.getUniformLocation(e,"f"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function kv(t,e){cv.call(this,e),this.c=t,this.Y=new Vs([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.g=this.Fb=null,this.l=void 0,this.v=[1,0,0,1,0,0],this.u=[1,0,0,1,0,0],this.C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.I=null}function Dv(t,e,o,i){if(ce(t=t.a,e)){var r=i.viewState;t.b(new ps(e,new Mp(o,r.center,r.resolution,r.rotation,i.size,i.extent,i.pixelRatio),i,null,o))}}function Ov(t,e){kv.call(this,t,e),this.o=!1,this.S=-1,this.R=NaN,this.A=[1/0,1/0,-1/0,-1/0],this.j=this.i=this.G=null}function Fv(t){var e=lt({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Vn.call(this,e),this.c=void 0!==t.renderBuffer?t.renderBuffer:100,this.A=null,this.i=void 0,this.g(t.style),this.ea=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.ia=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}r(kv,cv),kv.prototype.ai=function(t,e,o){Dv(this,"precompose",o,t),_s(o,34962,this.Y);var i,r=o.b,n=ea(o,jv,Iv);this.I?i=this.I:this.I=i=new Nv(r,n),o.Rc(n)&&(r.enableVertexAttribArray(i.b),r.vertexAttribPointer(i.b,2,5126,!1,16,0),r.enableVertexAttribArray(i.a),r.vertexAttribPointer(i.a,2,5126,!1,16,8),r.uniform1i(i.i,0)),r.uniformMatrix4fv(i.g,!1,Ns(this.C,this.v)),r.uniformMatrix4fv(i.c,!1,Ns(this.C,this.u)),r.uniform1f(i.f,e.opacity),r.bindTexture(3553,this.Fb),r.drawArrays(5,0,4),Dv(this,"postcompose",o,t)},kv.prototype.$f=function(){this.g=this.Fb=null,this.l=void 0},r(Ov,kv),(t=Ov.prototype).ai=function(t,e,o){this.j=e;var i=t.viewState,r=this.i,n=t.size,s=t.pixelRatio,a=this.c.f;r&&!r.f()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,n[0]*s,n[1]*s),r.i(o,i.center,i.resolution,i.rotation,n,s,e.opacity,e.De?t.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},t.ra=function(){var t=this.i;t&&(mp(t,this.c.i)(),this.i=null),kv.prototype.ra.call(this)},t.Aa=function(t,e,o,i,r){if(this.i&&this.j){o=e.viewState;var n=this.a,s={};return this.i.Aa(t,this.c.i,o.center,o.resolution,o.rotation,e.size,e.pixelRatio,this.j.opacity,{},function(t){var e=U(t).toString();if(!(e in s))return s[e]=!0,i.call(r,t,n)})}},t.Ke=function(t,e){if(this.i&&this.j){var o=e.viewState;return i=this.i,r=t,n=this.c.i,s=o.resolution,a=o.rotation,p=e.pixelRatio,h=this.j.opacity,l=e.skippedFeatureUids,(u=n.b).bindFramebuffer(u.FRAMEBUFFER,Qs(n)),void 0!==bp(i,n,r,s,a,p,h,l,function(){var t=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,t),0<t[3]},!1)}var i,r,n,s,a,p,h,l,u;return!1},t.Zf=function(t,e,o,i){if(t=Jn(e.pixelToCoordinateTransform,t.slice()),this.Ke(t,e))return o.call(i,this.a,null)},t.bi=function(){fv(this)},t.ag=function(t,e,o){function i(t){var e,o=t.Nc();if(o?e=o.call(t,h):(o=r.i)&&(e=o(t,h)),e){if(e){if(o=!1,Array.isArray(e))for(var i=e.length-1;0<=i;--i)o=Cv(c,t,e[i],Lv(h,l),this.bi,this)||o;else o=Cv(c,t,e,Lv(h,l),this.bi,this)||o;t=o}else t=!1;this.o=this.o||t}}var r=this.a;e=r.la(),gv(t.attributions,e.l),vv(t,e);var n=t.viewHints[0],s=t.viewHints[1],a=r.ea,p=r.ia;if(!this.o&&!a&&n||!p&&s)return!0;s=t.extent,n=(a=t.viewState).projection;var h=a.resolution,l=t.pixelRatio,u=(a=r.f,r.c);if(void 0===(p=r.get(Gv))&&(p=Pv),s=C(s,u*h),!this.o&&this.R==h&&this.S==a&&this.G==p&&B(this.A,s))return!0;this.i&&t.postRenderFunctions.push(mp(this.i,o)),this.o=!1;var c=new vp(.5*h/l,s,r.c);if(e.Ud(s,h,n),p){var y=[];e.ac(s,function(t){y.push(t)},this),y.sort(p),y.forEach(i,this)}else e.ac(s,i,this);return function(t,e){for(var o in t.a){var i,r=t.a[o];for(i in r)r[i].Bb(e)}}(c,o),this.R=h,this.S=a,this.G=p,this.A=s,this.i=c,!0},r(Fv,Vn),Fv.prototype.Dd=function(t){var e=null,o=t.T();return"canvas"===o?e=new Ev(this):"webgl"===o&&(e=new Ov(t,this)),e},Fv.prototype.C=function(){return this.A},Fv.prototype.G=function(){return this.i},Fv.prototype.g=function(t){this.A=void 0!==t?t:dh,this.i=null===t?void 0:yh(this.A),this.s()};var Gv="renderOrder";function Uv(){return[[-1/0,-1/0,1/0,1/0]]}function Bv(t){fe.call(this),this.c=Tt(t.projection),this.l=Vv(t.attributions),this.R=t.logo,this.Ja=void 0!==t.state?t.state:"ready",this.G=void 0!==t.wrapX&&t.wrapX}function Vv(t){if("string"==typeof t)return[new Jt({html:t})];if(t instanceof Jt)return[t];if(Array.isArray(t)){for(var e=t.length,o=Array(e),i=0;i<e;i++){var r=t[i];o[i]="string"==typeof r?new Jt({html:r}):r}return o}return null}function Xv(t,e){t.Ja=e,t.s()}function Wv(t){Bv.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.Y=a,this.S=t.format,this.Ha=null==t.overlaps||t.overlaps,this.ea=t.url,t.loader?this.Y=t.loader:void 0!==this.ea&&(k(this.S,7),this.Y=Vh(this.ea,this.S)),this.Bd=t.strategy?t.strategy:Uv;var e,o,i,r,n,s=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=s?new Ka:null,this.oa=new Ka,this.g={},this.j={},this.o={},this.v={},this.i=null,t.features instanceof be?o=(e=t.features).a:Array.isArray(t.features)&&(o=t.features),s||e||(e=new be(o)),o&&Zv(this,o),e&&(r=e,n=!1,oe(i=this,"addfeature",function(t){n||(n=!0,r.push(t.feature),n=!1)}),oe(i,"removefeature",function(t){n||(n=!0,r.remove(t.feature),n=!1)}),oe(r,"add",function(t){n||(n=!0,this.zb(t.element),n=!1)},i),oe(r,"remove",function(t){n||(n=!0,this.Db(t.element),n=!1)},i),i.i=r)}function zv(t,e,o){t.v[e]=[oe(o,"change",t.ji,t),oe(o,"propertychange",t.ji,t)]}function $v(t,e,o){var i=!0,r=o.a;return void 0!==r?r.toString()in t.j?i=!1:t.j[r.toString()]=o:(k(!(e in t.o),30),t.o[e]=o),i}function Zv(t,e){var o,i,r,n,s=[],a=[],p=[];for(i=0,r=e.length;i<r;i++)$v(t,o=U(n=e[i]).toString(),n)&&a.push(n);for(i=0,r=a.length;i<r;i++){zv(t,o=U(n=a[i]).toString(),n);var h=n.U();h?(o=h.D(),s.push(o),p.push(n)):t.g[o]=n}for(t.a&&t.a.load(s,p),i=0,r=a.length;i<r;i++)t.b(new Hv("addfeature",a[i]))}function Yv(t,e){for(var o in t.j)if(t.j[o]===e){delete t.j[o];break}}function Hv(t,e){he.call(this,t),this.feature=e}function Kv(t){var e,o;Or.call(this,{handleDownEvent:_v,handleEvent:Jv,handleUpEvent:qv}),this.ea=null,this.u=!1,this.lb=t.source?t.source:null,this.Ha=t.features?t.features:null,this.ak=t.snapTolerance?t.snapTolerance:12,this.S=t.type,this.g=("Point"===(e=this.S)||"MultiPoint"===e?o=nm:"LineString"===e||"MultiLineString"===e?o=sm:"Polygon"===e||"MultiPolygon"===e?o=am:"Circle"===e&&(o=pm),o),this.Ja=t.minPoints?t.minPoints:this.g===am?3:2,this.oa=t.maxPoints?t.maxPoints:1/0,this.Bd=t.finishCondition?t.finishCondition:xi;var i,r=t.geometryFunction;if(!r)if("Circle"===this.S)r=function(t,e){var o=e||new Mg([NaN,NaN]);return o.yg(t[0],Math.sqrt(vi(t[0],t[1]))),o};else{var n,s=this.g;s===nm?n=Zi:s===sm?n=Jh:s===am&&(n=rr),r=function(t,e){var o=e;return o?s===am?o.pa([t[0].concat([t[0][0]])]):o.pa(t):o=new n(t),o}}this.Ra=r,this.R=this.C=this.a=this.G=this.j=this.o=null,this.mb=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ia=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=gh(),function(t){return i[t.U().T()]})}),this.Oa=t.geometryName,this.Yj=t.condition?t.condition:Rr,this.rf=t.freehand?xi:t.freehandCondition?t.freehandCondition:Ir,oe(this,ge("active"),this.aj,this)}function Jv(t){this.u=this.g!==nm&&this.rf(t);var e=!this.u;return this.u&&"pointerdrag"===t.type&&null!==this.j?(om(this,t),e=!1):"pointermove"===t.type?e=Qv(this,t):"dblclick"===t.type&&(e=!1),Gr.call(this,t)&&e}function _v(t){return this.u?(this.ea=t.pixel,this.o||em(this,t),!0):!!this.Yj(t)&&(this.ea=t.pixel,!0)}function qv(t){var e=this.ea,o=t.pixel,i=(i=e[0]-o[0])*i+(e=e[1]-o[1])*e;e=!0,o=this.g===pm;return(this.u?i>this.mb:i<=this.mb)?(Qv(this,t),this.o?this.u||o?this.Nd():tm(this,t)?this.Bd(t)&&this.Nd():om(this,t):(em(this,t),this.g===nm&&this.Nd()),e=!1):o&&(this.o=null),e}function Qv(t,e){if(t.o){var o,i=e.coordinate,r=t.j.U();t.g===nm?o=t.a:t.g===am?(o=(o=t.a[0])[o.length-1],tm(t,e)&&(i=t.o.slice())):o=(o=t.a)[o.length-1],o[0]=i[0],o[1]=i[1],t.Ra(t.a,r),t.G&&t.G.U().pa(i),r instanceof rr&&t.g!==am?(t.C||(t.C=new mh(new Jh(null))),r=r.nh(0),(i=t.C.U()).ca(r.ka,r.ha())):t.R&&(i=t.C.U()).pa(t.R),rm(t)}else i=e.coordinate.slice(),t.G?t.G.U().pa(i):(t.G=new mh(new Zi(i)),rm(t));return!0}function tm(t,e){var o=!1;if(t.j){var i=!1,r=[t.o];if(t.g===sm?i=t.a.length>t.Ja:t.g===am&&(i=t.a[0].length>t.Ja,r=[t.a[0][0],t.a[0][t.a[0].length-2]]),i){i=e.map;for(var n=0,s=r.length;n<s;n++){var a=r[n],p=i.Ka(a),h=e.pixel;o=h[0]-p[0],p=h[1]-p[1];if(o=Math.sqrt(o*o+p*p)<=(t.u?1:t.ak)){t.o=a;break}}}}return o}function em(t,e){var o=e.coordinate;t.o=o,t.g===nm?t.a=o.slice():t.g===am?(t.a=[[o.slice(),o.slice()]],t.R=t.a[0]):(t.a=[o.slice(),o.slice()],t.g===pm&&(t.R=t.a)),t.R&&(t.C=new mh(new Jh(t.R))),o=t.Ra(t.a),t.j=new mh,t.Oa&&t.j.Vc(t.Oa),t.j.Sa(o),rm(t),t.b(new hm("drawstart",t.j))}function om(t,e){var o,i,r=e.coordinate,n=t.j.U();t.g===sm?(t.o=r.slice(),(i=t.a).length>=t.oa&&(t.u?i.pop():o=!0),i.push(r.slice()),t.Ra(i,n)):t.g===am&&((i=t.a[0]).length>=t.oa&&(t.u?i.pop():o=!0),i.push(r.slice()),o&&(t.o=i[0]),t.Ra(t.a,n)),rm(t),o&&t.Nd()}function im(t){t.o=null;var e=t.j;return e&&(t.j=null,t.G=null,t.C=null,t.ia.la().clear(!0)),e}function rm(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.G&&e.push(t.G),(t=t.ia.la()).clear(!0),t.dd(e)}r(Bv,fe),(t=Bv.prototype).Aa=a,t.xa=function(){return this.l},t.wa=function(){return this.R},t.ya=function(){return this.c},t.V=function(){return this.Ja},t.va=function(){this.s()},t.ua=function(t){this.l=Vv(t),this.s()},r(Wv,Bv),(t=Wv.prototype).zb=function(t){var e=U(t).toString();if($v(this,e,t)){zv(this,e,t);var o=t.U();o?(e=o.D(),this.a&&this.a.Ea(e,t)):this.g[e]=t,this.b(new Hv("addfeature",t))}this.s()},t.dd=function(t){Zv(this,t),this.s()},t.clear=function(t){if(t){for(var e in this.v)this.v[e].forEach(ne);this.i||(this.v={},this.j={},this.o={})}else if(this.a)for(var o in this.a.forEach(this.ug,this),this.g)this.ug(this.g[o]);this.i&&this.i.clear(),this.a&&this.a.clear(),this.oa.clear(),this.g={},this.b(new Hv("clear")),this.s()},t.bh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},t.ac=function(t,e,o){return this.a?Qa(this.a,t,e,o):this.i?this.i.forEach(e,o):void 0},t.dh=function(e,o,i){return this.ac(e,function(t){if(t.U().Xa(e)&&(t=o.call(i,t)))return t})},t.lh=function(){return this.i},t.Ne=function(){var t;return this.i?t=this.i.a:this.a&&(t=_a(this.a),yt(this.g)||c(t,ct(this.g))),t},t.kh=function(t){var e,o,i=[];return e=t,o=function(t){i.push(t)},this.ac([e[0],e[1],e[0],e[1]],function(t){if(t.U().sb(e))return o.call(void 0,t)}),i},t.Hf=function(t){return qa(this.a,t)},t.gh=function(t,e){var i=t[0],r=t[1],n=null,s=[NaN,NaN],a=1/0,p=[-1/0,-1/0,1/0,1/0],h=e||xi;return Qa(this.a,p,function(t){if(h(t)){var e=t.U(),o=a;(a=e.Gb(i,r,s,a))<o&&(n=t,t=Math.sqrt(a),p[0]=i-t,p[1]=r-t,p[2]=i+t,p[3]=r+t)}}),n},t.D=function(){return this.a.D()},t.jh=function(t){return void 0!==(t=this.j[t.toString()])?t:null},t.hi=function(){return this.S},t.ii=function(){return this.ea},t.ji=function(t){var e=U(t=t.target).toString(),o=t.U();o?(o=o.D(),e in this.g?(delete this.g[e],this.a&&this.a.Ea(o,t)):this.a&&Ja(this.a,o,t)):e in this.g||(this.a&&this.a.remove(t),this.g[e]=t),void 0!==(o=t.a)?(o=o.toString(),e in this.o?(delete this.o[e],this.j[o]=t):this.j[o]!==t&&(Yv(this,t),this.j[o]=t)):e in this.o||(Yv(this,t),this.o[e]=t),this.s(),this.b(new Hv("changefeature",t))},t.Ud=function(t,e,o){var i,r,n=this.oa;for(i=0,r=(t=this.Bd(t,e)).length;i<r;++i){var s=t[i];Qa(n,s,function(t){return B(t.extent,s)})||(this.Y.call(this,s,e,o),n.Ea(s,{extent:s.slice()}))}},t.Db=function(t){var e=U(t).toString();e in this.g?delete this.g[e]:this.a&&this.a.remove(t),this.ug(t),this.s()},t.ug=function(t){var e=U(t).toString();this.v[e].forEach(ne),delete this.v[e];var o=t.a;void 0!==o?delete this.j[o.toString()]:delete this.o[e],this.b(new Hv("removefeature",t))},r(Hv,he),r(Kv,Or),(t=Kv.prototype).setMap=function(t){Or.prototype.setMap.call(this,t),this.aj()},t.cp=function(){var t,e=this.j.U();this.g===sm?((t=this.a).splice(-2,1),this.Ra(t,e)):this.g===am&&((t=this.a[0]).splice(-2,1),this.C.U().pa(t),this.Ra(this.a,e)),0===t.length&&(this.o=null),rm(this)},t.Nd=function(){var t=im(this),e=this.a,o=t.U();this.g===sm?(e.pop(),this.Ra(e,o)):this.g===am&&(e[0].pop(),this.Ra(e,o),e=o.X()),"MultiPoint"===this.S?t.Sa(new el([e])):"MultiLineString"===this.S?t.Sa(new qh([e])):"MultiPolygon"===this.S&&t.Sa(new ol([e])),this.b(new hm("drawend",t)),this.Ha&&this.Ha.push(t),this.lb&&this.lb.zb(t)},t.Om=function(t){var e=t.U();this.j=t,this.a=e.X(),t=this.a[this.a.length-1],this.o=t.slice(),this.a.push(t.slice()),rm(this),this.b(new hm("drawstart",this.j))},t.Zc=Mi,t.aj=function(){var t=this.v,e=this.c();t&&e||im(this),this.ia.setMap(e?t:null)};var nm="Point",sm="LineString",am="Polygon",pm="Circle";function hm(t,e){he.call(this,t),this.feature=e}function lm(t){var e,o;this.a=this.j=null,this.C=!1,this.G=this.o=null,t||(t={}),t.extent&&this.g(t.extent),Or.call(this,{handleDownEvent:cm,handleDragEvent:ym,handleEvent:um,handleUpEvent:fm}),this.u=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:(e=gh(),function(){return e.Polygon}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.R=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:(o=gh(),function(){return o.Point}),updateWhileAnimating:!0,updateWhileInteracting:!0})}function um(t){if(!(t instanceof po))return!0;if("pointermove"==t.type&&!this.A){var e=t.pixel,o=t.map,i=vm(this,e,o);i||(i=o.Za(e)),mm(this,i)}return Gr.call(this,t),!1}function cm(t){function e(t){var e=null,o=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?o=r[3]:t[1]==r[3]&&(o=r[1]),null!==e&&null!==o?[e,o]:null}var o=t.pixel,i=t.map,r=this.D();return(t=vm(this,o,i))&&r?(o=t[0]==r[0]||t[0]==r[2]?t[0]:null,i=t[1]==r[1]||t[1]==r[3]?t[1]:null,null!==o&&null!==i?this.a=dm(e(t)):null!==o?this.a=gm(e([o,r[1]]),e([o,r[3]])):null!==i&&(this.a=gm(e([r[0],i]),e([r[2],i])))):(t=i.Za(o),this.g([t[0],t[1],t[0],t[1]]),this.a=dm(t)),!0}function ym(t){return this.a&&(t=t.coordinate,this.g(this.a(t)),mm(this,t)),!0}function fm(){this.a=null;var t=this.D();return t&&J(t)||this.g(null),!1}function dm(e){return function(t){return L([e,t])}}function gm(e,o){return e[0]==o[0]?function(t){return L([e,[t[0],o[1]]])}:e[1]==o[1]?function(t){return L([e,[o[0],t[1]]])}:null}function vm(t,e,o){var i=o.Za(e);if(r=t.D()){(r=[[[r[0],r[1]],[r[0],r[3]]],[[r[0],r[3]],[r[2],r[3]]],[[r[2],r[3]],[r[2],r[1]]],[[r[2],r[1]],[r[0],r[1]]]]).sort(function(t,e){return bi(i,t)-bi(i,e)});var r=r[0],n=ui(i,r),s=o.Ka(n);if(mi(e,s)<=10)return e=o.Ka(r[0]),o=o.Ka(r[1]),e=vi(s,e),o=vi(s,o),t.C=Math.sqrt(Math.min(e,o))<=10,t.C&&(n=o<e?r[1]:r[0]),n}return null}function mm(t,e){var o=t.G;o?o.U().pa(e):(o=new mh(new Zi(e)),t.G=o,t.R.la().zb(o))}function bm(t){he.call(this,wm),this.b=t}r(hm,he),r(lm,Or),lm.prototype.setMap=function(t){this.u.setMap(t),this.R.setMap(t),Or.prototype.setMap.call(this,t)},lm.prototype.D=function(){return this.j},lm.prototype.g=function(t){this.j=t||null;var e=this.o;e?t?e.Sa(ar(t)):e.Sa(void 0):(this.o=e=new mh(t?ar(t):{}),this.u.la().zb(e)),this.b(new bm(this.j))},r(bm,he);var wm="extentchanged";function xm(t){var e;Or.call(this,{handleDownEvent:Cm,handleDragEvent:Am,handleEvent:Tm,handleUpEvent:Em}),this.mb=t.condition?t.condition:Dr,this.Oa=function(t){return Rr(t)&&jr(t)},this.lb=t.deleteCondition?t.deleteCondition:this.Oa,this.Ha=this.g=null,this.Ja=[0,0],this.C=this.R=!1,this.a=new Ka,this.ia=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.o=this.oa=!1,this.j=[],this.G=new Fv({source:new Wv({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(e=gh(),function(){return e.Point}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ea={Point:this.Vm,LineString:this.Oh,LinearRing:this.Oh,Polygon:this.Wm,MultiPoint:this.Tm,MultiLineString:this.Sm,MultiPolygon:this.Um,Circle:this.Ip,GeometryCollection:this.Rm},this.u=t.features,this.u.forEach(this.Yf,this),oe(this.u,"add",this.Pm,this),oe(this.u,"remove",this.Qm,this),this.S=null}function Mm(t,e){t.C||(t.C=!0,t.b(new km("modifystart",t.u,e)))}function Sm(t,e){!function(t,e){var o=t.a,i=[];o.forEach(function(t){e===t.feature&&i.push(t)});for(var r=i.length-1;0<=r;--r)o.remove(i[r])}(t,e),t.g&&!t.u.ec()&&(t.G.la().Db(t.g),t.g=null),re(e,"change",t.Nh,t)}function Pm(t,e){var o=t.g;o?o.U().pa(e):(o=new mh(new Zi(e)),t.g=o,t.G.la().zb(o))}function Lm(t,e){return t.index-e.index}function Cm(t){if(!this.mb(t))return!1;if(jm(this,t.pixel,t.map),this.j.length=0,this.C=!1,e=this.g){var e,o=[],i=L([e=e.U().X()]),r={};(i=qa(this.a,i)).sort(Lm);for(var n=0,s=i.length;n<s;++n){var a=i[n],p=a.na,h=U(a.feature),l=a.depth;l&&(h+="-"+l.join("-")),r[h]||(r[h]=Array(2)),"Circle"===a.geometry.T()&&1===a.index?fi(p=Im(e,a),e)&&!r[h][0]&&(this.j.push([a,0]),r[h][0]=a):fi(p[0],e)&&!r[h][0]?(this.j.push([a,0]),r[h][0]=a):fi(p[1],e)&&!r[h][1]?("LineString"!==a.geometry.T()&&"MultiLineString"!==a.geometry.T()||!r[h][0]||0!==r[h][0].index)&&(this.j.push([a,1]),r[h][1]=a):U(p)in this.Ha&&!r[h][0]&&!r[h][1]&&o.push([a,e])}for(o.length&&Mm(this,t),t=o.length-1;0<=t;--t)this.Il.apply(this,o[t])}return!!this.g}function Am(t){this.R=!1,Mm(this,t),t=t.coordinate;for(var e=0,o=this.j.length;e<o;++e){for(var i,r=(p=this.j[e])[0],n=r.depth,s=r.geometry,a=r.na,p=p[1];t.length<s.sa();)t.push(a[p][t.length]);switch(s.T()){case"Point":i=t,a[0]=a[1]=t;break;case"MultiPoint":(i=s.X())[r.index]=t,a[0]=a[1]=t;break;case"LineString":(i=s.X())[r.index+p]=t,a[p]=t;break;case"MultiLineString":case"Polygon":(i=s.X())[n[0]][r.index+p]=t,a[p]=t;break;case"MultiPolygon":(i=s.X())[n[1]][n[0]][r.index+p]=t,a[p]=t;break;case"Circle":a[0]=a[1]=t,0===r.index?(this.o=!0,s.wb(t)):(this.o=!0,s.Wc(mi(s.Ba(),t))),this.o=!1}i&&(r=s,n=i,this.o=!0,r.pa(n),this.o=!1)}Pm(this,t)}function Em(t){for(var e,o,i=this.j.length-1;0<=i;--i)if("Circle"===(o=(e=this.j[i][0]).geometry).T()){var r=o.Ba(),n=e.Ef[0];e=e.Ef[1],n.na[0]=n.na[1]=r,e.na[0]=e.na[1]=r,Ja(this.a,W(r),n),Ja(this.a,o.D(),e)}else Ja(this.a,L(e.na),e);return this.C&&(this.b(new km("modifyend",this.u,t)),this.C=!1),!1}function Tm(t){return!(t instanceof po)||(dr((this.S=t).map.$())[1]||"pointermove"!=t.type||this.A||(this.Ja=t.pixel,jm(this,t.pixel,t.map)),this.g&&this.lb(t)&&(e=!("singleclick"!=t.type||!this.R)||this.Ci()),"singleclick"==t.type&&(this.R=!1),Gr.call(this,t)&&!e);var e}function jm(t,e,o){var i=o.Za(e),r=C(W(i),o.$().Ua()*t.ia);if(0<(r=qa(t.a,r)).length){r.sort(function(t,e){return Rm(i,t)-Rm(i,e)});var n=r[0],s=n.na,a=Im(i,n),p=o.Ka(a),h=mi(e,p);if(h<=t.ia){if(e={},"Circle"===n.geometry.T()&&1===n.index)t.oa=!0,Pm(t,a);else for(h=o.Ka(s[0]),n=o.Ka(s[1]),o=vi(p,h),p=vi(p,n),h=Math.sqrt(Math.min(o,p)),t.oa=h<=t.ia,t.oa&&(a=p<o?s[1]:s[0]),Pm(t,a),p=1,o=r.length;p<o&&(a=r[p].na,fi(s[0],a[0])&&fi(s[1],a[1])||fi(s[0],a[1])&&fi(s[1],a[0]));++p)e[U(a)]=!0;return e[U(s)]=!0,void(t.Ha=e)}}t.g&&(t.G.la().Db(t.g),t.g=null)}function Rm(t,e){if("Circle"===(o=e.geometry).T()&&1===e.index){var o,i=vi(o.Ba(),t);return(o=Math.sqrt(i)-o.Vd())*o}return bi(t,e.na)}function Im(t,e){var o=e.geometry;return"Circle"===o.T()&&1===e.index?o.Ab(t):ui(t,e.na)}function Nm(t,e,o,i,r){Qa(t.a,e.D(),function(t){t.geometry===e&&(void 0===i||void 0===t.depth||G(t.depth,i))&&t.index>o&&(t.index+=r)})}function km(t,e,o){he.call(this,t),this.features=e,this.mapBrowserEvent=o}function Dm(t){var e;if(xr.call(this,{handleEvent:Om}),t=t||{},this.C=t.condition?t.condition:jr,this.A=t.addCondition?t.addCondition:Mi,this.G=t.removeCondition?t.removeCondition:Mi,this.R=t.toggleCondition?t.toggleCondition:Ir,this.o=!!t.multi&&t.multi,this.j=t.filter?t.filter:xi,this.l=t.hitTolerance?t.hitTolerance:0,this.g=new Fv({source:new Wv({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:(e=gh(),c(e.Polygon,e.LineString),c(e.GeometryCollection,e.LineString),function(t){return t.U()?e[t.U().T()]:null}),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var o=t.layers;t=function(t){return v(o,t)}}else t=xi;this.u=t,this.a={},oe(t=this.g.la().i,"add",this.Xm,this),oe(t,"remove",this.an,this)}function Om(t){if(!this.C(t))return!0;var i=this.A(t),r=this.G(t),n=this.R(t),e=!i&&!r&&!n,o=t.map,s=this.g.la().i,a=[],p=[];if(e){for(ut(this.a),o.re(t.pixel,function(t,e){if(this.j(t,e)){p.push(t);var o=U(t);return this.a[o]=e,!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.l}),e=s.ec()-1;0<=e;--e){o=s.item(e);var h=p.indexOf(o);-1<h?p.splice(h,1):(s.remove(o),a.push(o))}p.length&&s.Tf(p)}else{for(o.re(t.pixel,function(t,e){if(this.j(t,e)){if(!i&&!n||v(s.a,t))(r||n)&&v(s.a,t)&&(a.push(t),o=U(t),delete this.a[o]);else{p.push(t);var o=U(t);this.a[o]=e}return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.l}),e=a.length-1;0<=e;--e)s.remove(a[e]);s.Tf(p)}return(0<p.length||0<a.length)&&this.b(new Fm(Gm,p,a,t)),Tr(t)}function Fm(t,e,o,i){he.call(this,t),this.selected=e,this.deselected=o,this.mapBrowserEvent=i}r(xm,Or),(t=xm.prototype).Yf=function(t){var e=t.U();e&&e.T()in this.ea&&this.ea[e.T()].call(this,t,e),(e=this.v)&&e.a&&this.c()&&jm(this,this.Ja,e),oe(t,"change",this.Nh,this)},t.Ia=function(t){this.g&&!t&&(this.G.la().Db(this.g),this.g=null),Or.prototype.Ia.call(this,t)},t.setMap=function(t){this.G.setMap(t),Or.prototype.setMap.call(this,t)},t.Pm=function(t){this.Yf(t.element)},t.Nh=function(t){this.o||(Sm(this,t=t.target),this.Yf(t))},t.Qm=function(t){Sm(this,t.element)},t.Vm=function(t,e){var o=e.X();o={feature:t,geometry:e,na:[o,o]};this.a.Ea(e.D(),o)},t.Tm=function(t,e){var o,i,r,n=e.X();for(i=0,r=n.length;i<r;++i)o={feature:t,geometry:e,depth:[i],index:i,na:[o=n[i],o]},this.a.Ea(e.D(),o)},t.Oh=function(t,e){var o,i,r,n,s=e.X();for(o=0,i=s.length-1;o<i;++o)n={feature:t,geometry:e,index:o,na:r=s.slice(o,o+2)},this.a.Ea(L(r),n)},t.Sm=function(t,e){var o,i,r,n,s,a,p,h=e.X();for(n=0,s=h.length;n<s;++n)for(i=0,r=(o=h[n]).length-1;i<r;++i)p={feature:t,geometry:e,depth:[n],index:i,na:a=o.slice(i,i+2)},this.a.Ea(L(a),p)},t.Wm=function(t,e){var o,i,r,n,s,a,p,h=e.X();for(n=0,s=h.length;n<s;++n)for(i=0,r=(o=h[n]).length-1;i<r;++i)p={feature:t,geometry:e,depth:[n],index:i,na:a=o.slice(i,i+2)},this.a.Ea(L(a),p)},t.Um=function(t,e){var o,i,r,n,s,a,p,h,l,u,c=e.X();for(a=0,p=c.length;a<p;++a)for(n=0,s=(h=c[a]).length;n<s;++n)for(i=0,r=(o=h[n]).length-1;i<r;++i)u={feature:t,geometry:e,depth:[n,a],index:i,na:l=o.slice(i,i+2)},this.a.Ea(L(l),u)},t.Ip=function(t,e){var o=e.Ba(),i={feature:t,geometry:e,index:0,na:[o,o]},r={feature:t,geometry:e,index:1,na:[o,o]};i.Ef=r.Ef=[i,r],this.a.Ea(W(o),i),this.a.Ea(e.D(),r)},t.Rm=function(t,e){var o,i=e.a;for(o=0;o<i.length;++o)this.ea[i[o].T()].call(this,t,i[o])},t.Il=function(t,e){for(var o,i=t.na,r=t.feature,n=t.geometry,s=t.depth,a=t.index;e.length<n.sa();)e.push(0);switch(n.T()){case"MultiLineString":case"Polygon":(o=n.X())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(o=n.X())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(o=n.X()).splice(a+1,0,e);break;default:return}this.o=!0,n.pa(o),this.o=!1,(o=this.a).remove(t),Nm(this,n,a,s,1);var p={na:[i[0],e],feature:r,geometry:n,depth:s,index:a};o.Ea(L(p.na),p),this.j.push([p,1]),i={na:[e,i[1]],feature:r,geometry:n,depth:s,index:a+1},o.Ea(L(i.na),i),this.j.push([i,0]),this.R=!0},t.Ci=function(){if(this.S&&"pointerdrag"!=this.S.type){var t=this.S;Mm(this,t);var e,o,i,r,n,s,a,p,h,l=this.j,u={};for(n=l.length-1;0<=n;--n)h=U((p=(r=l[n])[0]).feature),p.depth&&(h+="-"+p.depth.join("-")),h in u||(u[h]={}),0===r[1]?(u[h].right=p,u[h].index=p.index):1==r[1]&&(u[h].left=p,u[h].index=p.index+1);for(h in u){switch(a=u[h].right,n=u[h].left,(s=(r=u[h].index)-1)<0&&(s=0),o=i=(l=(p=void 0!==n?n:a).geometry).X(),e=!1,l.T()){case"MultiLineString":2<i[p.depth[0]].length&&(i[p.depth[0]].splice(r,1),e=!0);break;case"LineString":2<i.length&&(i.splice(r,1),e=!0);break;case"MultiPolygon":o=o[p.depth[1]];case"Polygon":4<(o=o[p.depth[0]]).length&&(r==o.length-1&&(r=0),o.splice(r,1),e=!0,0===r&&(o.pop(),o.push(o[0]),s=o.length-1))}e&&(e=l,this.o=!0,e.pa(i),this.o=!1,i=[],void 0!==n&&(this.a.remove(n),i.push(n.na[0])),void 0!==a&&(this.a.remove(a),i.push(a.na[1])),void 0!==n&&void 0!==a&&(n={depth:p.depth,feature:p.feature,geometry:p.geometry,index:s,na:i},this.a.Ea(L(n.na),n)),Nm(this,l,r,p.depth,-1),this.g&&(this.G.la().Db(this.g),this.g=null))}return this.b(new km("modifyend",this.u,t)),!(this.C=!1)}return!1},r(km,he),r(Dm,xr),(t=Dm.prototype).Ym=function(){return this.g.la().i},t.Zm=function(){return this.l},t.$m=function(t){return t=U(t),this.a[t]},t.bn=function(t){this.l=t},t.setMap=function(t){var e=this.v,o=this.g.la().i;e&&o.forEach(e.Zi,e),xr.prototype.setMap.call(this,t),this.g.setMap(t),t&&o.forEach(t.Ti,t)},t.Xm=function(t){var e=this.v;e&&e.Ti(t.element)},t.an=function(t){var e=this.v;e&&e.Zi(t.element)},r(Fm,he);var Gm="select";function Um(t){Or.call(this,{handleEvent:Bm,handleDownEvent:xi,handleUpEvent:Vm}),t=t||{},this.o=t.source?t.source:null,this.ia=void 0===t.vertex||t.vertex,this.R=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.oa=[],this.C={},this.S={},this.u={},this.G=null,this.g=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.Ja=function(t,e){return bi(this.G,t.na)-bi(this.G,e.na)}.bind(this),this.a=new Ka,this.ea={Point:this.hn,LineString:this.Rh,LinearRing:this.Rh,Polygon:this.jn,MultiPoint:this.fn,MultiLineString:this.en,MultiPolygon:this.gn,GeometryCollection:this.dn}}function Bm(t){var e,o,i,r=t.pixel,n=t.coordinate,s=L([s=(e=t.map).Za([r[0]-this.g,r[1]+this.g]),o=e.Za([r[0]+this.g,r[1]-this.g])]),a=qa(this.a,s),p=(s=!1,null);return o=null,0<a.length&&(this.G=n,a.sort(this.Ja),a=a[0].na,this.ia&&!this.R?(n=e.Ka(a[0]),i=e.Ka(a[1]),n=vi(r,n),r=vi(r,i),(i=(i=Math.sqrt(Math.min(n,r)))<=this.g)&&(s=!0,p=r<n?a[1]:a[0],o=e.Ka(p))):this.R&&(p=ui(n,a),mi(r,o=e.Ka(p))<=this.g&&(s=!0,this.ia&&(n=e.Ka(a[0]),i=e.Ka(a[1]),n=vi(o,n),r=vi(o,i),i=(i=Math.sqrt(Math.min(n,r)))<=this.g)))&&(p=r<n?a[1]:a[0],o=e.Ka(p)),s&&(o=[Math.round(o[0]),Math.round(o[1])])),e=p,s&&(t.coordinate=e.slice(0,2),t.pixel=o),Gr.call(this,t)}function Vm(){var t=ct(this.u);return t.length&&(t.forEach(this.$i,this),this.u={}),!1}function Xm(t){var e;if(Or.call(this,{handleDownEvent:Wm,handleDragEvent:$m,handleMoveEvent:Zm,handleUpEvent:zm}),t=t||{},this.g=void 0,this.a=null,this.o=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)e=t.layers;else{var o=t.layers;e=function(t){return v(o,t)}}else e=xi;this.C=e,this.u=t.hitTolerance?t.hitTolerance:0,this.j=null}function Wm(t){if(this.j=Ym(this,t.pixel,t.map),!this.a&&this.j){this.a=t.coordinate,Zm.call(this,t);var e=this.o||new be([this.j]);return this.b(new Hm("translatestart",e,t.coordinate)),!0}return!1}function zm(t){if(this.a){this.a=null,Zm.call(this,t);var e=this.o||new be([this.j]);return this.b(new Hm("translateend",e,t.coordinate)),!0}return!1}function $m(t){if(this.a){var o=(t=t.coordinate)[0]-this.a[0],i=t[1]-this.a[1],e=this.o||new be([this.j]);e.forEach(function(t){var e=t.U();e.translate(o,i),t.Sa(e)}),this.a=t,this.b(new Hm("translating",e,t))}}function Zm(t){var e=t.map.Kc();Ym(this,t.pixel,t.map)?(this.g=void 0!==this.g?this.g:e.style.cursor,e.style.cursor=this.a?"-webkit-grabbing":"-webkit-grab",e.style.cursor=this.a?"grabbing":"grab"):void 0!==this.g&&(e.style.cursor=this.g,this.g=void 0)}function Ym(t,e,o){return o.re(e,function(t){if(!this.o||v(this.o.a,t))return t}.bind(t),{layerFilter:t.C,hitTolerance:t.u})}function Hm(t,e,o){he.call(this,t),this.features=e,this.coordinate=o}function Km(t){var e=lt({},t=t||{});delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Fv.call(this,e),this.l=null,this.Y=void 0!==t.shadow?t.shadow:250,this.S=void 0,this.R=null,oe(this,ge(qm),this.hl,this),this.Ki(t.gradient?t.gradient:Jm),this.Ei(void 0!==t.blur?t.blur:15),this.Wc(void 0!==t.radius?t.radius:8),oe(this,ge(_m),this.Qf,this),oe(this,ge(Qm),this.Qf,this),this.Qf();var i,o=t.weight?t.weight:"weight";i="string"==typeof o?function(t){return t.get(o)}:o,this.g(function(t){var e=255*(t=void 0!==(t=i(t))?x(t,0,1):1)|0,o=this.R[e];return o||(o=[new ch({image:new Sc({opacity:t,src:this.S})})],this.R[e]=o),o}.bind(this)),this.set(Gv,null),oe(this,"render",this.yl,this)}r(Um,Or),(t=Um.prototype).zb=function(t,e){var o=void 0===e||e,i=U(t),r=t.U();if(r){var n=this.ea[r.T()];n&&(this.S[i]=r.D([1/0,1/0,-1/0,-1/0]),n.call(this,t,r))}o&&(this.C[i]=oe(t,"change",this.cn,this))},t.ek=function(t){this.zb(t)},t.fk=function(t){this.Db(t)},t.Ph=function(t){var e;t instanceof Hv?e=t.feature:t instanceof Me&&(e=t.element),this.zb(e)},t.Qh=function(t){var e;t instanceof Hv?e=t.feature:t instanceof Me&&(e=t.element),this.Db(e)},t.cn=function(t){if(t=t.target,this.A){var e=U(t);e in this.u||(this.u[e]=t)}else this.$i(t)},t.Db=function(e,t){var o=void 0===t||t,i=U(e),r=this.S[i];if(r){var n=this.a,s=[];for(Qa(n,r,function(t){e===t.feature&&s.push(t)}),r=s.length-1;0<=r;--r)n.remove(s[r])}o&&(ne(this.C[i]),delete this.C[i])},t.setMap=function(t){var e,o=this.v,i=this.oa;this.j?e=this.j:this.o&&(e=this.o.Ne()),o&&(i.forEach(ne),i.length=0,e.forEach(this.fk,this)),Or.prototype.setMap.call(this,t),t&&(this.j?i.push(oe(this.j,"add",this.Ph,this),oe(this.j,"remove",this.Qh,this)):this.o&&i.push(oe(this.o,"addfeature",this.Ph,this),oe(this.o,"removefeature",this.Qh,this)),e.forEach(this.ek,this))},t.Zc=Mi,t.$i=function(t){this.Db(t,!1),this.zb(t,!1)},t.dn=function(t,e){var o,i=e.a;for(o=0;o<i.length;++o)this.ea[i[o].T()].call(this,t,i[o])},t.Rh=function(t,e){var o,i,r,n,s=e.X();for(o=0,i=s.length-1;o<i;++o)n={feature:t,na:r=s.slice(o,o+2)},this.a.Ea(L(r),n)},t.en=function(t,e){var o,i,r,n,s,a,p,h=e.X();for(n=0,s=h.length;n<s;++n)for(i=0,r=(o=h[n]).length-1;i<r;++i)p={feature:t,na:a=o.slice(i,i+2)},this.a.Ea(L(a),p)},t.fn=function(t,e){var o,i,r,n=e.X();for(i=0,r=n.length;i<r;++i)o={feature:t,na:[o=n[i],o]},this.a.Ea(e.D(),o)},t.gn=function(t,e){var o,i,r,n,s,a,p,h,l,u,c=e.X();for(a=0,p=c.length;a<p;++a)for(n=0,s=(h=c[a]).length;n<s;++n)for(i=0,r=(o=h[n]).length-1;i<r;++i)u={feature:t,na:l=o.slice(i,i+2)},this.a.Ea(L(l),u)},t.hn=function(t,e){var o={feature:t,na:[o=e.X(),o]};this.a.Ea(e.D(),o)},t.jn=function(t,e){var o,i,r,n,s,a,p,h=e.X();for(n=0,s=h.length;n<s;++n)for(i=0,r=(o=h[n]).length-1;i<r;++i)p={feature:t,na:a=o.slice(i,i+2)},this.a.Ea(L(a),p)},r(Xm,Or),Xm.prototype.G=function(){return this.u},Xm.prototype.R=function(t){this.u=t},r(Hm,he),r(Km,Fv);var Jm=["#00f","#0ff","#0f0","#ff0","#f00"];(t=Km.prototype).fh=function(){return this.get(_m)},t.mh=function(){return this.get(qm)},t.Th=function(){return this.get(Qm)},t.hl=function(){for(var t=this.mh(),e=Ne(1,256),o=e.createLinearGradient(0,0,1,256),i=1/(t.length-1),r=0,n=t.length;r<n;++r)o.addColorStop(r*i,t[r]);e.fillStyle=o,e.fillRect(0,0,1,256),this.l=e.getImageData(0,0,1,256).data},t.Qf=function(){var t,e=this.Th(),o=this.fh(),i=e+o+1;(t=Ne(t=2*i,t)).shadowOffsetX=t.shadowOffsetY=this.Y,t.shadowBlur=o,t.shadowColor="#000",t.beginPath(),o=i-this.Y,t.arc(o,o,e,0,2*Math.PI,!0),t.fill(),this.S=t.canvas.toDataURL(),this.R=Array(256),this.s()},t.yl=function(t){var e,o,i,r=(t=t.context).canvas,n=(r=t.getImageData(0,0,r.width,r.height)).data;for(e=0,o=n.length;e<o;e+=4)(i=4*n[e+3])&&(n[e]=this.l[i],n[e+1]=this.l[i+1],n[e+2]=this.l[i+2]);t.putImageData(r,0,0)},t.Ei=function(t){this.set(_m,t)},t.Ki=function(t){this.set(qm,t)},t.Wc=function(t){this.set(Qm,t)};var _m="blur",qm="gradient",Qm="radius";function tb(t){wv.call(this,t),this.o=[1,0,0,1,0,0],this.g=null}function eb(t){tb.call(this,t),this.M=null,this.c=[1,0,0,1,0,0]}function ob(t,e,o,i){var r=Dt(o,e,t);return o=St(e,i,o),void 0!==(e=e.sc())&&(o*=e),void 0!==(e=t.sc())&&(o/=e),t=St(t,o,r)/o,isFinite(t)&&0<t&&(o/=t),o}function ib(t,e,o,i){t=o-t,e=i-e;var r=Math.sqrt(t*t+e*e);return[Math.round(o+t/r),Math.round(i+e/r)]}function rb(t,e,d,g,o,v,i,r,n,s,a){var m=Ne(Math.round(d*t),Math.round(d*e));if(!n.length)return m.canvas;m.scale(d,d);var b=[1/0,1/0,-1/0,-1/0];n.forEach(function(t){Z(b,t.extent)});var w=Ne(Math.round(d*nt(b)/g),Math.round(d*et(b)/g)),p=d/g;n.forEach(function(t){w.drawImage(t.image,s,s,t.image.width-2*s,t.image.height-2*s,(t.extent[0]-b[0])*p,-(t.extent[3]-b[3])*p,nt(t.extent)*p,et(t.extent)*p)});var x=it(i);return r.c.forEach(function(t){var e=t.source,o=t.target,i=e[1][0],r=e[1][1],n=e[2][0],s=e[2][1];t=(o[0][0]-x[0])/v;var a=-(o[0][1]-x[1])/v,p=(o[1][0]-x[0])/v,h=-(o[1][1]-x[1])/v,l=(o[2][0]-x[0])/v,u=-(o[2][1]-x[1])/v;t:{for(r=(i=[[i=i-(o=e[0][0]),r=r-(e=e[0][1]),0,0,p-t],[n=n-o,s=s-e,0,0,l-t],[0,0,i,r,h-a],[0,0,n,s,u-a]]).length,n=0;n<r;n++){s=n;for(var c=Math.abs(i[n][n]),y=n+1;y<r;y++){var f=Math.abs(i[y][n]);c<f&&(c=f,s=y)}if(!c){i=null;break t}for(c=i[s],i[s]=i[n],i[n]=c,s=n+1;s<r;s++)for(c=-i[s][n]/i[n][n],y=n;y<r+1;y++)i[s][y]=n==y?0:i[s][y]+c*i[n][y]}for(n=Array(r),s=r-1;0<=s;s--)for(n[s]=i[s][r]/i[s][s],c=s-1;0<=c;c--)i[c][r]-=i[c][s]*n[s];i=n}i&&(m.save(),m.beginPath(),r=ib(n=(t+p+l)/3,s=(a+h+u)/3,t,a),p=ib(n,s,p,h),l=ib(n,s,l,u),m.moveTo(p[0],p[1]),m.lineTo(r[0],r[1]),m.lineTo(l[0],l[1]),m.clip(),m.transform(i[0],i[2],i[1],i[3],t,a),m.translate(b[0]-o,b[3]-e),m.scale(g/d,-g/d),m.drawImage(w.canvas,0,0),m.restore())}),a&&(m.save(),m.strokeStyle="black",m.lineWidth=1,r.c.forEach(function(t){t=((n=t.target)[0][0]-x[0])/v;var e=-(n[0][1]-x[1])/v,o=(n[1][0]-x[0])/v,i=-(n[1][1]-x[1])/v,r=(n[2][0]-x[0])/v,n=-(n[2][1]-x[1])/v;m.beginPath(),m.moveTo(o,i),m.lineTo(t,e),m.lineTo(r,n),m.closePath(),m.stroke()}),m.restore()),m.canvas}function nb(t,e,o,i,r){this.f=t,this.i=e;var n={},s=Rt(this.i,this.f);if(this.a=function(t){var e=t[0]+"/"+t[1];return n[e]||(n[e]=s(t)),n[e]},this.g=i,this.v=r*r,this.c=[],this.j=!1,this.o=this.f.a&&!!i&&!!this.f.D()&&nt(i)==nt(this.f.D()),this.b=this.f.D()?nt(this.f.D()):null,this.l=this.i.D()?nt(this.i.D()):null,function t(e,o,i,r,n,s,a,p,h,l){var u=L([s,a,p,h]),c=e.b?nt(u)/e.b:null,y=e.b,f=e.f.a&&.5<c&&c<1,d=!1;if(0<l){if(e.i.f&&e.l)var g=L([o,i,r,n]),d=d|.25<nt(g)/e.l;!f&&e.f.f&&c&&(d|=.25<c)}if(d||!e.g||st(u,e.g)){if(!(d||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(p[0])&&isFinite(p[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(0<l))return;d=!0}if(0<l&&(d||(u=e.a([(o[0]+r[0])/2,(o[1]+r[1])/2]),y=f?(j(s[0],y)+j(p[0],y))/2-j(u[0],y):(s[0]+p[0])/2-u[0],u=(s[1]+p[1])/2-u[1],d=y*y+u*u>e.v),d))return void(Math.abs(o[0]-r[0])<=Math.abs(o[1]-r[1])?(f=[(i[0]+r[0])/2,(i[1]+r[1])/2],y=e.a(f),u=[(n[0]+o[0])/2,(n[1]+o[1])/2],c=e.a(u),t(e,o,i,f,u,s,a,y,c,l-1),t(e,u,f,r,n,c,y,p,h,l-1)):(f=[(o[0]+i[0])/2,(o[1]+i[1])/2],y=e.a(f),u=[(r[0]+n[0])/2,(r[1]+n[1])/2],c=e.a(u),t(e,o,f,u,n,s,y,c,h,l-1),t(e,f,i,r,u,y,a,p,c,l-1)));if(f){if(!e.o)return;e.j=!0}e.c.push({source:[s,p,h],target:[o,r,n]}),e.c.push({source:[s,a,p],target:[o,i,r]})}}(this,t=it(o),e=rt(o),i=q(o),o=_(o),r=this.a(t),this.a(e),this.a(i),this.a(o),10),this.j){var a=1/0;this.c.forEach(function(t){a=Math.min(a,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-a>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-a>this.b/2&&(e[0][0]-=this.b),e[1][0]-a>this.b/2&&(e[1][0]-=this.b),e[2][0]-a>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}n={}}function sb(t){var e=[1/0,1/0,-1/0,-1/0];return t.c.forEach(function(t){t=t.source,Y(e,t[0]),Y(e,t[1]),Y(e,t[2])}),e}function ab(t,e,o,i,r,n){this.v=e,this.o=t.D();var s=(a=e.D())?ot(o,a):o,a=ob(t,e,Q(s),i);this.l=new nb(t,e,s,this.o,.5*a),this.c=i,this.f=o,t=sb(this.l),this.j=(this.Eb=n(t,a,r))?this.Eb.a:1,this.$d=this.g=null,r=2,n=[],this.Eb&&(r=0,n=this.Eb.i),jg.call(this,o,i,this.j,r,n)}function pb(t){Bv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.u=void 0!==t.resolutions?t.resolutions:null,this.a=null,this.ea=0}function hb(t,e){return t.u&&(e=t.u[m(t.u,e,0)]),e}function lb(t,e){t.Z().src=e}function ub(t,e){he.call(this,t),this.image=e}r(tb,wv),tb.prototype.I=function(t,e,o){Mv(this,"precompose",o,t,void 0);var i=this.Z();if(i){var r=void 0!==(n=e.extent);r&&xv(o,t,n);var n=this.A(),s=o.globalAlpha;o.globalAlpha=e.opacity,o.drawImage(i,0,0,+i.width,+i.height,Math.round(n[4]),Math.round(n[5]),Math.round(i.width*n[0]),Math.round(i.height*n[3])),o.globalAlpha=s,r&&o.restore()}this.Ue(o,t,e)},tb.prototype.Aa=function(t,e,o,i,r){var n=this.a;return n.la().Aa(t,e.viewState.resolution,e.viewState.rotation,o,e.skippedFeatureUids,function(t){return i.call(r,t,n)})},tb.prototype.v=function(t,e,o,i){if(this.Z()){if(this.a.la().Aa!==a)return wv.prototype.v.apply(this,arguments);var r=Jn(this.o,t.slice());if(gi(r,e.viewState.resolution/this.i),this.g||(this.g=Ne(1,1)),this.g.clearRect(0,0,1,1),this.g.drawImage(this.Z(),r[0],r[1],1,1,0,0,1,1),0<(r=this.g.getImageData(0,0,1,1).data)[3])return o.call(i,this.a,r)}},r(eb,tb),eb.prototype.Z=function(){return this.M?this.M.Z():null},eb.prototype.A=function(){return this.c},eb.prototype.qd=function(t,e){var o=t.pixelRatio,i=t.size,r=(h=t.viewState).center,n=h.resolution,s=this.a.la(),a=t.viewHints,p=t.extent;if(void 0!==e.extent&&(p=ot(p,e.extent)),a[0]||a[1]||at(p)||(h=s.Z(p,n,o,h.projection))&&yv(this,h)&&(this.M=h),this.M){p=(h=this.M).D();var h,l=h.resolution,u=o*l/(n*(a=h.a));p=ts(this.c,o*i[0]/2,o*i[1]/2,u,u,0,a*(p[0]-r[0])/l,a*(r[1]-p[3])/l);ts(this.o,o*i[0]/2-p[4],o*i[1]/2-p[5],o/n,-o/n,0,-r[0],-r[1]),gv(t.attributions,h.i),vv(t,s),this.i=n*o/a}return!!this.M},r(ab,jg),ab.prototype.ra=function(){1==this.state&&(ne(this.$d),this.$d=null),jg.prototype.ra.call(this)},ab.prototype.Z=function(){return this.g},ab.prototype.Zd=function(){var t=this.Eb.V();2==t&&(this.g=rb(nt(this.f)/this.c,et(this.f)/this.c,this.j,this.Eb.resolution,0,this.c,this.f,this.l,[{extent:this.Eb.D(),image:this.Eb.Z()}],0)),this.state=t,this.s()},ab.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=this.Eb.V();2==t||3==t?this.Zd():(this.$d=oe(this.Eb,"change",function(){var t=this.Eb.V();2!=t&&3!=t||(ne(this.$d),this.$d=null,this.Zd())},this),this.Eb.load())}},r(pb,Bv),pb.prototype.Z=function(t,e,o,i){var r=this.c;if(r&&i&&!jt(r,i)){if(this.a){if(this.ea==this.f&&jt(this.a.v,i)&&this.a.resolution==e&&this.a.a==o&&$(this.a.D(),t))return this.a;pe(this.a),this.a=null}return this.a=new ab(r,i,t,e,o,function(t,e,o){return this.Ic(t,e,o,r)}.bind(this)),this.ea=this.f,this.a}return r&&(i=r),this.Ic(t,e,o,i)},pb.prototype.j=function(t){switch((t=t.target).V()){case 1:this.b(new ub(cb,t));break;case 2:this.b(new ub(yb,t));break;case 3:this.b(new ub(fb,t))}},r(ub,he);var cb="imageloadstart",yb="imageloadend",fb="imageloaderror";function db(t){pb.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.ia=t.canvasFunction,this.S=null,this.Y=0,this.oa=void 0!==t.ratio?t.ratio:1.5}function gb(t){this.i=t.source,this.Oa=[1,0,0,1,0,0],this.g=Ne(),this.o=[0,0],this.Ha=null==t.renderBuffer?100:t.renderBuffer,this.A=null,db.call(this,{attributions:t.attributions,canvasFunction:this.Zj.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.i.V()}),this.C=null,this.v=void 0,this.ci(t.style),oe(this.i,"change",this.Fn,this)}function vb(t,e){kv.call(this,t,e),this.j=this.i=this.M=null}function mb(t){Vn.call(this,t||{})}function bb(t){tb.call(this,t),this.u=Ne(),this.l=null,this.c=[],this.j=[1/0,1/0,-1/0,-1/0],this.Ja=new O(0,0,0,0),this.C=[1,0,0,1,0,0],this.Y=0}function wb(t,e){var o=e.V(),i=t.a.Td();return 2==o||4==o||3==o&&!i}function xb(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}r(db,pb),db.prototype.Ic=function(t,e,o,i){e=hb(this,e);var r=this.S;return r&&this.Y==this.f&&r.resolution==e&&r.a==o&&B(r.D(),t)||(pt(t=t.slice(),this.oa),(i=this.ia(t,e,o,[nt(t)/e*o,et(t)/e*o],i))&&(r=new Ig(t,e,o,this.l,i)),this.S=r,this.Y=this.f),r},r(gb,db),(t=gb.prototype).Zj=function(t,n,s,e,o){var a=new sv(.5*n/s,t,n,this.i.Ha,this.Ha);this.i.Ud(t,n,o);var i,r,p,h,l=!1;return this.i.ac(t,function(t){var e,o;if(!(e=l))if((e=t.Nc())?o=e.call(t,n):this.v&&(o=this.v(t,n)),o){var i,r=!1;for(Array.isArray(o)||(o=[o]),e=0,i=o.length;e<i;++e)r=Cv(a,t,o[e],Lv(n,s),this.En,this)||r;e=r}else e=!1;l=e},this),hv(a),l?null:(this.o[0]!=e[0]||this.o[1]!=e[1]?(this.g.canvas.width=e[0],this.g.canvas.height=e[1],this.o[0]=e[0],this.o[1]=e[1]):this.g.clearRect(0,0,e[0],e[1]),i=this,r=Q(t),h=e,p=s/(p=n),t=ts(i.Oa,h[0]/2,h[1]/2,p,-p,0,-r[0],-r[1]),a.i(this.g,s,t,0,{}),this.A=a,this.g.canvas)},t.Aa=function(t,e,o,i,r,n){if(this.A){var s={};return this.A.Aa(t,e,0,i,r,function(t){var e=U(t).toString();if(!(e in s))return s[e]=!0,n(t)})}},t.Bn=function(){return this.i},t.Cn=function(){return this.C},t.Dn=function(){return this.v},t.En=function(){this.s()},t.Fn=function(){Xv(this,this.i.V())},t.ci=function(t){this.C=void 0!==t?t:dh,this.v=t?yh(this.C):void 0,this.s()},r(vb,kv),vb.prototype.Aa=function(t,e,o,i,r){var n=this.a;return n.la().Aa(t,e.viewState.resolution,e.viewState.rotation,o,e.skippedFeatureUids,function(t){return i.call(r,t,n)})},vb.prototype.ag=function(t,e){var o,i,r,n,s,a,p,h,l,u,c=this.c.f,y=t.pixelRatio,f=t.viewState,d=f.center,g=f.resolution,v=f.rotation,m=this.M,b=this.Fb,w=this.a.la(),x=t.viewHints,M=t.extent;return void 0!==e.extent&&(M=ot(M,e.extent)),x[0]||x[1]||at(M)||(f=w.Z(M,g,y,f.projection))&&yv(this,f)&&(o=this,i=(m=f).Z(),b=ra(o.c.f,i),this.Fb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,c,this.Fb))),m&&(c=this.c.i.l,r=this,n=c.width,s=c.height,a=y,p=d,h=g,l=v,u=m.D(),n*=h,s*=h,Zn(r=r.u),qn(r,2*a/n,2*a/s),_n(r,-l),Qn(r,u[0]-p[0],u[1]-p[1]),qn(r,(u[2]-u[0])/2,(u[3]-u[1])/2),Qn(r,1,1),this.j=null,Zn(y=this.v),qn(y,1,-1),Qn(y,0,-1),this.M=m,this.Fb=b,gv(t.attributions,m.i),vv(t,w)),!!m},vb.prototype.Ke=function(t,e){return void 0!==this.Aa(t,e,0,xi,this)},vb.prototype.Zf=function(t,e,o,i){if(this.M&&this.M.Z())if(this.a.la()instanceof gb){var r=Jn(e.pixelToCoordinateTransform,t.slice());if(this.Aa(r,e,0,xi,this))return o.call(i,this.a,null)}else{if(r=[this.M.Z().width,this.M.Z().height],!this.j){var n=e.size;Qn(e=[1,0,0,1,0,0],-1,-1),qn(e,2/n[0],2/n[1]),Qn(e,0,n[1]),qn(e,1,-1);n=es(this.u.slice());var s=[1,0,0,1,0,0];Qn(s,0,r[1]),qn(s,1,-1),qn(s,r[0]/2,r[1]/2),Qn(s,1,1),Yn(s,n),Yn(s,e),this.j=s}if(!((t=Jn(this.j,t.slice()))[0]<0||t[0]>r[0]||t[1]<0||t[1]>r[1])&&(this.i||(this.i=Ne(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Z(),t[0],t[1],1,1,0,0,1,1),0<(r=this.i.getImageData(0,0,1,1).data)[3]))return o.call(i,this.a,r)}},r(mb,Vn),mb.prototype.Dd=function(t){var e=null,o=t.T();return"canvas"===o?e=new eb(this):"webgl"===o&&(e=new vb(t,this)),e},r(bb,tb),bb.prototype.qd=function(t,e){var o=t.pixelRatio,i=t.size,r=(s=t.viewState).projection,n=s.resolution,s=s.center,a=this.a,p=a.la(),h=p.f,l=p.Ib(r),u=l.Mc(n,this.Y),c=l.La(u),y=Math.round(n/c)||1,f=t.extent;if(void 0!==e.extent&&(f=ot(f,e.extent)),at(f))return!1;var d,g=Xt(l,f,c);d=l.Qc(u);var v=l.La(u),m=F(l.fb(u),l.l);d=X(d[0]+g.da*m[0]*v,d[1]+g.fa*m[1]*v,d[0]+(g.ba+1)*m[0]*v,d[1]+(g.ja+1)*m[1]*v,void 0),v=p.pb(o),(m={})[u]={};var b,w,x,M=this.Cf(p,r,m),S=this.j,P=this.Ja,L=!1;for(w=g.da;w<=g.ba;++w)for(x=g.fa;x<=g.ja;++x)wb(this,b=p.Lc(u,w,x,o,r))||(b=kg(b)),wb(this,b)?2==b.V()&&(m[u][b.Ga.toString()]=b,L||-1!=this.c.indexOf(b)||(L=!0)):Bt(l,b.Ga,M,P,S)||(b=Vt(l,b.Ga,P,S))&&M(u+1,b);if(M=t.viewHints,!(this.i&&16<Date.now()-t.time&&(M[0]||M[1])||!L&&this.l&&B(this.l,f)&&this.af==h)||y!=this.R){var C,A,E,T,j,R,I,N;for(L=p.Sd(u,o,r),w=Math.round((g.ba-g.da+1)*L[0]/y),b=Math.round((g.ja-g.fa+1)*L[0]/y),x=(L=this.u).canvas,M=p.Mf(r),x.width!=w||x.height!=b?(this.R=y,x.width=w,x.height=b):(L.clearRect(0,0,w,b),y=this.R),this.c.length=0,(P=Object.keys(m).map(Number)).sort(D),E=0,T=P.length;E<T;++E)for(var k in w=P[E],A=p.Sd(w,o,r),C=(b=l.La(w))/c,j=v*p.Jf(r),R=m[w])b=R[k],w=((x=l.Ta(b.Ga,S))[0]-d[0])/c*v/y,x=(d[3]-x[3])/c*v/y,I=A[0]*C/y,N=A[1]*C/y,M||L.clearRect(w,x,I,N),this.Df(b,t,e,w,x,I,N,j),this.c.push(b);this.af=h,this.i=c*o/v*y,this.l=d}return k=this.i/n,k=ts(this.C,o*i[0]/2,o*i[1]/2,k,k,0,(this.l[0]-s[0])/this.i*o,(s[1]-this.l[3])/this.i*o),ts(this.o,o*i[0]/2-k[4],o*i[1]/2-k[5],o/n,-o/n,0,-s[0],-s[1]),mv(t.usedTiles,p,u,g),bv(t,p,l,o,r,f,u,a.Pd()),dv(t,p),vv(t,p),0<this.c.length},bb.prototype.Df=function(t,e,o,i,r,n,s,a){(t=t.Z())&&this.u.drawImage(t,a,a,t.width-2*a,t.height-2*a,i,r,n,s)},bb.prototype.Z=function(){return this.u.canvas},bb.prototype.A=function(){return this.C},r(xb,Cs);var Mb=new xb;function Sb(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}r(Sb,As);var Pb=new Sb;function Lb(t,e){this.f=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Cb(t,e){kv.call(this,t,e),this.R=Mb,this.ia=Pb,this.i=null,this.G=new Vs([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.j=null,this.o=-1,this.S=[0,0]}function Ab(t){var e=lt({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Vn.call(this,e),this.Uh(void 0!==t.preload?t.preload:0),this.Vh(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function Eb(t){bb.call(this,t),this.G=!1,this.S=[1,0,0,1,0,0],this.Y="vector"==t.v?1:0}r(Cb,kv),(t=Cb.prototype).ra=function(){qs(this.c.i,this.G),kv.prototype.ra.call(this)},t.Cf=function(e,i,r){var n=this.c;return function(o,t){return zb(e,i,o,t,function(t){var e=n.a.b.hasOwnProperty(t.ib());return e&&(r[o]||(r[o]={}),r[o][t.Ga.toString()]=t),e})}},t.$f=function(){kv.prototype.$f.call(this),this.i=null},t.ag=function(t,e,o){var i,r,n,s=this.c,a=o.b,p=t.viewState,h=p.projection,l=this.a,u=l.la(),c=u.Ib(h),y=c.Mc(p.resolution),f=c.La(y),d=u.Sd(y,t.pixelRatio,h),g=d[0]/F(c.fb(y),this.S)[0],v=f/g,m=u.pb(g)*u.Jf(h),b=p.center,w=t.extent,x=Xt(c,w,f);if(this.j&&(r=this.j,n=x,r.da==n.da&&r.fa==n.fa&&r.ba==n.ba&&r.ja==n.ja)&&this.o==u.f)v=this.A;else{var M=[x.ba-x.da+1,x.ja-x.fa+1],S=(M=v*(T=(k(0<(i=Math.max(M[0]*d[0],M[1]*d[1])),29),Math.pow(2,Math.ceil(Math.log(i)/Math.LN2)))),c.Qc(y));v=[j=S[0]+x.da*d[0]*v,v=S[1]+x.fa*d[1]*v,j+M,v+M];!function(t,e,o){var i=t.c.f;if(void 0===t.l||t.l!=o){e.postRenderFunctions.push(function(t,e,o){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(o))}.bind(null,i,t.g,t.Fb)),e=ia(i,o,o);var r=i.createFramebuffer();i.bindFramebuffer(36160,r),i.framebufferTexture2D(36160,36064,3553,e,0),t.Fb=e,t.g=r,t.l=o}else i.bindFramebuffer(36160,t.g)}(this,t,T),a.viewport(0,0,T,T),a.clearColor(0,0,0,0),a.clear(16384),a.disable(3042),T=ea(o,this.R,this.ia),o.Rc(T),this.i||(this.i=new Lb(a,T)),_s(o,34962,this.G),a.enableVertexAttribArray(this.i.b),a.vertexAttribPointer(this.i.b,2,5126,!1,16,0),a.enableVertexAttribArray(this.i.a),a.vertexAttribPointer(this.i.a,2,5126,!1,16,8),a.uniform1i(this.i.f,0),(o={})[y]={};var P,L,C,A=this.Cf(u,h,o),E=l.Td(),T=!0,j=[1/0,1/0,-1/0,-1/0],R=new O(0,0,0,0);for(L=x.da;L<=x.ba;++L)for(C=x.fa;C<=x.ja;++C)if(S=u.Lc(y,L,C,g,h),void 0===e.extent||st(P=c.Ta(S.Ga,j),e.extent)){if((P=2==(P=S.V())||4==P||3==P&&!E)||(S=kg(S)),2==(P=S.V())){if(s.a.b.hasOwnProperty(S.ib())){o[y][S.Ga.toString()]=S;continue}}else if(4==P||3==P&&!E)continue;T=!1,(P=Bt(c,S.Ga,A,R,j))||(S=Vt(c,S.Ga,R,j))&&A(y+1,S)}(e=Object.keys(o).map(Number)).sort(D);var I;for(A=new Float32Array(4),E=0,R=e.length;E<R;++E)for(I in L=o[e[E]])S=L[I],P=c.Ta(S.Ga,j),A[0]=2*(P[2]-P[0])/M,A[1]=2*(P[3]-P[1])/M,A[2]=2*(P[0]-v[0])/M-1,A[3]=2*(P[1]-v[1])/M-1,a.uniform4fv(this.i.c,A),Lp(s,S,d,m*g),a.drawArrays(5,0,4);T?(this.j=x,this.A=v,this.o=u.f):(this.A=this.j=null,this.o=-1,t.animate=!0)}mv(t.usedTiles,u,y,x);var N=s.l;return bv(t,u,c,g,h,w,y,l.Pd(),function(t){2!=t.V()||s.a.b.hasOwnProperty(t.ib())||t.ib()in N.a||N.i([t,zt(c,t.Ga),c.La(t.Ga[0]),d,m*g])},this),dv(t,u),vv(t,u),Zn(a=this.v),Qn(a,(Math.round(b[0]/f)*f-v[0])/(v[2]-v[0]),(Math.round(b[1]/f)*f-v[1])/(v[3]-v[1])),p.rotation&&_n(a,p.rotation),qn(a,t.size[0]*p.resolution/(v[2]-v[0]),t.size[1]*p.resolution/(v[3]-v[1])),Qn(a,-.5,-.5),!0},t.Zf=function(t,e,o,i){if(this.g){t=[(t=Jn(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()))[0]*this.l,t[1]*this.l],(e=this.c.i.b).bindFramebuffer(e.FRAMEBUFFER,this.g);var r=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,r),0<r[3])return o.call(i,this.a,r)}},r(Ab,Vn),(t=Ab.prototype).Dd=function(t){var e=null,o=t.T();return"canvas"===o?e=new bb(this):"webgl"===o&&(e=new Cb(t,this)),e},t.Pd=function(){return this.get("preload")},t.Uh=function(t){this.set("preload",t)},t.Td=function(){return this.get("useInterimTilesOnError")},t.Vh=function(t){this.set("useInterimTilesOnError",t)},r(Eb,bb);var Tb={image:Ss,hybrid:["Polygon","LineString"]},jb={hybrid:["Image","Text"],vector:Ss};function Rb(t){var e=lt({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Fv.call(this,e),this.Wh(t.preload?t.preload:0),this.Xh(!t.useInterimTilesOnError||t.useInterimTilesOnError),k(null==t.renderMode||"image"==t.renderMode||"hybrid"==t.renderMode||"vector"==t.renderMode,28),this.v=t.renderMode||"hybrid"}(t=Eb.prototype).qd=function(t,e){var o=this.a.f;return this.oa!=o&&(this.c.length=0),this.oa=o,bb.prototype.qd.apply(this,arguments)},t.Df=function(t,e,o,i,r,n,s,a){if(function(t,e,o){function i(t){var e;if((o=t.Nc())?e=o.call(t,g):(o=a.i)&&(e=o(t,g)),e){Array.isArray(e)||(e=[e]);var o=m,i=v;if(e){var r=!1;if(Array.isArray(e))for(var n=0,s=e.length;n<s;++n)r=Cv(i,t,e[n],o,this.$h,this)||r;else r=Cv(i,t,e,o,this.$h,this)||r;t=r}else t=!1;this.G=this.G||t,p.Ld=p.Ld||t}}var a=t.a,r=o.pixelRatio;o=o.viewState.projection;var n=a.f,s=a.get(Gv)||null,p=e.f;if(p.Ld||p.af!=n||p.wg!=s){p.vd=null,p.Ld=!1;var h,l,u,c=a.la(),y=c.tileGrid,f=e.Ga,d=e.l,g=y.La(f[0]);"tile-pixels"==d.Jb()?(h=u=c.pb(),h=[0,0,(y=F(y.fb(f[0])))[0]*h,y[1]*h]):(u=g,h=y.Ta(f),jt(o,d)||(l=!0,e.Xf(o))),p.Ld=!1;var v=new sv(0,h,u,c.g,a.c),m=Lv(u,r);for(e=e.g,s&&s!==p.wg&&e.sort(s),c=0,u=e.length;c<u;++c)r=e[c],l&&r.U().tb(d,o),i.call(t,r);hv(v),p.af=n,p.wg=s,p.vd=v,p.resolution=NaN}}(this,u=t,e),"vector"!=this.a.v){var p=u,h=e,l=this.a,u=p.f,c=l.f,y=Tb[l.v];if(y&&u.xg!==c){u.xg=c;var f=p.Ga,d=p.Ga[0],g=(c=h.pixelRatio,l.la()),v=g.tileGrid,m=g.pb();l=Zn(this.S);"tile-pixels"==p.l.Jb()?qn(l,f=c/m,f):(m=c/v.La(d),f=v.Ta(f,this.j),qn(l,m,-m),Qn(l,-f[0],-f[3])),p=p.c,h=g.Sd(d,c,h.viewState.projection),p.canvas.width=h[0],p.canvas.height=h[1],u.vd.i(p,c,l,0,{},y)}}bb.prototype.Df.apply(this,arguments)},t.Aa=function(t,e,o,i,r){var n=e.viewState.resolution;e=e.viewState.rotation,o=null==o?0:o;var s,a,p,h,l,u,c=this.a,y={},f=this.c,d=c.la(),g=d.tileGrid;for(p=0,h=f.length;p<h;++p)a=(u=f[p]).Ga,R(C(l=d.tileGrid.Ta(a,this.j),o*n),t)&&("tile-pixels"===u.l.Jb()?(l=it(l),n=d.pb(),a=g.La(a[0])/n,a=[(t[0]-l[0])/a,(l[1]-t[1])/a]):a=t,u=u.f.vd,s=s||u.Aa(a,n,e,o,{},function(t){var e=U(t).toString();if(!(e in y))return y[e]=!0,i.call(r,t,c)}));return s},t.$h=function(){fv(this)},t.Ue=function(t,e,o){var i=jb[this.a.v];if(i)for(var r=e.pixelRatio,n=e.viewState.rotation,s=e.size,a=Math.round(r*s[0]/2),p=(s=Math.round(r*s[1]/2),this.c),h=[],l=[],u=p.length-1;0<=u;--u){var c,y=p[u];if(c=e,"tile-pixels"==(v=y).l.Jb()){var f=(g=this.a.la()).tileGrid,d=v.Ga,g=f.La(d[0])/g.pb(),v=c.viewState,m=c.pixelRatio,b=v.resolution/m;d=f.Ta(d,this.j),f=v.center,d=it(d);c=c.size,c=ts(this.S,Math.round(m*c[0]/2),Math.round(m*c[1]/2),g/b,g/b,v.rotation,(d[0]-f[0])/g,(f[1]-d[1])/g)}else c=Sv(this,c,0);for(g=lv(y.f.vd,c),v=y.Ga[0],t.save(),t.globalAlpha=o.opacity,cs(t,-n,a,s),m=0,b=h.length;m<b;++m)f=h[m],v<l[m]&&(t.beginPath(),t.moveTo(g[0],g[1]),t.lineTo(g[2],g[3]),t.lineTo(g[4],g[5]),t.lineTo(g[6],g[7]),t.moveTo(f[6],f[7]),t.lineTo(f[4],f[5]),t.lineTo(f[2],f[3]),t.lineTo(f[0],f[1]),t.clip());y.f.vd.i(t,r,c,n,{},i),t.restore(),h.push(g),l.push(v)}bb.prototype.Ue.apply(this,arguments)},r(Rb,Fv),(t=Rb.prototype).Dd=function(t){var e=null;return"canvas"===t.T()&&(e=new Eb(this)),e},t.Pd=function(){return this.get(Ib)},t.Td=function(){return this.get(Nb)},t.Wh=function(t){this.set("preload",t)},t.Xh=function(t){this.set("useInterimTilesOnError",t)};var Ib="preload",Nb="useInterimTilesOnError";function kb(t,e,o,i){function r(){delete window[s],n.parentNode.removeChild(n)}var n=document.createElement("script"),s="olc_"+U(e);n.async=!0,n.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+s;var a=setTimeout(function(){r(),o&&o()},1e4);window[s]=function(t){clearTimeout(a),r(),e(t)},document.getElementsByTagName("head")[0].appendChild(n)}function Db(t,e,o,i,r,n,s,a,p,h,l){if(Ng.call(this,r,0),this.C=void 0!==l&&l,this.A=s,this.u=a,this.I=null,this.c=e,this.j=i,this.o=n||r,this.f=[],this.wd=null,this.g=0,n=i.Ta(this.o),a=this.j.D(),r=this.c.D(),J(n=a?ot(n,a):n))if((a=t.D())&&(r=r?ot(r,a):a),i=ob(t,o,Q(n),i.La(this.o[0])),!isFinite(i)||i<=0)this.state=4;else if(this.v=new nb(t,o,n,r,i*(void 0!==h?h:.5)),this.v.c.length)if(this.g=e.Mc(i),o=sb(this.v),r&&(t.a?(o[1]=x(o[1],r[1],r[3]),o[3]=x(o[3],r[1],r[3])):o=ot(o,r)),J(o)){for(e=(t=Wt(e,o,this.g)).da;e<=t.ba;e++)for(o=t.fa;o<=t.ja;o++)(h=p(this.g,e,o,s))&&this.f.push(h);this.f.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}function Ob(t,o){var i=/\{z\}/g,r=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(e){if(e)return t.replace(i,e[0].toString()).replace(r,e[1].toString()).replace(n,function(){return(-e[2]-1).toString()}).replace(s,function(){var t=o.a?o.a[e[0]]:null;return k(t,55),(t.ja-t.fa+1+e[2]).toString()})}}function Fb(t,e){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=Ob(t[r],e);return Gb(i)}function Gb(i){return 1===i.length?i[0]:function(t,e,o){if(t)return i[j((t[1]<<t[0])+t[2],i.length)](t,e,o)}}function Ub(){}function Bb(t){var e=[],o=/\{([a-z])-([a-z])\}/.exec(t);if(o){var i,r=o[2].charCodeAt(0);for(i=o[1].charCodeAt(0);i<=r;++i)e.push(t.replace(o[0],String.fromCharCode(i)));return e}if(o=o=/\{(\d+)-(\d+)\}/.exec(t)){for(r=parseInt(o[2],10),i=parseInt(o[1],10);i<=r;i++)e.push(t.replace(o[0],i.toString()));return e}return e.push(t),e}function Vb(t){Sp.call(this),this.i=void 0!==t?t:2048}function Xb(t){return t.c>t.i}function Wb(t){Bv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.oa=void 0!==t.opaque&&t.opaque,this.Oa=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Vb(t.cacheSize),this.j=[0,0],this.tc=""}function zb(t,e,o,i,r){if(!(e=t.Rd(e)))return!1;for(var n,s,a=!0,p=i.da;p<=i.ba;++p)for(var h=i.fa;h<=i.ja;++h)n=t.Sb(o,p,h),s=!1,e.b.hasOwnProperty(n)&&((s=2===(n=e.get(n)).V())&&(s=!1!==r(n))),s||(a=!1);return a}function $b(t,e){t.tc!==e&&(t.tc=e,t.s())}function Zb(t,e,o){var i=void 0!==o?o:t.c;if(o=t.Ib(i),t.G&&i.f){var r=e;e=r[0],t=zt(o,r),R(i=Kt(i),t)?e=r:(r=nt(i),t[0]+=r*Math.ceil((i[0]-t[0])/r),e=o.Pf(t,e))}if(r=e[0],i=e[1],t=e[2],o.minZoom>r||r>o.maxZoom)o=!1;else{var n=o.D();o=!(o=n?Wt(o,n,r):o.a?o.a[r]:null)||u(o,i,t)}return o?e:null}function Yb(t,e){he.call(this,t),this.tile=e}function Hb(t){Wb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Fc?this.Fc.bind(this):Ub,this.urls=null,t.urls?this.cb(t.urls):t.url&&this.jb(t.url),t.tileUrlFunction&&this.bb(t.tileUrlFunction)}function Kb(t){Hb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:qb,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=t.tileClass?t.tileClass:Dg,this.g={},this.v={},this.Ha=t.reprojectionErrorThreshold,this.C=!1}function Jb(t,e,o,i,r,n,s){return r=(o=Zb(t,e=[e,o,i],n))?t.tileUrlFunction(o,r,n):void 0,(r=new t.tileClass(e,void 0!==r?0:4,void 0!==r?r:"",t.crossOrigin,t.tileLoadFunction)).key=s,oe(r,"change",t.gi,t),r}function _b(t,e,o,i,r,n){var s,a=t.Sb(e,o,i),p=t.tc;if(t.a.b.hasOwnProperty(a)){if((s=t.a.get(a)).key!=p){var h=s;if(s=Jb(t,e,o,i,r,n,p),0==h.V()?s.a=h.a:s.a=h,s.a){e=s.a,o=s;do{if(2==e.V()){e.a=null;break}1==e.V()?o=e:0==e.V()?o.a=e.a:o=e,e=o.a}while(e)}t.a.replace(a,s)}}else s=Jb(t,e,o,i,r,n,p),t.a.set(a,s);return s}function qb(t,e){t.Z().src=e}function Qb(t){this.A=void 0!==t.hidpi&&t.hidpi,Kb.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Tt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.A?2:1,wrapX:void 0===t.wrapX||t.wrapX}),this.S=void 0!==t.culture?t.culture:"en-us",this.u=void 0!==t.maxZoom?t.maxZoom:-1,this.i=t.key,this.o=t.imagerySet,kb("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.o+"?uriScheme=https&include=ImageryProviders&key="+this.i,this.ia.bind(this),void 0,"jsonp")}r(Db,Ng),Db.prototype.ra=function(){1==this.state&&(this.wd.forEach(ne),this.wd=null),Ng.prototype.ra.call(this)},Db.prototype.Z=function(){return this.I},Db.prototype.Zd=function(){var e=[];if(this.f.forEach(function(t){t&&2==t.V()&&e.push({extent:this.c.Ta(t.Ga),image:t.Z()})},this),this.f.length=0,e.length){var t=this.o[0],o="number"==typeof(i=this.j.fb(t))?i:i[0],i="number"==typeof i?i:i[1],r=(t=this.j.La(t),this.c.La(this.g)),n=this.j.Ta(this.o);this.I=rb(o,i,this.A,r,this.c.D(),t,n,this.v,e,this.u,this.C),this.state=2}else this.state=3;this.s()},Db.prototype.load=function(){if(0==this.state){this.state=1,this.s();var i=0;this.wd=[],this.f.forEach(function(e){var o,t=e.V();0!=t&&1!=t||(i++,o=oe(e,"change",function(){var t=e.V();2!=t&&3!=t&&4!=t||(ne(o),--i||(this.wd.forEach(ne),this.wd=null,this.Zd()))},this),this.wd.push(o))},this),this.f.forEach(function(t){0==t.V()&&t.load()}),i||setTimeout(this.Zd.bind(this),0)}},r(Vb,Sp),Vb.prototype.gd=function(t){for(var e,o;Xb(this);){var i;if((i=(o=(e=this.a.$c).Ga[0].toString())in t)&&(e=e.Ga,i=u(t[o],e[1],e[2])),i)break;pe(this.pop())}},r(Wb,Bv),(t=Wb.prototype).fi=function(){return Xb(this.a)},t.gd=function(t,e){var o=this.Rd(t);o&&o.gd(e)},t.Jf=function(){return 0},t.Sb=function(t,e,o){return t+"/"+e+"/"+o},t.Mf=function(){return this.oa},t.ab=function(){return this.tileGrid},t.Ib=function(t){return this.tileGrid?this.tileGrid:Zt(t)},t.Rd=function(t){var e=this.c;return e&&!jt(e,t)?null:this.a},t.pb=function(){return this.Oa},t.Sd=function(t,e,o){return o=this.Ib(o),e=this.pb(e),t=F(o.fb(t),this.j),1==e?t:P(t,e,this.j)},t.va=function(){this.a.clear(),this.s()},t.Eg=a,r(Yb,he),r(Hb,Wb),(t=Hb.prototype).ob=function(){return this.tileLoadFunction},t.qb=function(){return this.tileUrlFunction},t.rb=function(){return this.urls},t.gi=function(t){switch((t=t.target).V()){case 1:this.b(new Yb("tileloadstart",t));break;case 2:this.b(new Yb("tileloadend",t));break;case 3:this.b(new Yb("tileloaderror",t))}},t.xb=function(t){this.a.clear(),this.tileLoadFunction=t,this.s()},t.bb=function(t,e){this.tileUrlFunction=t,void 0!==e?$b(this,e):this.s()},t.jb=function(t){var e=this.urls=Bb(t);this.bb(this.Fc?this.Fc.bind(this):Fb(e,this.tileGrid),t)},t.cb=function(t){var e=(this.urls=t).join("\n");this.bb(this.Fc?this.Fc.bind(this):Fb(t,this.tileGrid),e)},t.Eg=function(t,e,o){t=this.Sb(t,e,o),this.a.b.hasOwnProperty(t)&&this.a.get(t)},r(Kb,Hb),(t=Kb.prototype).fi=function(){if(Xb(this.a))return!0;for(var t in this.g)if(Xb(this.g[t]))return!0;return!1},t.gd=function(t,e){var o=this.Rd(t);for(var i in this.a.gd(this.a==o?e:{}),this.g){var r=this.g[i];r.gd(r==o?e:{})}},t.Jf=function(t){return this.c&&t&&!jt(this.c,t)?0:this.Kf()},t.Kf=function(){return 0},t.Mf=function(t){return!(this.c&&t&&!jt(this.c,t))&&Hb.prototype.Mf.call(this,t)},t.Ib=function(t){var e=this.c;return!this.tileGrid||e&&!jt(e,t)?((e=U(t).toString())in this.v||(this.v[e]=Zt(t)),this.v[e]):this.tileGrid},t.Rd=function(t){var e=this.c;return!e||jt(e,t)?this.a:((t=U(t).toString())in this.g||(this.g[t]=new Vb),this.g[t])},t.Lc=function(t,e,o,i,r){if(this.c&&r&&!jt(this.c,r)){var n,s=this.Rd(r);if(o=[t,e,o],t=this.Sb.apply(this,o),s.b.hasOwnProperty(t)&&(n=s.get(t)),e=this.tc,n&&n.key==e)return n;var a=this.c,p=this.Ib(a),h=this.Ib(r),l=Zb(this,o,r);return(i=new Db(a,p,r,h,o,l,this.pb(i),this.Kf(),function(t,e,o,i){return _b(this,t,e,o,i,a)}.bind(this),this.Ha,this.C)).key=e,n?(i.a=n,s.replace(t,i)):s.set(t,i),i}return _b(this,t,e,o,i,r)},t.Nb=function(t){if(this.C!=t){for(var e in this.C=t,this.g)this.g[e].clear();this.s()}},t.Ob=function(t,e){var o=Tt(t);o&&((o=U(o).toString())in this.v||(this.v[o]=e))},r(Qb,Kb);var tw=new Jt({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});function ew(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",o=void 0!==t.tileGrid?t.tileGrid:Yt({extent:Kt(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Kb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function ow(t){this.u=t.account,this.A=t.map||"",this.i=t.config||{},this.o={},ew.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),iw(this)}function iw(t){var e=JSON.stringify(t.i);if(t.o[e])rw(t,t.o[e]);else{var o="https://"+t.u+".cartodb.com/api/v1/map";t.A&&(o+="/named/"+t.A);var i=new XMLHttpRequest;i.addEventListener("load",t.jl.bind(t,e)),i.addEventListener("error",t.il.bind(t)),i.open("POST",o),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(t.i))}}function rw(t,e){t.jb("https://"+e.cdn_url.https+"/"+t.u+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function nw(t){Wv.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.C=void 0,this.ia=void 0!==t.distance?t.distance:20,this.A=[],this.Ra=t.geometryFunction||function(t){return k((t=t.U())instanceof Zi,10),t},this.u=t.source,this.u.J("change",nw.prototype.Oa,this)}function sw(t){if(void 0!==t.C)for(var e=[1/(t.A.length=0),1/0,-1/0,-1/0],o=t.ia*t.C,i=t.u.Ne(),r={},n=0,s=i.length;n<s;n++){var a=i[n];U(a).toString()in r||!(a=t.Ra(a))||(W(a=a.X(),e),C(e,o,e),a=(a=t.u.Hf(e)).filter(function(t){return!((t=U(t).toString())in r)&&(r[t]=!0)}),t.A.push(aw(t,a)))}}function aw(t,e){for(var o=[0,0],i=e.length-1;0<=i;--i){var r=t.Ra(e[i]);r?li(o,r.X()):e.splice(i,1)}return gi(o,1/e.length),(o=new mh(new Zi(o))).set("features",e),o}function pw(t,e){var o=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&o.push(t+"="+encodeURIComponent(e[t]))});var i=o.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}function hw(t){pb.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.S=void 0!==t.crossOrigin?t.crossOrigin:null,this.Y=void 0===t.hidpi||t.hidpi,this.i=t.url,this.g=t.imageLoadFunction?t.imageLoadFunction:lb,this.v=t.params||{},this.M=null,this.o=[0,0],this.C=0,this.A=void 0!==t.ratio?t.ratio:1.5}function lw(t){pb.call(this,{projection:t.projection,resolutions:t.resolutions}),this.S=void 0!==t.crossOrigin?t.crossOrigin:null,this.o=void 0!==t.displayDpi?t.displayDpi:96,this.g=t.params||{},this.C=t.url,this.i=t.imageLoadFunction?t.imageLoadFunction:lb,this.Y=void 0===t.hidpi||t.hidpi,this.ia=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.v=void 0!==t.ratio?t.ratio:1,this.oa=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.A=0}function uw(t){var e=t.imageExtent,o=void 0!==t.crossOrigin?t.crossOrigin:null,i=t.imageLoadFunction?t.imageLoadFunction:lb;pb.call(this,{attributions:t.attributions,logo:t.logo,projection:Tt(t.projection)}),this.M=new Rg(e,void 0,1,this.l,t.url,o,i),this.i=t.imageSize?t.imageSize:null,oe(this.M,"change",this.j,this)}function cw(t){pb.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.ia=void 0!==t.crossOrigin?t.crossOrigin:null,this.g=t.url,this.v=t.imageLoadFunction?t.imageLoadFunction:lb,this.i=t.params||{},this.o=!0,dw(this),this.Y=t.serverType,this.oa=void 0===t.hidpi||t.hidpi,this.M=null,this.A=[0,0],this.S=0,this.C=void 0!==t.ratio?t.ratio:1.5}Qb.prototype.Y=function(){return this.i},Qb.prototype.ea=function(){return this.o},Qb.prototype.ia=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Xv(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var i=t.resourceSets[0].resources[0],s=-1==this.u?i.zoomMax:this.u,a=Yt({extent:t=Kt(this.c),minZoom:i.zoomMin,maxZoom:s,tileSize:(i.imageWidth==i.imageHeight?i.imageWidth:[i.imageWidth,i.imageHeight])/this.pb()});this.tileGrid=a;var r=this.S,n=this.A;if(this.tileUrlFunction=Gb(i.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=i.imageUrl.replace("{subdomain}",t).replace("{culture}",r);return function(t){if(t)return Ft(t[0],t[1],-t[2]-1,e),t=o,n&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",function(t){var e,o,i=t[0],r=Array(i),n=1<<i-1;for(e=0;e<i;++e)o=48,t[1]&n&&(o+=1),t[2]&n&&(o+=2),r[e]=String.fromCharCode(o),n>>=1;return r.join("")}(e))}})),i.imageryProviders){var p=It(Tt("EPSG:4326"),this.c);(t=i.imageryProviders.map(function(t){var e=t.attribution,n={};return t.coverageAreas.forEach(function(t){var e,o,i=t.zoomMin,r=Math.min(t.zoomMax,s);for(t=ht([(t=t.bbox)[1],t[0],t[3],t[2]],p),e=i;e<=r;++e)o=e.toString(),i=Wt(a,t,e),o in n?n[o].push(i):n[o]=[i]}),new Jt({html:e,tileRanges:n})})).push(tw),this.ua(t)}this.R=e,Xv(this,"ready")}},r(ew,Kb),r(ow,ew),(t=ow.prototype).pk=function(){return this.i},t.Fp=function(t){lt(this.i,t),iw(this)},t.np=function(t){this.i=t||{},iw(this)},t.jl=function(t,e){var o=e.target;if(!o.status||200<=o.status&&o.status<300){var i;try{i=JSON.parse(o.responseText)}catch(t){return void Xv(this,"error")}rw(this,i),this.o[t]=i,Xv(this,"ready")}else Xv(this,"error")},t.il=function(){Xv(this,"error")},r(nw,Wv),nw.prototype.lb=function(){return this.u},nw.prototype.Ud=function(t,e,o){this.u.Ud(t,e,o),e!==this.C&&(this.clear(),this.C=e,sw(this),this.dd(this.A))},nw.prototype.mb=function(t){this.ia=t,this.Oa()},nw.prototype.Oa=function(){this.clear(),sw(this),this.dd(this.A),this.s()},r(hw,pb),(t=hw.prototype).rn=function(){return this.v},t.Ic=function(t,e,o,i){if(void 0===this.i)return null;e=hb(this,e),o=this.Y?o:1;var r=this.M;if(r&&this.C==this.f&&r.resolution==e&&r.a==o&&B(r.D(),t))return r;lt(r={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.v);var n=((t=t.slice())[0]+t[2])/2,s=(t[1]+t[3])/2;if(1!=this.A){var a=this.A*nt(t)/2,p=this.A*et(t)/2;t[0]=n-a,t[1]=s-p,t[2]=n+a,t[3]=s+p}a=e/o,p=Math.ceil(nt(t)/a);var h=Math.ceil(et(t)/a);return t[0]=n-a*p/2,t[2]=n+a*p/2,t[1]=s-a*h/2,t[3]=s+a*h/2,this.o[0]=p,this.o[1]=h,n=t,s=this.o,a=o,i=i.nb.split(":").pop(),r.SIZE=s[0]+","+s[1],r.BBOX=n.join(","),r.BBOXSR=i,r.IMAGESR=i,r.DPI=Math.round(90*a),(n=(i=this.i).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==i&&k(!1,50),r=pw(n,r),this.M=new Rg(t,e,o,this.l,r,this.S,this.g),this.C=this.f,oe(this.M,"change",this.j,this),this.M},t.qn=function(){return this.g},t.sn=function(){return this.i},t.tn=function(t){this.M=null,this.g=t,this.s()},t.vn=function(t){t!=this.i&&(this.i=t,this.M=null,this.s())},t.wn=function(t){lt(this.v,t),this.M=null,this.s()},r(lw,pb),(t=lw.prototype).yn=function(){return this.g},t.Ic=function(t,e,o){if(e=hb(this,e),o=this.Y?o:1,(r=this.M)&&this.A==this.f&&r.resolution==e&&r.a==o&&B(r.D(),t))return r;1!=this.v&&pt(t=t.slice(),this.v);var i=[nt(t)/e*o,et(t)/e*o];if(void 0!==this.C){var r=this.C,n=Q(t),s=this.ia,a=nt(t),p=et(t),h=i[0],l=i[1],u=.0254/this.o;i={OPERATION:this.oa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.o,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:h*p<l*a?a*s/(h*u):p*s/(l*u),SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]};lt(i,this.g),r=pw(r,i),oe(r=new Rg(t,e,o,this.l,r,this.S,this.i),"change",this.j,this)}else r=null;return this.M=r,this.A=this.f,r},t.xn=function(){return this.i},t.An=function(t){lt(this.g,t),this.s()},t.zn=function(t){this.M=null,this.i=t,this.s()},r(uw,pb),uw.prototype.Ic=function(t){return st(t,this.M.D())?this.M:null},uw.prototype.j=function(t){if(2==this.M.V()){var e,o,i=this.M.D(),r=this.M.Z();if(this.i?(e=this.i[0],o=this.i[1]):(e=r.width,o=r.height),(i=Math.ceil(nt(i)/(et(i)/o)))!=e){var n=(i=Ne(i,o)).canvas;i.drawImage(r,0,0,e,o,0,0,n.width,n.height),this.M.zg(n)}}pb.prototype.j.call(this,t)},r(cw,pb);var yw=[101,101];function fw(t,e,o,i,r,n){if(k(void 0!==t.g,9),n[t.o?"CRS":"SRS"]=r.nb,"STYLES"in t.i||(n.STYLES=""),1!=i)switch(t.Y){case"geoserver":i=90*i+.5|0,n.FORMAT_OPTIONS="FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":n.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":n.DPI=90*i;break;default:k(!1,8)}var s;return n.WIDTH=o[0],n.HEIGHT=o[1],o=r.b,s=t.o&&"ne"==o.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,n.BBOX=s.join(","),pw(t.g,n)}function dw(t){t.o=0<=hi(t.i.VERSION||"1.3.0")}function gw(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:[bw],ew.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}(t=cw.prototype).Gn=function(t,e,o,i){if(void 0!==this.g){var r=tt(t,e,0,yw),n={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return lt(n,this.i,i),i=Math.floor((r[3]-t[1])/e),n[this.o?"I":"X"]=Math.floor((t[0]-r[0])/e),n[this.o?"J":"Y"]=i,fw(this,r,yw,1,Tt(o),n)}},t.In=function(){return this.i},t.Ic=function(t,e,o,i){if(void 0===this.g)return null;e=hb(this,e),1==o||this.oa&&void 0!==this.Y||(o=1);var r=e/o,n=Q(t),s=tt(n,e,0,[Math.ceil(nt(t)/r),Math.ceil(et(t)/r)]);return t=tt(n,e,0,[Math.ceil(this.C*nt(t)/r),Math.ceil(this.C*et(t)/r)]),(n=this.M)&&this.S==this.f&&n.resolution==e&&n.a==o&&B(n.D(),s)?n:(lt(s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),this.A[0]=Math.round(nt(t)/r),this.A[1]=Math.round(et(t)/r),i=fw(this,t,this.A,o,i,s),this.M=new Rg(t,e,o,this.l,i,this.ia,this.v),this.S=this.f,oe(this.M,"change",this.j,this),this.M)},t.Hn=function(){return this.v},t.Jn=function(){return this.g},t.Kn=function(t){this.M=null,this.v=t,this.s()},t.Ln=function(t){t!=this.g&&(this.g=t,this.M=null,this.s())},t.Mn=function(t){lt(this.i,t),dw(this),this.M=null,this.s()},r(gw,ew);var vw,mw,bw=new Jt({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});function ww(t){this.C=null,this.Ha=void 0!==t.operationType?t.operationType:"pixel",this.Oa=void 0!==t.threads?t.threads:1,this.i=function(t){for(var e=t.length,o=Array(e),i=0;i<e;++i){var r=i,n=t[i],s=null;n instanceof Wb?(n=new Ab({source:n}),s=new bb(n)):n instanceof pb&&(n=new mb({source:n}),s=new eb(n)),o[r]=s}return o}(t.sources);for(var e=0,o=this.i.length;e<o;++e)oe(this.i[e],"change",this.s,this);this.g=Ne(),this.ia=new ri(function(){return 1},this.s.bind(this));o={};for(var i=0,r=(e=this.i.map(function(t){return Ln(t.a)})).length;i<r;++i)o[U(e[i].layer)]=e[i];this.o=this.v=null,this.Y={animate:!1,attributions:{},coordinateToPixelTransform:[1,0,0,1,0,0],extent:null,focus:null,index:0,layerStates:o,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.ia,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},pb.call(this,{}),t.operation&&this.A(t.operation,t.lib)}function xw(t,e,o){var i=t.v;return!i||t.f!==i.kp||o!==i.resolution||!$(e,i.extent)}mw={ma:vw={}},function(t){"object"==typeof vw&&void 0!==mw?mw.ma=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).bq=t()}(function(){return function i(r,n,s){function a(o,t){if(!n[o]){if(!r[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(p)return p(o,!0);throw(e=Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",e}e=n[o]={ma:{}},r[o][0].call(e.ma,function(t){var e=r[o][1][t];return a(e||t)},e,e.ma,i,r,n,s)}return n[o].ma}for(var p="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,o){t=t("./processor"),o.yj=t},{"./processor":2}],2:[function(t,e){function a(c){var y=!0;try{new ImageData(10,10)}catch(t){y=!1}return function(t){var e=t.buffers,o=t.meta,i=t.width,r=t.height,n=e.length,s=e[0].byteLength;if(t.imageOps){for(s=Array(n),t=0;t<n;++t){var a,p=s,h=t;a=new Uint8ClampedArray(e[t]);var l=i,u=r;a=y?new ImageData(a,l,u):{data:a,width:l,height:u},p[h]=a}i=c(s,o).data}else{for(i=new Uint8ClampedArray(s),r=Array(n),p=Array(n),t=0;t<n;++t)r[t]=new Uint8ClampedArray(e[t]),p[t]=[0,0,0,0];for(e=0;e<s;e+=4){for(t=0;t<n;++t)h=r[t],p[t][0]=h[e],p[t][1]=h[e+1],p[t][2]=h[e+2],p[t][3]=h[e+3];t=c(p,o),i[e]=t[0],i[e+1]=t[1],i[e+2]=t[2],i[e+3]=t[3]}}return i.buffer}}function p(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"}).concat(["var __minion__ = ("+a.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),(o=new Worker(o)).addEventListener("message",t),o}function o(t){var e;this.uf=!!t.Gl;var o,i,r,n=[];if(e=0===t.threads?0:this.uf?1:t.threads||1)for(var s=0;s<e;++s)n[s]=p(t,this.Qg.bind(this,s));else n[0]=(o=t,i=this.Qg.bind(this,0),r=a(o.operation),{postMessage:function(t){setTimeout(function(){i({data:{buffer:r(t),meta:t.meta}})},0)}});this.le=n,this.Cd=[],this.Mj=t.Go||1/0,this.je=0,this.cd={},this.vf=null}var h=t("./util").$l;o.prototype.Eo=function(t,e,o){this.Kj({inputs:t,Ch:e,fd:o}),this.Ng()},o.prototype.Kj=function(t){for(this.Cd.push(t);this.Cd.length>this.Mj;)this.Cd.shift().fd(null,null)},o.prototype.Ng=function(){if(0===this.je&&0<this.Cd.length){var t=this.vf=this.Cd.shift(),e=t.inputs[0].width,o=t.inputs[0].height,i=t.inputs.map(function(t){return t.data.buffer}),r=this.le.length;if(1===(this.je=r))this.le[0].postMessage({buffers:i,meta:t.Ch,imageOps:this.uf,width:e,height:o},i);else for(var n=4*Math.ceil(t.inputs[0].data.length/4/r),s=0;s<r;++s){for(var a=s*n,p=[],h=0,l=i.length;h<l;++h)p.push(i[s].slice(a,a+n));this.le[s].postMessage({buffers:p,meta:t.Ch,imageOps:this.uf,width:e,height:o},p)}}},o.prototype.Qg=function(t,e){this.$p||(this.cd[t]=e.data,--this.je,0===this.je&&this.Nj())},o.prototype.Nj=function(){var t,e,o=this.vf,i=this.le.length;if(1===i)t=new Uint8ClampedArray(this.cd[0].buffer),e=this.cd[0].meta;else{var r=o.inputs[0].data.length;t=new Uint8ClampedArray(r),e=Array(r),r=4*Math.ceil(r/4/i);for(var n=0;n<i;++n){var s=n*r;t.set(new Uint8ClampedArray(this.cd[n].buffer),s),e[n]=this.cd[n].meta}}this.vf=null,this.cd={},o.fd(null,h(t,o.inputs[0].width,o.inputs[0].height),e),this.Ng()},e.ma=o},{"./util":3}],3:[function(t,e,o){var i=!0;try{new ImageData(10,10)}catch(t){i=!1}var r=document.createElement("canvas").getContext("2d");o.$l=function(t,e,o){return i?new ImageData(t,e,o):((e=r.createImageData(e,o)).data.set(t),e)}},{}]},{},[1])(1)}),Da=mw.ma,r(ww,pb),ww.prototype.A=function(t,e){this.C=new Da.yj({operation:t,Gl:"image"===this.Ha,Go:1,lib:e,threads:this.Oa}),this.s()},ww.prototype.Z=function(t,e,o,i){o=!0;for(var r,n=0,s=this.i.length;n<s;++n)if("ready"!==(r=this.i[n].a.la()).V()){o=!1;break}if(!o)return null;if(!xw(this,t=t.slice(),e))return this.o;o=this.g.canvas,r=Math.round(nt(t)/e),n=Math.round(et(t)/e),r===o.width&&n===o.height||(o.width=r,o.height=n),(r=lt({},this.Y)).viewState=lt({},r.viewState);n=Q(t),s=Math.round(nt(t)/e);var a=Math.round(et(t)/e);return r.extent=t,r.focus=Q(t),r.size[0]=s,r.size[1]=a,(s=r.viewState).center=n,s.projection=i,s.resolution=e,this.o=i=new Ig(t,e,1,this.l,o,this.S.bind(this,r)),this.v={extent:t,resolution:e,kp:this.f},i},ww.prototype.S=function(t,e){for(var o=this.i.length,i=Array(o),r=0;r<o;++r){var n;n=this.i[r];var s=t,a=t.layerStatesArray[r];if(n.qd(s,a)){var p=s.size[0],h=s.size[1];if(Mw){var l=Mw.canvas;l.width!==p||l.height!==h?Mw=Ne(p,h):Mw.clearRect(0,0,p,h)}else Mw=Ne(p,h);n.I(s,a,Mw),n=Mw.getImageData(0,0,p,h)}else n=null;if(!n){i=null;break}i[r]=n}i&&(o={},this.b(new Sw(Pw,t,o)),this.C.Eo(i,o,this.oa.bind(this,t,e))),ni(t.tileQueue,16,16)},ww.prototype.oa=function(t,e,o,i,r){o?e(o):i&&(this.b(new Sw(Lw,t,r)),xw(this,t.extent,t.viewState.resolution/t.pixelRatio)||this.g.putImageData(i,0,0),e(null))};var Mw=null;function Sw(t,e,o){he.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=o}r(Sw,he),ww.prototype.Ic=function(){return null};var Pw="beforeoperations",Lw="afteroperations";function Cw(t){var e=t.layer.indexOf("-"),o=(e=Tw[-1==e?t.layer:t.layer.slice(0,e)],Ew[t.layer]);ew.call(this,{attributions:Aw,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:null!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:null!=t.minZoom?t.minZoom:e.minZoom,opaque:o.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+o.Hb})}r(Cw,ew);var Aw=[new Jt({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),bw],Ew={terrain:{Hb:"jpg",opaque:!0},"terrain-background":{Hb:"jpg",opaque:!0},"terrain-labels":{Hb:"png",opaque:!1},"terrain-lines":{Hb:"png",opaque:!1},"toner-background":{Hb:"png",opaque:!0},toner:{Hb:"png",opaque:!0},"toner-hybrid":{Hb:"png",opaque:!1},"toner-labels":{Hb:"png",opaque:!1},"toner-lines":{Hb:"png",opaque:!1},"toner-lite":{Hb:"png",opaque:!0},watercolor:{Hb:"jpg",opaque:!0}},Tw={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function jw(t){Kb.call(this,{attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.params||{},this.o=[1/0,1/0,-1/0,-1/0],$b(this,Rw(this))}function Rw(t){var e,o=0,i=[];for(e in t.i)i[o++]=e+"-"+t.i[e];return i.join("/")}function Iw(t){Wb.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function Nw(t,e,o){Ng.call(this,t,2),this.c=e,this.Fa=o,this.f=null}function kw(t){if(this.i=null,Kb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Tt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.jsonp)kb(t.url,this.di.bind(this),this.Le.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.On.bind(this)),e.addEventListener("error",this.Nn.bind(this)),e.open("GET",t.url),e.send()}}function Dw(t){if(Wb.call(this,{projection:Tt("EPSG:3857"),state:"loading"}),this.v=void 0===t.preemptive||t.preemptive,this.o=Ub,this.g=void 0,this.i=t.jsonp||!1,t.url)if(this.i)kb(t.url,this.bg.bind(this),this.Me.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.Sn.bind(this)),e.addEventListener("error",this.Rn.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.bg(t.tileJSON):k(!1,51)}function Ow(t,e,o,i,r,n){Ng.call(this,t,e),this.o=o,this.f=i,this.I=r,this.c=this.j=this.g=null,this.v=n}function Fw(t){if(0==t.state)if(t.state=1,t.v)kb(t.o,t.ei.bind(t),t.xe.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.Qn.bind(t)),e.addEventListener("error",t.Pn.bind(t)),e.open("GET",t.o),e.send()}}function Gw(t){var e=(t=t||{}).params||{};Kb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.u=void 0!==t.gutter?t.gutter:0,this.i=e,this.o=!0,this.A=t.serverType,this.Y=void 0===t.hidpi||t.hidpi,this.S="",Bw(this),this.ea=[1/0,1/0,-1/0,-1/0],Xw(this),$b(this,Vw(this))}function Uw(t,e,o,i,r,n,s){var a=t.urls;if(a){if(s.WIDTH=o[0],s.HEIGHT=o[1],s[t.o?"CRS":"SRS"]=n.nb,"STYLES"in t.i||(s.STYLES=""),1!=r)switch(t.A){case"geoserver":o=90*r+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+";dpi:"+o:"dpi:"+o;break;case"mapserver":s.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":s.DPI=90*r;break;default:k(!1,52)}return n=n.b,t.o&&"ne"==n.substr(0,2)&&(t=i[0],i[0]=i[1],i[1]=t,t=i[2],i[2]=i[3],i[3]=t),s.BBOX=i.join(","),pw(1==a.length?a[0]:a[j((e[1]<<e[0])+e[2],a.length)],s)}}function Bw(t){var e,o,i=0,r=[];if(t.urls)for(e=0,o=t.urls.length;e<o;++e)r[i++]=t.urls[e];t.S=r.join("#")}function Vw(t){var e,o=0,i=[];for(e in t.i)i[o++]=e+"-"+t.i[e];return i.join("/")}function Xw(t){t.o=0<=hi(t.i.VERSION||"1.3.0")}function Ww(t,e,o,i,r){Ng.call(this,t,e),this.c=Ne(),this.j=i,this.g=null,this.f={Ld:!1,wg:null,af:-1,xg:-1,vd:null},this.I=r,this.o=o}function zw(t,e){t.Mi(Bh(e,t.j,t.po.bind(t),t.oo.bind(t)))}function $w(t){Hb.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:t.extent,logo:t.logo,opaque:!1,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:zw,tileUrlFunction:t.tileUrlFunction,tilePixelRatio:t.tilePixelRatio,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.format?t.format:null,this.g=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Ww}function Zw(t){this.j=t.matrixIds,Gt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function Yw(t,e,o){var r=[],n=[],s=[],a=[],p=[],h=void 0!==o?o:[],l=(o=Tt(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))).sc(),u="ne"==o.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){var t;if(t=!(0<h.length)||b(h,function(t){return e.Identifier==t.TileMatrix})){n.push(e.Identifier),t=28e-5*e.ScaleDenominator/l;var o=e.TileWidth,i=e.TileHeight;u?s.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):s.push(e.TopLeftCorner),r.push(t),a.push(o==i?o:[o,i]),p.push([e.MatrixWidth,-e.MatrixHeight])}}),new Zw({extent:e,origins:s,resolutions:r,matrixIds:n,tileSizes:a,sizes:p})}function Hw(t){this.ea=void 0!==t.version?t.version:"1.0.0",this.u=void 0!==t.format?t.format:"image/jpeg",this.i=t.dimensions?t.dimensions:{},this.A=t.layer,this.o=t.matrixSet,this.S=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=Bb(t.url));var i=this.Y=void 0!==t.requestEncoding?t.requestEncoding:"KVP",r=t.tileGrid,o={layer:this.A,style:this.S,tilematrixset:this.o};"KVP"==i&&lt(o,{Service:"WMTS",Request:"GetTile",Version:this.ea,Format:this.u});var n=this.i,s=e&&0<e.length?Gb(e.map(function(e){return e="KVP"==i?pw(e,o):e.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in o?o[e.toLowerCase()]:t}),function(t){if(t){var o={TileMatrix:r.j[t[0]],TileCol:t[1],TileRow:-t[2]-1};return lt(o,n),t=e,"KVP"==i?pw(t,o):t.replace(/\{(\w+?)\}/g,function(t,e){return o[e]})}}})):Ub;Kb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX}),$b(this,Kw(this))}function Kw(t){var e,o=0,i=[];for(e in t.i)i[o++]=e+"-"+t.i[e];return i.join("/")}function Jw(t){var e=(t=t||{}).size,o=e[0],i=e[1],n=[],r=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:qw){case qw:for(;r<o||r<i;)n.push([Math.ceil(o/r),Math.ceil(i/r)]),r+=r;break;case Qw:for(;r<o||r<i;)n.push([Math.ceil(o/r),Math.ceil(i/r)]),o>>=1,i>>=1;break;default:k(!1,53)}n.push([1,1]),n.reverse();r=[1];var s=[0];for(i=1,o=n.length;i<o;i++)r.push(1<<i),s.push(n[i-1][0]*n[i-1][1]+s[i-1]);r.reverse(),e=new Gt({extent:e=[0,-e[1],e[0],0],origin:it(e),resolutions:r}),(r=t.url)&&-1==r.indexOf("{TileGroup}")&&(r+="{TileGroup}/{z}-{x}-{y}.jpg"),r=Gb((r=Bb(r)).map(function(r){return function(t){if(t){var e=t[0],o=t[1],i={z:e,x:o,y:t=-t[2]-1,TileGroup:"TileGroup"+((o+t*n[e][0]+s[e])/256|0)};return r.replace(/\{(\w+?)\}/g,function(t,e){return i[e]})}}})),Kb.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:_w,tileGrid:e,tileUrlFunction:r})}function _w(t,e,o,i,r){Dg.call(this,t,e,o,i,r),this.f=null}r(jw,Kb),jw.prototype.u=function(){return this.i},jw.prototype.pb=function(t){return t},jw.prototype.Fc=function(t,e,o){var i=this.tileGrid;if(i||(i=this.Ib(o)),!(i.b.length<=t[0])){var r=i.Ta(t,this.o),n=F(i.fb(t[0]),this.j);1!=e&&(n=P(n,e,this.j)),lt(i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var s=this.urls;return s?(o=o.nb.split(":").pop(),i.SIZE=n[0]+","+n[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(i.DPI?i.DPI*e:90*e),t=pw(t=(1==s.length?s[0]:s[j((t[1]<<t[0])+t[2],s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),i)):t=void 0,t}},jw.prototype.A=function(t){lt(this.i,t),$b(this,Rw(this))},r(Iw,Wb),Iw.prototype.Lc=function(t,e,o){var i=this.Sb(t,e,o);if(this.a.b.hasOwnProperty(i))return this.a.get(i);var r=F(this.tileGrid.fb(t));return r=new Nw(t=[t,e,o],r,e=(e=Zb(this,t))?Zb(this,e).toString():""),this.a.set(i,r),r},r(Nw,Ng),Nw.prototype.Z=function(){if(this.f)return this.f;var t=this.c,e=Ne(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.Fa,t[0]/2,t[1]/2),this.f=e.canvas},Nw.prototype.load=function(){},r(kw,Kb),(t=kw.prototype).On=function(t){if(!(t=t.target).status||200<=t.status&&t.status<300){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Le()}this.di(e)}else this.Le()},t.Nn=function(){this.Le()},t.Vk=function(){return this.i},t.di=function(t){var e,o=Tt("EPSG:4326"),i=this.c;if(t.bounds){var r=It(o,i);e=ht(t.bounds,r)}var n=t.minzoom||0;r=t.maxzoom||22;if(this.tileGrid=i=Yt({extent:Kt(i),maxZoom:r,minZoom:n}),this.tileUrlFunction=Fb(t.tiles,i),void 0!==t.attribution&&!this.l){o=void 0!==e?e:o.D(),e={};for(;n<=r;++n)e[n.toString()]=[Wt(i,o,n)];this.ua([new Jt({html:t.attribution,tileRanges:e})])}this.i=t,Xv(this,"ready")},t.Le=function(){Xv(this,"error")},r(Dw,Wb),(t=Dw.prototype).Sn=function(t){if(!(t=t.target).status||200<=t.status&&t.status<300){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Me()}this.bg(e)}else this.Me()},t.Rn=function(){this.Me()},t.Sk=function(){return this.g},t.dk=function(t,e,o,i,r){var n,s,a,p,h;this.tileGrid?(e=this.tileGrid.we(t,e),n=this.Lc(e[0],e[1],e[2],1,this.c),s=t,a=o,p=i,h=r,0==n.state&&!0===h?(ie(n,"change",function(){a.call(p,this.getData(s))},n),Fw(n)):!0===h?setTimeout(function(){a.call(p,this.getData(s))}.bind(n),0):a.call(p,n.getData(s))):!0===r?setTimeout(function(){o.call(i,null)},0):o.call(i,null)},t.Me=function(){Xv(this,"error")},t.bg=function(t){var e,o=Tt("EPSG:4326"),i=this.c;if(t.bounds){var r=It(o,i);e=ht(t.bounds,r)}var n=t.minzoom||0;r=t.maxzoom||22;this.tileGrid=i=Yt({extent:Kt(i),maxZoom:r,minZoom:n}),this.g=t.template;var s=t.grids;if(s){if(this.o=Fb(s,i),void 0!==t.attribution){for(o=void 0!==e?e:o.D(),e={};n<=r;++n)e[s=n.toString()]=[Wt(i,o,n)];this.ua([new Jt({html:t.attribution,tileRanges:e})])}Xv(this,"ready")}else Xv(this,"error")},t.Lc=function(t,e,o,i,r){var n=this.Sb(t,e,o);return this.a.b.hasOwnProperty(n)?this.a.get(n):(e=Zb(this,t=[t,e,o],r),i=new Ow(t,void 0!==(i=this.o(e,i,r))?0:4,void 0!==i?i:"",this.tileGrid.Ta(t),this.v,this.i),this.a.set(n,i),i)},t.Eg=function(t,e,o){t=this.Sb(t,e,o),this.a.b.hasOwnProperty(t)&&this.a.get(t)},r(Ow,Ng),(t=Ow.prototype).Z=function(){return null},t.getData=function(t){if(!this.g||!this.j)return null;var e=this.g[Math.floor((1-(t[1]-this.f[1])/(this.f[3]-this.f[1]))*this.g.length)];return"string"!=typeof e?null:(93<=(e=e.charCodeAt(Math.floor((t[0]-this.f[0])/(this.f[2]-this.f[0])*e.length)))&&e--,35<=e&&e--,t=null,(e-=32)in this.j&&(e=this.j[e],t=this.c&&e in this.c?this.c[e]:e),t)},t.ib=function(){return this.o},t.xe=function(){this.state=3,this.s()},t.ei=function(t){this.g=t.grid,this.j=t.keys,this.c=t.data,this.state=4,this.s()},t.Qn=function(t){if(!(t=t.target).status||200<=t.status&&t.status<300){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.xe()}this.ei(e)}else this.xe()},t.Pn=function(){this.xe()},t.load=function(){this.I&&Fw(this)},r(Gw,Kb),(t=Gw.prototype).Tn=function(t,e,o,i){if(o=Tt(o),(s=this.tileGrid)||(s=this.Ib(o)),e=s.we(t,e),!(s.b.length<=e[0])){var r=s.La(e[0]),n=s.Ta(e,this.ea),s=F(s.fb(e[0]),this.j),a=this.u;return a&&(s=g(s,a,this.j),n=C(n,r*a,n)),a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},lt(a,this.i,i),i=Math.floor((n[3]-t[1])/r),a[this.o?"I":"X"]=Math.floor((t[0]-n[0])/r),a[this.o?"J":"Y"]=i,Uw(this,e,s,n,1,o,a)}},t.Kf=function(){return this.u},t.Sb=function(t,e,o){return this.S+Kb.prototype.Sb.call(this,t,e,o)},t.Un=function(){return this.i},t.pb=function(t){return this.Y&&void 0!==this.A?t:1},t.Fc=function(t,e,o){if((n=this.tileGrid)||(n=this.Ib(o)),!(n.b.length<=t[0])){1==e||this.Y&&void 0!==this.A||(e=1);var i=n.La(t[0]),r=n.Ta(t,this.ea),n=F(n.fb(t[0]),this.j),s=this.u;return s&&(n=g(n,s,this.j),r=C(r,i*s,r)),1!=e&&(n=P(n,e,this.j)),lt(i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),Uw(this,t,n,r,e,o,i)}},t.cb=function(t){Kb.prototype.cb.call(this,t),Bw(this)},t.Vn=function(t){lt(this.i,t),Bw(this),Xw(this),$b(this,Vw(this))},r(Ww,Ng),(t=Ww.prototype).Z=function(){return-1==this.f.xg?null:this.c.canvas},t.rm=function(){return this.j},t.ib=function(){return this.o},t.load=function(){0==this.state&&(this.state=1,this.s(),this.I(this,this.o),this.v(null,NaN,null))},t.po=function(t,e){this.Xf(e),this.Hi(t)},t.oo=function(){this.state=3,this.s()},t.Hi=function(t){this.g=t,this.state=2,this.s()},t.Xf=function(t){this.l=t},t.Mi=function(t){this.v=t},r($w,Hb),$w.prototype.Lc=function(t,e,o,i,r){var n=this.Sb(t,e,o);return this.a.b.hasOwnProperty(n)?this.a.get(n):(i=(e=Zb(this,t=[t,e,o],r))?this.tileUrlFunction(e,i,r):void 0,oe(i=new this.tileClass(t,void 0!==i?0:4,void 0!==i?i:"",this.i,this.tileLoadFunction),"change",this.gi,this),this.a.set(n,i),i)},$w.prototype.pb=function(t){return null==t?Hb.prototype.pb.call(this,t):t},$w.prototype.Sd=function(t,e){var o=F(this.tileGrid.fb(t));return[Math.round(o[0]*e),Math.round(o[1]*e)]},r(Zw,Gt),Zw.prototype.o=function(){return this.j},r(Hw,Kb),(t=Hw.prototype).rk=function(){return this.i},t.Wn=function(){return this.u},t.Xn=function(){return this.A},t.Fk=function(){return this.o},t.Qk=function(){return this.Y},t.Yn=function(){return this.S},t.Xk=function(){return this.ea},t.Gp=function(t){lt(this.i,t),$b(this,Kw(this))},r(Jw,Kb),r(_w,Dg),_w.prototype.Z=function(){if(this.f)return this.f;var t=Dg.prototype.Z.call(this);if(2==this.state){if(256==t.width&&256==t.height)return this.f=t;var e=Ne(256,256);return e.drawImage(t,0,0),this.f=e.canvas}return t};var qw="default",Qw="truncated";function tx(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.f=Ne(t,t),this.i=this.f.canvas}function ex(t,e,o,i){e=[e,1],0<o.width&&0<o.height&&e.push(o),0<i.width&&0<i.height&&e.push(i),t.a.splice.apply(t.a,e)}function ox(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.f=void 0!==t.maxSize?t.maxSize:void 0!==e?e:2048,this.b=void 0!==t.space?t.space:1,this.i=[new tx(this.a,this.b)],this.c=this.a,this.g=[new tx(this.c,this.b)]}function ix(t,e,o,i,r,n,s){var a,p,h,l=e?t.g:t.i;for(p=0,h=l.length;p<h;++p){if(a=(a=l[p]).add(o,i,r,n,s))return a;a||p!==h-1||(e?(a=Math.min(2*t.c,t.f),t.c=a):(a=Math.min(2*t.a,t.f),t.a=a),a=new tx(a,t.b),l.push(a),++h)}return null}return tx.prototype.get=function(t){return this.c[t]||null},tx.prototype.add=function(t,e,o,i,r){var n,s,a;for(s=0,a=this.a.length;s<a;++s)if((n=this.a[s]).width>=e+this.b&&n.height>=o+this.b)return a={offsetX:n.x+this.b,offsetY:n.y+this.b,image:this.i},this.c[t]=a,i.call(r,this.f,n.x+this.b,n.y+this.b),t=s,e+=this.b,i=o+this.b,n.width-e>n.height-i?(o={x:n.x+e,y:n.y,width:n.width-e,height:n.height},e={x:n.x,y:n.y+i,width:e,height:n.height-i}):(o={x:n.x+e,y:n.y,width:n.width-e,height:i},e={x:n.x,y:n.y+i,width:n.width,height:n.height-i}),ex(this,t,o,e),a;return null},ox.prototype.add=function(t,e,o,i,r,n){return e+this.b>this.f||o+this.b>this.f?null:(i=ix(this,!1,t,e,o,i,n))?(t=ix(this,!0,t,e,o,r||a,n),{offsetX:i.offsetX,offsetY:i.offsetY,image:i.image,Fl:t.image}):null},l.prototype.code=l.prototype.code,i("ol.Attribution",Jt),Jt.prototype.getHTML=Jt.prototype.f,i("ol.Collection",be),be.prototype.clear=be.prototype.clear,be.prototype.extend=be.prototype.Tf,be.prototype.forEach=be.prototype.forEach,be.prototype.getArray=be.prototype.am,be.prototype.item=be.prototype.item,be.prototype.getLength=be.prototype.ec,be.prototype.insertAt=be.prototype.Be,be.prototype.pop=be.prototype.pop,be.prototype.push=be.prototype.push,be.prototype.remove=be.prototype.remove,be.prototype.removeAt=be.prototype.tg,be.prototype.setAt=be.prototype.mp,Me.prototype.element=Me.prototype.element,i("ol.color.asArray",Le),i("ol.color.asString",Ce),i("ol.colorlike.asColorLike",Re),i("ol.control.defaults",Ye),i("ol.coordinate.add",li),i("ol.coordinate.createStringXY",function(e){return function(t){return wi(t,e)}}),i("ol.coordinate.format",yi),i("ol.coordinate.rotate",di),i("ol.coordinate.toStringHDMS",function(t,e){return t?ci(t[1],"NS",e)+" "+ci(t[0],"EW",e):""}),i("ol.coordinate.toStringXY",wi),i("ol.DeviceOrientation",eh),eh.prototype.getAlpha=eh.prototype.jk,eh.prototype.getBeta=eh.prototype.mk,eh.prototype.getGamma=eh.prototype.uk,eh.prototype.getHeading=eh.prototype.bm,eh.prototype.getTracking=eh.prototype.Fh,eh.prototype.setTracking=eh.prototype.Uf,i("ol.easing.easeIn",Be),i("ol.easing.easeOut",Ve),i("ol.easing.inAndOut",Xe),i("ol.easing.linear",We),i("ol.easing.upAndDown",function(t){return t<.5?Xe(2*t):1-Xe(2*(t-.5))}),i("ol.extent.boundingExtent",L),i("ol.extent.buffer",C),i("ol.extent.containsCoordinate",R),i("ol.extent.containsExtent",B),i("ol.extent.containsXY",I),i("ol.extent.createEmpty",V),i("ol.extent.equals",$),i("ol.extent.extend",Z),i("ol.extent.getBottomLeft",_),i("ol.extent.getBottomRight",q),i("ol.extent.getCenter",Q),i("ol.extent.getHeight",et),i("ol.extent.getIntersection",ot),i("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),i("ol.extent.getTopLeft",it),i("ol.extent.getTopRight",rt),i("ol.extent.getWidth",nt),i("ol.extent.intersects",st),i("ol.extent.isEmpty",at),i("ol.extent.applyTransform",ht),i("ol.Feature",mh),mh.prototype.clone=mh.prototype.clone,mh.prototype.getGeometry=mh.prototype.U,mh.prototype.getId=mh.prototype.dm,mh.prototype.getGeometryName=mh.prototype.wk,mh.prototype.getStyle=mh.prototype.em,mh.prototype.getStyleFunction=mh.prototype.Nc,mh.prototype.setGeometry=mh.prototype.Sa,mh.prototype.setStyle=mh.prototype.Vf,mh.prototype.setId=mh.prototype.kc,mh.prototype.setGeometryName=mh.prototype.Vc,i("ol.featureloader.xhr",Vh),i("ol.Geolocation",xg),xg.prototype.getAccuracy=xg.prototype.hk,xg.prototype.getAccuracyGeometry=xg.prototype.ik,xg.prototype.getAltitude=xg.prototype.kk,xg.prototype.getAltitudeAccuracy=xg.prototype.lk,xg.prototype.getHeading=xg.prototype.fm,xg.prototype.getPosition=xg.prototype.gm,xg.prototype.getProjection=xg.prototype.Gh,xg.prototype.getSpeed=xg.prototype.Rk,xg.prototype.getTracking=xg.prototype.Hh,xg.prototype.getTrackingOptions=xg.prototype.th,xg.prototype.setProjection=xg.prototype.Ih,xg.prototype.setTracking=xg.prototype.Ee,xg.prototype.setTrackingOptions=xg.prototype.Si,i("ol.Graticule",Lg),Lg.prototype.getMap=Lg.prototype.jm,Lg.prototype.getMeridians=Lg.prototype.Gk,Lg.prototype.getParallels=Lg.prototype.Nk,Lg.prototype.setMap=Lg.prototype.setMap,i("ol.has.DEVICE_PIXEL_RATIO",bo),i("ol.has.CANVAS",xo),i("ol.has.DEVICE_ORIENTATION",Mo),i("ol.has.GEOLOCATION",So),i("ol.has.TOUCH",Po),i("ol.has.WEBGL",uo),Rg.prototype.getImage=Rg.prototype.Z,Rg.prototype.load=Rg.prototype.load,Dg.prototype.getImage=Dg.prototype.Z,i("ol.inherits",r),i("ol.interaction.defaults",Sn),i("ol.Kinetic",br),i("ol.loadingstrategy.all",Uv),i("ol.loadingstrategy.bbox",function(t){return[t]}),i("ol.loadingstrategy.tile",function(n){return function(t,e){var o=n.Mc(e),i=Wt(n,t,o),r=[];for((o=[o,0,0])[1]=i.da;o[1]<=i.ba;++o[1])for(o[2]=i.fa;o[2]<=i.ja;++o[2])r.push(n.Ta(o));return r}}),i("ol.Map",Tp),Tp.prototype.addControl=Tp.prototype.Rj,Tp.prototype.addInteraction=Tp.prototype.Sj,Tp.prototype.addLayer=Tp.prototype.Sg,Tp.prototype.addOverlay=Tp.prototype.Tg,Tp.prototype.forEachFeatureAtPixel=Tp.prototype.re,Tp.prototype.forEachLayerAtPixel=Tp.prototype.pm,Tp.prototype.hasFeatureAtPixel=Tp.prototype.El,Tp.prototype.getEventCoordinate=Tp.prototype.sk,Tp.prototype.getEventPixel=Tp.prototype.te,Tp.prototype.getTarget=Tp.prototype.Of,Tp.prototype.getTargetElement=Tp.prototype.Kc,Tp.prototype.getCoordinateFromPixel=Tp.prototype.Za,Tp.prototype.getControls=Tp.prototype.qk,Tp.prototype.getOverlays=Tp.prototype.Lk,Tp.prototype.getOverlayById=Tp.prototype.Kk,Tp.prototype.getInteractions=Tp.prototype.xk,Tp.prototype.getLayerGroup=Tp.prototype.Jc,Tp.prototype.getLayers=Tp.prototype.Jh,Tp.prototype.getPixelFromCoordinate=Tp.prototype.Ka,Tp.prototype.getSize=Tp.prototype.Mb,Tp.prototype.getView=Tp.prototype.$,Tp.prototype.getViewport=Tp.prototype.Yk,Tp.prototype.renderSync=Tp.prototype.ip,Tp.prototype.render=Tp.prototype.render,Tp.prototype.removeControl=Tp.prototype.ap,Tp.prototype.removeInteraction=Tp.prototype.bp,Tp.prototype.removeLayer=Tp.prototype.ep,Tp.prototype.removeOverlay=Tp.prototype.fp,Tp.prototype.setLayerGroup=Tp.prototype.Li,Tp.prototype.setSize=Tp.prototype.Ag,Tp.prototype.setTarget=Tp.prototype.Fe,Tp.prototype.setView=Tp.prototype.vp,Tp.prototype.updateSize=Tp.prototype.xd,so.prototype.originalEvent=so.prototype.originalEvent,so.prototype.pixel=so.prototype.pixel,so.prototype.coordinate=so.prototype.coordinate,so.prototype.dragging=so.prototype.dragging,no.prototype.map=no.prototype.map,no.prototype.frameState=no.prototype.frameState,i("ol.Object",fe),fe.prototype.get=fe.prototype.get,fe.prototype.getKeys=fe.prototype.O,fe.prototype.getProperties=fe.prototype.N,fe.prototype.set=fe.prototype.set,fe.prototype.setProperties=fe.prototype.H,fe.prototype.unset=fe.prototype.P,me.prototype.key=me.prototype.key,me.prototype.oldValue=me.prototype.oldValue,i("ol.Observable",ye),i("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,o=t.length;e<o;++e)ne(t[e]);else ne(t)}),ye.prototype.changed=ye.prototype.s,ye.prototype.dispatchEvent=ye.prototype.b,ye.prototype.getRevision=ye.prototype.L,ye.prototype.on=ye.prototype.J,ye.prototype.once=ye.prototype.once,ye.prototype.un=ye.prototype.K,i("ol.Overlay",jp),jp.prototype.getElement=jp.prototype.se,jp.prototype.getId=jp.prototype.qm,jp.prototype.getMap=jp.prototype.Ge,jp.prototype.getOffset=jp.prototype.qh,jp.prototype.getPosition=jp.prototype.Kh,jp.prototype.getPositioning=jp.prototype.rh,jp.prototype.setElement=jp.prototype.Gi,jp.prototype.setMap=jp.prototype.setMap,jp.prototype.setOffset=jp.prototype.Ni,jp.prototype.setPosition=jp.prototype.Wf,jp.prototype.setPositioning=jp.prototype.Qi,i("ol.proj.METERS_PER_UNIT",gt),i("ol.proj.setProj4",function(t){vt=t}),i("ol.proj.getPointResolution",St),i("ol.proj.addEquivalentProjections",Pt),i("ol.proj.addProjection",Lt),i("ol.proj.addCoordinateTransforms",At),i("ol.proj.fromLonLat",function(t,e){return Dt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),i("ol.proj.toLonLat",function(t,e){return Dt(t,void 0!==e?e:"EPSG:3857","EPSG:4326")}),i("ol.proj.get",Tt),i("ol.proj.equivalent",jt),i("ol.proj.getTransform",Rt),i("ol.proj.transform",Dt),i("ol.proj.transformExtent",Ot),i("ol.render.toContext",function(t,e){var o=t.canvas,i=e||{},r=i.pixelRatio||bo;return(i=i.size)&&(o.width=i[0]*r,o.height=i[1]*r,o.style.width=i[0]+"px",o.style.height=i[1]+"px"),new fs(t,r,o=[0,0,o.width,o.height],i=qn([1,0,0,1,0,0],r,r),0)}),i("ol.size.toSize",F),i("ol.Sphere",ft),ft.prototype.geodesicArea=ft.prototype.a,ft.prototype.haversineDistance=ft.prototype.b,Ng.prototype.getTileCoord=Ng.prototype.i,Ng.prototype.load=Ng.prototype.load,i("ol.tilegrid.createXYZ",Yt),Ww.prototype.getFormat=Ww.prototype.rm,Ww.prototype.setFeatures=Ww.prototype.Hi,Ww.prototype.setProjection=Ww.prototype.Xf,Ww.prototype.setLoader=Ww.prototype.Mi,i("ol.View",lr),lr.prototype.animate=lr.prototype.animate,lr.prototype.constrainCenter=lr.prototype.Ec,lr.prototype.constrainResolution=lr.prototype.constrainResolution,lr.prototype.constrainRotation=lr.prototype.constrainRotation,lr.prototype.getCenter=lr.prototype.Ba,lr.prototype.calculateExtent=lr.prototype.ed,lr.prototype.getMaxResolution=lr.prototype.sm,lr.prototype.getMinResolution=lr.prototype.tm,lr.prototype.getProjection=lr.prototype.um,lr.prototype.getResolution=lr.prototype.Ua,lr.prototype.getResolutions=lr.prototype.vm,lr.prototype.getRotation=lr.prototype.Va,lr.prototype.getZoom=lr.prototype.$k,lr.prototype.fit=lr.prototype.Ff,lr.prototype.centerOn=lr.prototype.$j,lr.prototype.rotate=lr.prototype.rotate,lr.prototype.setCenter=lr.prototype.wb,lr.prototype.setResolution=lr.prototype.Xc,lr.prototype.setRotation=lr.prototype.He,lr.prototype.setZoom=lr.prototype.yp,i("ol.xml.getAllTextContent",xh),i("ol.xml.parse",Ph),Js.prototype.getGL=Js.prototype.lo,Js.prototype.useProgram=Js.prototype.Rc,i("ol.tilegrid.TileGrid",Gt),Gt.prototype.forEachTileCoord=Gt.prototype.eh,Gt.prototype.getMaxZoom=Gt.prototype.oh,Gt.prototype.getMinZoom=Gt.prototype.ph,Gt.prototype.getOrigin=Gt.prototype.Qc,Gt.prototype.getResolution=Gt.prototype.La,Gt.prototype.getResolutions=Gt.prototype.oi,Gt.prototype.getTileCoordExtent=Gt.prototype.Ta,Gt.prototype.getTileCoordForCoordAndResolution=Gt.prototype.we,Gt.prototype.getTileCoordForCoordAndZ=Gt.prototype.Pf,Gt.prototype.getTileSize=Gt.prototype.fb,Gt.prototype.getZForResolution=Gt.prototype.Mc,i("ol.tilegrid.WMTS",Zw),Zw.prototype.getMatrixIds=Zw.prototype.o,i("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",Yw),i("ol.style.AtlasManager",ox),i("ol.style.Circle",lh),lh.prototype.setRadius=lh.prototype.Wc,i("ol.style.Fill",uh),uh.prototype.clone=uh.prototype.clone,uh.prototype.getColor=uh.prototype.f,uh.prototype.setColor=uh.prototype.c,i("ol.style.Icon",Sc),Sc.prototype.clone=Sc.prototype.clone,Sc.prototype.getAnchor=Sc.prototype.Hc,Sc.prototype.getColor=Sc.prototype.Zn,Sc.prototype.getImage=Sc.prototype.Z,Sc.prototype.getOrigin=Sc.prototype.Pc,Sc.prototype.getSrc=Sc.prototype.$n,Sc.prototype.getSize=Sc.prototype.jc,Sc.prototype.load=Sc.prototype.load,i("ol.style.Image",ah),ah.prototype.getOpacity=ah.prototype.Pe,ah.prototype.getRotateWithView=ah.prototype.Qe,ah.prototype.getRotation=ah.prototype.Re,ah.prototype.getScale=ah.prototype.Se,ah.prototype.getSnapToPixel=ah.prototype.ve,ah.prototype.setOpacity=ah.prototype.rd,ah.prototype.setRotation=ah.prototype.Te,ah.prototype.setScale=ah.prototype.sd,i("ol.style.RegularShape",ph),ph.prototype.clone=ph.prototype.clone,ph.prototype.getAnchor=ph.prototype.Hc,ph.prototype.getAngle=ph.prototype.ki,ph.prototype.getFill=ph.prototype.Ca,ph.prototype.getImage=ph.prototype.Z,ph.prototype.getOrigin=ph.prototype.Pc,ph.prototype.getPoints=ph.prototype.li,ph.prototype.getRadius=ph.prototype.mi,ph.prototype.getRadius2=ph.prototype.sh,ph.prototype.getSize=ph.prototype.jc,ph.prototype.getStroke=ph.prototype.Da,i("ol.style.Stroke",Ba),Ba.prototype.clone=Ba.prototype.clone,Ba.prototype.getColor=Ba.prototype.ao,Ba.prototype.getLineCap=Ba.prototype.Ak,Ba.prototype.getLineDash=Ba.prototype.bo,Ba.prototype.getLineDashOffset=Ba.prototype.Bk,Ba.prototype.getLineJoin=Ba.prototype.Ck,Ba.prototype.getMiterLimit=Ba.prototype.Hk,Ba.prototype.getWidth=Ba.prototype.co,Ba.prototype.setColor=Ba.prototype.eo,Ba.prototype.setLineCap=Ba.prototype.qp,Ba.prototype.setLineDash=Ba.prototype.setLineDash,Ba.prototype.setLineDashOffset=Ba.prototype.rp,Ba.prototype.setLineJoin=Ba.prototype.sp,Ba.prototype.setMiterLimit=Ba.prototype.tp,Ba.prototype.setWidth=Ba.prototype.wp,i("ol.style.Style",ch),ch.prototype.clone=ch.prototype.clone,ch.prototype.getGeometry=ch.prototype.U,ch.prototype.getGeometryFunction=ch.prototype.vk,ch.prototype.getFill=ch.prototype.Ca,ch.prototype.setFill=ch.prototype.cf,ch.prototype.getImage=ch.prototype.Z,ch.prototype.setImage=ch.prototype.zg,ch.prototype.getStroke=ch.prototype.Da,ch.prototype.setStroke=ch.prototype.df,ch.prototype.getText=ch.prototype.Pa,ch.prototype.setText=ch.prototype.ef,ch.prototype.getZIndex=ch.prototype.za,ch.prototype.setGeometry=ch.prototype.Sa,ch.prototype.setZIndex=ch.prototype.Wb,i("ol.style.Text",Pc),Pc.prototype.clone=Pc.prototype.clone,Pc.prototype.getFont=Pc.prototype.tk,Pc.prototype.getOffsetX=Pc.prototype.Ik,Pc.prototype.getOffsetY=Pc.prototype.Jk,Pc.prototype.getFill=Pc.prototype.Ca,Pc.prototype.getRotateWithView=Pc.prototype.fo,Pc.prototype.getRotation=Pc.prototype.ho,Pc.prototype.getScale=Pc.prototype.io,Pc.prototype.getStroke=Pc.prototype.Da,Pc.prototype.getText=Pc.prototype.Pa,Pc.prototype.getTextAlign=Pc.prototype.Tk,Pc.prototype.getTextBaseline=Pc.prototype.Uk,Pc.prototype.setFont=Pc.prototype.Ii,Pc.prototype.setOffsetX=Pc.prototype.Oi,Pc.prototype.setOffsetY=Pc.prototype.Pi,Pc.prototype.setFill=Pc.prototype.cf,Pc.prototype.setRotation=Pc.prototype.jo,Pc.prototype.setScale=Pc.prototype.ni,Pc.prototype.setStroke=Pc.prototype.df,Pc.prototype.setText=Pc.prototype.ef,Pc.prototype.setTextAlign=Pc.prototype.Ri,Pc.prototype.setTextBaseline=Pc.prototype.up,i("ol.source.BingMaps",Qb),i("ol.source.BingMaps.TOS_ATTRIBUTION",tw),Qb.prototype.getApiKey=Qb.prototype.Y,Qb.prototype.getImagerySet=Qb.prototype.ea,i("ol.source.CartoDB",ow),ow.prototype.getConfig=ow.prototype.pk,ow.prototype.updateConfig=ow.prototype.Fp,ow.prototype.setConfig=ow.prototype.np,i("ol.source.Cluster",nw),nw.prototype.getSource=nw.prototype.lb,nw.prototype.setDistance=nw.prototype.mb,i("ol.source.Image",pb),ub.prototype.image=ub.prototype.image,i("ol.source.ImageArcGISRest",hw),hw.prototype.getParams=hw.prototype.rn,hw.prototype.getImageLoadFunction=hw.prototype.qn,hw.prototype.getUrl=hw.prototype.sn,hw.prototype.setImageLoadFunction=hw.prototype.tn,hw.prototype.setUrl=hw.prototype.vn,hw.prototype.updateParams=hw.prototype.wn,i("ol.source.ImageCanvas",db),i("ol.source.ImageMapGuide",lw),lw.prototype.getParams=lw.prototype.yn,lw.prototype.getImageLoadFunction=lw.prototype.xn,lw.prototype.updateParams=lw.prototype.An,lw.prototype.setImageLoadFunction=lw.prototype.zn,i("ol.source.ImageStatic",uw),i("ol.source.ImageVector",gb),gb.prototype.getSource=gb.prototype.Bn,gb.prototype.getStyle=gb.prototype.Cn,gb.prototype.getStyleFunction=gb.prototype.Dn,gb.prototype.setStyle=gb.prototype.ci,i("ol.source.ImageWMS",cw),cw.prototype.getGetFeatureInfoUrl=cw.prototype.Gn,cw.prototype.getParams=cw.prototype.In,cw.prototype.getImageLoadFunction=cw.prototype.Hn,cw.prototype.getUrl=cw.prototype.Jn,cw.prototype.setImageLoadFunction=cw.prototype.Kn,cw.prototype.setUrl=cw.prototype.Ln,cw.prototype.updateParams=cw.prototype.Mn,i("ol.source.OSM",gw),i("ol.source.OSM.ATTRIBUTION",bw),i("ol.source.Raster",ww),ww.prototype.setOperation=ww.prototype.A,Sw.prototype.extent=Sw.prototype.extent,Sw.prototype.resolution=Sw.prototype.resolution,Sw.prototype.data=Sw.prototype.data,i("ol.source.Source",Bv),Bv.prototype.getAttributions=Bv.prototype.xa,Bv.prototype.getLogo=Bv.prototype.wa,Bv.prototype.getProjection=Bv.prototype.ya,Bv.prototype.getState=Bv.prototype.V,Bv.prototype.refresh=Bv.prototype.va,Bv.prototype.setAttributions=Bv.prototype.ua,i("ol.source.Stamen",Cw),i("ol.source.Tile",Wb),Wb.prototype.getTileGrid=Wb.prototype.ab,Yb.prototype.tile=Yb.prototype.tile,i("ol.source.TileArcGISRest",jw),jw.prototype.getParams=jw.prototype.u,jw.prototype.updateParams=jw.prototype.A,i("ol.source.TileDebug",Iw),i("ol.source.TileImage",Kb),Kb.prototype.setRenderReprojectionEdges=Kb.prototype.Nb,Kb.prototype.setTileGridForProjection=Kb.prototype.Ob,i("ol.source.TileJSON",kw),kw.prototype.getTileJSON=kw.prototype.Vk,i("ol.source.TileUTFGrid",Dw),Dw.prototype.getTemplate=Dw.prototype.Sk,Dw.prototype.forDataAtCoordinateAndResolution=Dw.prototype.dk,i("ol.source.TileWMS",Gw),Gw.prototype.getGetFeatureInfoUrl=Gw.prototype.Tn,Gw.prototype.getParams=Gw.prototype.Un,Gw.prototype.updateParams=Gw.prototype.Vn,Hb.prototype.getTileLoadFunction=Hb.prototype.ob,Hb.prototype.getTileUrlFunction=Hb.prototype.qb,Hb.prototype.getUrls=Hb.prototype.rb,Hb.prototype.setTileLoadFunction=Hb.prototype.xb,Hb.prototype.setTileUrlFunction=Hb.prototype.bb,Hb.prototype.setUrl=Hb.prototype.jb,Hb.prototype.setUrls=Hb.prototype.cb,i("ol.source.Vector",Wv),Wv.prototype.addFeature=Wv.prototype.zb,Wv.prototype.addFeatures=Wv.prototype.dd,Wv.prototype.clear=Wv.prototype.clear,Wv.prototype.forEachFeature=Wv.prototype.bh,Wv.prototype.forEachFeatureInExtent=Wv.prototype.ac,Wv.prototype.forEachFeatureIntersectingExtent=Wv.prototype.dh,Wv.prototype.getFeaturesCollection=Wv.prototype.lh,Wv.prototype.getFeatures=Wv.prototype.Ne,Wv.prototype.getFeaturesAtCoordinate=Wv.prototype.kh,Wv.prototype.getFeaturesInExtent=Wv.prototype.Hf,Wv.prototype.getClosestFeatureToCoordinate=Wv.prototype.gh,Wv.prototype.getExtent=Wv.prototype.D,Wv.prototype.getFeatureById=Wv.prototype.jh,Wv.prototype.getFormat=Wv.prototype.hi,Wv.prototype.getUrl=Wv.prototype.ii,Wv.prototype.removeFeature=Wv.prototype.Db,Hv.prototype.feature=Hv.prototype.feature,i("ol.source.VectorTile",$w),i("ol.source.WMTS",Hw),Hw.prototype.getDimensions=Hw.prototype.rk,Hw.prototype.getFormat=Hw.prototype.Wn,Hw.prototype.getLayer=Hw.prototype.Xn,Hw.prototype.getMatrixSet=Hw.prototype.Fk,Hw.prototype.getRequestEncoding=Hw.prototype.Qk,Hw.prototype.getStyle=Hw.prototype.Yn,Hw.prototype.getVersion=Hw.prototype.Xk,Hw.prototype.updateDimensions=Hw.prototype.Gp,i("ol.source.WMTS.optionsFromCapabilities",function(t,r){var e,o,i,n=b(t.Contents.Layer,function(t){return t.Identifier==r.layer}),s=t.Contents.TileMatrixSet;(e=1<n.TileMatrixSetLink.length?w(n.TileMatrixSetLink,"projection"in r?function(e){var t=b(s,function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),o=Tt(t),i=Tt(r.projection);return o&&i?jt(o,i):t==r.projection}:function(t){return t.TileMatrixSet==r.matrixSet}):0)<0&&(e=0),o=n.TileMatrixSetLink[e].TileMatrixSet,i=n.TileMatrixSetLink[e].TileMatrixSetLimits;var a=n.Format[0];"format"in r&&(a=r.format),(e=w(n.Style,function(t){return"style"in r?t.Title==r.style:t.isDefault}))<0&&(e=0),e=n.Style[e].Identifier;var p={};"Dimension"in n&&n.Dimension.forEach(function(t){var e=t.Identifier,o=t.Default;void 0===o&&(o=t.Value[0]),p[e]=o});var h,l,u,c=b(t.Contents.TileMatrixSet,function(t){return t.Identifier==o});h=Tt("projection"in r?r.projection:c.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")),void 0!==(f=n.WGS84BoundingBox)&&(u=Tt("EPSG:4326").D(),u=f[0]==u[0]&&f[2]==u[2],l=Ot(f,"EPSG:4326",h),(f=h.D())&&(B(f,l)||(l=void 0))),i=Yw(c,l,i);var y=[];c=void 0!==(c=r.requestEncoding)?c:"";if("OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var f=0,d=(l=t.OperationsMetadata.GetTile.DCP.HTTP.Get).length;f<d;++f){var g=b(l[f].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===c&&(c=g[0]),"KVP"!==c)break;v(g,"KVP")&&y.push(l[f].href)}return y.length||(c="REST",n.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(a=t.format,y.push(t.template))})),{urls:y,layer:r.layer,matrixSet:o,format:a,projection:h,requestEncoding:c,tileGrid:i,style:e,dimensions:p,wrapX:u}}),i("ol.source.XYZ",ew),i("ol.source.Zoomify",Jw),ps.prototype.vectorContext=ps.prototype.vectorContext,ps.prototype.frameState=ps.prototype.frameState,ps.prototype.context=ps.prototype.context,ps.prototype.glContext=ps.prototype.glContext,gf.prototype.get=gf.prototype.get,gf.prototype.getExtent=gf.prototype.D,gf.prototype.getGeometry=gf.prototype.U,gf.prototype.getProperties=gf.prototype.mn,gf.prototype.getType=gf.prototype.T,i("ol.render.VectorContext",ys),Mp.prototype.setStyle=Mp.prototype.pd,Mp.prototype.drawGeometry=Mp.prototype.mc,Mp.prototype.drawFeature=Mp.prototype.oe,fs.prototype.drawCircle=fs.prototype.$b,fs.prototype.setStyle=fs.prototype.pd,fs.prototype.drawGeometry=fs.prototype.mc,fs.prototype.drawFeature=fs.prototype.oe,i("ol.proj.common.add",Bn),i("ol.proj.Projection",mt),mt.prototype.getCode=mt.prototype.nk,mt.prototype.getExtent=mt.prototype.D,mt.prototype.getUnits=mt.prototype.Jb,mt.prototype.getMetersPerUnit=mt.prototype.sc,mt.prototype.getWorldExtent=mt.prototype.Zk,mt.prototype.isGlobal=mt.prototype.Kl,mt.prototype.setGlobal=mt.prototype.pp,mt.prototype.setExtent=mt.prototype.ln,mt.prototype.setWorldExtent=mt.prototype.xp,mt.prototype.setGetPointResolution=mt.prototype.op,i("ol.proj.Units.METERS_PER_UNIT",gt),i("ol.layer.Base",Pn),Pn.prototype.getExtent=Pn.prototype.D,Pn.prototype.getMaxResolution=Pn.prototype.gc,Pn.prototype.getMinResolution=Pn.prototype.hc,Pn.prototype.getOpacity=Pn.prototype.ic,Pn.prototype.getVisible=Pn.prototype.Kb,Pn.prototype.getZIndex=Pn.prototype.za,Pn.prototype.setExtent=Pn.prototype.uc,Pn.prototype.setMaxResolution=Pn.prototype.zc,Pn.prototype.setMinResolution=Pn.prototype.Ac,Pn.prototype.setOpacity=Pn.prototype.vc,Pn.prototype.setVisible=Pn.prototype.wc,Pn.prototype.setZIndex=Pn.prototype.Wb,i("ol.layer.Group",Cn),Cn.prototype.getLayers=Cn.prototype.od,Cn.prototype.setLayers=Cn.prototype.Sh,i("ol.layer.Heatmap",Km),Km.prototype.getBlur=Km.prototype.fh,Km.prototype.getGradient=Km.prototype.mh,Km.prototype.getRadius=Km.prototype.Th,Km.prototype.setBlur=Km.prototype.Ei,Km.prototype.setGradient=Km.prototype.Ki,Km.prototype.setRadius=Km.prototype.Wc,i("ol.layer.Image",mb),mb.prototype.getSource=mb.prototype.la,i("ol.layer.Layer",Vn),Vn.prototype.getSource=Vn.prototype.la,Vn.prototype.setMap=Vn.prototype.setMap,Vn.prototype.setSource=Vn.prototype.Yc,i("ol.layer.Tile",Ab),Ab.prototype.getPreload=Ab.prototype.Pd,Ab.prototype.getSource=Ab.prototype.la,Ab.prototype.setPreload=Ab.prototype.Uh,Ab.prototype.getUseInterimTilesOnError=Ab.prototype.Td,Ab.prototype.setUseInterimTilesOnError=Ab.prototype.Vh,i("ol.layer.Vector",Fv),Fv.prototype.getSource=Fv.prototype.la,Fv.prototype.getStyle=Fv.prototype.C,Fv.prototype.getStyleFunction=Fv.prototype.G,Fv.prototype.setStyle=Fv.prototype.g,i("ol.layer.VectorTile",Rb),Rb.prototype.getPreload=Rb.prototype.Pd,Rb.prototype.getUseInterimTilesOnError=Rb.prototype.Td,Rb.prototype.setPreload=Rb.prototype.Wh,Rb.prototype.setUseInterimTilesOnError=Rb.prototype.Xh,i("ol.interaction.DoubleClickZoom",Lr),i("ol.interaction.DoubleClickZoom.handleEvent",Cr),i("ol.interaction.DragAndDrop",Fg),i("ol.interaction.DragAndDrop.handleEvent",xi),Vg.prototype.features=Vg.prototype.features,Vg.prototype.file=Vg.prototype.file,Vg.prototype.projection=Vg.prototype.projection,i("ol.interaction.DragBox",Jr),Jr.prototype.getGeometry=Jr.prototype.U,nn.prototype.coordinate=nn.prototype.coordinate,nn.prototype.mapBrowserEvent=nn.prototype.mapBrowserEvent,i("ol.interaction.DragPan",Ur),i("ol.interaction.DragRotate",Wr),i("ol.interaction.DragRotateAndZoom",Xg),i("ol.interaction.DragZoom",sn),i("ol.interaction.Draw",Kv),i("ol.interaction.Draw.handleEvent",Jv),Kv.prototype.removeLastPoint=Kv.prototype.cp,Kv.prototype.finishDrawing=Kv.prototype.Nd,Kv.prototype.extend=Kv.prototype.Om,i("ol.interaction.Draw.createRegularPolygon",function(s,a){return function(t,e){var o=t[0],i=t[1],r=Math.sqrt(vi(o,i)),n=e||pr(new Mg(o),s);return hr(n,o,r,a||Math.atan((i[1]-o[1])/(i[0]-o[0]))),n}}),i("ol.interaction.Draw.createBox",function(){return function(t,e){var o=L(t),i=e||new rr(null);return i.pa([[_(o),q(o),rt(o),it(o),_(o)]]),i}}),hm.prototype.feature=hm.prototype.feature,i("ol.interaction.Extent",lm),lm.prototype.getExtent=lm.prototype.D,lm.prototype.setExtent=lm.prototype.g,bm.prototype.extent_=bm.prototype.b,i("ol.interaction.Interaction",xr),xr.prototype.getActive=xr.prototype.c,xr.prototype.getMap=xr.prototype.i,xr.prototype.setActive=xr.prototype.Ia,i("ol.interaction.KeyboardPan",an),i("ol.interaction.KeyboardPan.handleEvent",pn),i("ol.interaction.KeyboardZoom",hn),i("ol.interaction.KeyboardZoom.handleEvent",ln),i("ol.interaction.Modify",xm),i("ol.interaction.Modify.handleEvent",Tm),xm.prototype.removePoint=xm.prototype.Ci,km.prototype.features=km.prototype.features,km.prototype.mapBrowserEvent=km.prototype.mapBrowserEvent,i("ol.interaction.MouseWheelZoom",un),i("ol.interaction.MouseWheelZoom.handleEvent",cn),un.prototype.setMouseAnchor=un.prototype.S,i("ol.interaction.PinchRotate",dn),i("ol.interaction.PinchZoom",bn),i("ol.interaction.Pointer",Or),i("ol.interaction.Pointer.handleEvent",Gr),i("ol.interaction.Select",Dm),Dm.prototype.getFeatures=Dm.prototype.Ym,Dm.prototype.getHitTolerance=Dm.prototype.Zm,Dm.prototype.getLayer=Dm.prototype.$m,i("ol.interaction.Select.handleEvent",Om),Dm.prototype.setHitTolerance=Dm.prototype.bn,Dm.prototype.setMap=Dm.prototype.setMap,Fm.prototype.selected=Fm.prototype.selected,Fm.prototype.deselected=Fm.prototype.deselected,Fm.prototype.mapBrowserEvent=Fm.prototype.mapBrowserEvent,i("ol.interaction.Snap",Um),Um.prototype.addFeature=Um.prototype.zb,Um.prototype.removeFeature=Um.prototype.Db,i("ol.interaction.Translate",Xm),Xm.prototype.getHitTolerance=Xm.prototype.G,Xm.prototype.setHitTolerance=Xm.prototype.R,Hm.prototype.features=Hm.prototype.features,Hm.prototype.coordinate=Hm.prototype.coordinate,i("ol.geom.Circle",Mg),Mg.prototype.clone=Mg.prototype.clone,Mg.prototype.getCenter=Mg.prototype.Ba,Mg.prototype.getRadius=Mg.prototype.Vd,Mg.prototype.getType=Mg.prototype.T,Mg.prototype.intersectsExtent=Mg.prototype.Xa,Mg.prototype.setCenter=Mg.prototype.wb,Mg.prototype.setCenterAndRadius=Mg.prototype.yg,Mg.prototype.setRadius=Mg.prototype.Wc,Mg.prototype.transform=Mg.prototype.tb,i("ol.geom.Geometry",Si),Si.prototype.getClosestPoint=Si.prototype.Ab,Si.prototype.intersectsCoordinate=Si.prototype.sb,Si.prototype.getExtent=Si.prototype.D,Si.prototype.rotate=Si.prototype.rotate,Si.prototype.scale=Si.prototype.scale,Si.prototype.simplify=Si.prototype.Pb,Si.prototype.transform=Si.prototype.tb,i("ol.geom.GeometryCollection",Ol),Ol.prototype.clone=Ol.prototype.clone,Ol.prototype.getGeometries=Ol.prototype.If,Ol.prototype.getType=Ol.prototype.T,Ol.prototype.intersectsExtent=Ol.prototype.Xa,Ol.prototype.setGeometries=Ol.prototype.Ji,Ol.prototype.applyTransform=Ol.prototype.Dc,Ol.prototype.translate=Ol.prototype.translate,i("ol.geom.LinearRing",zi),zi.prototype.clone=zi.prototype.clone,zi.prototype.getArea=zi.prototype.Km,zi.prototype.getCoordinates=zi.prototype.X,zi.prototype.getType=zi.prototype.T,zi.prototype.setCoordinates=zi.prototype.pa,i("ol.geom.LineString",Jh),Jh.prototype.appendCoordinate=Jh.prototype.Tj,Jh.prototype.clone=Jh.prototype.clone,Jh.prototype.forEachSegment=Jh.prototype.gk,Jh.prototype.getCoordinateAtM=Jh.prototype.Im,Jh.prototype.getCoordinates=Jh.prototype.X,Jh.prototype.getCoordinateAt=Jh.prototype.hh,Jh.prototype.getLength=Jh.prototype.Jm,Jh.prototype.getType=Jh.prototype.T,Jh.prototype.intersectsExtent=Jh.prototype.Xa,Jh.prototype.setCoordinates=Jh.prototype.pa,i("ol.geom.MultiLineString",qh),qh.prototype.appendLineString=qh.prototype.Uj,qh.prototype.clone=qh.prototype.clone,qh.prototype.getCoordinateAtM=qh.prototype.Lm,qh.prototype.getCoordinates=qh.prototype.X,qh.prototype.getLineString=qh.prototype.Dk,qh.prototype.getLineStrings=qh.prototype.hd,qh.prototype.getType=qh.prototype.T,qh.prototype.intersectsExtent=qh.prototype.Xa,qh.prototype.setCoordinates=qh.prototype.pa,i("ol.geom.MultiPoint",el),el.prototype.appendPoint=el.prototype.Wj,el.prototype.clone=el.prototype.clone,el.prototype.getCoordinates=el.prototype.X,el.prototype.getPoint=el.prototype.Ok,el.prototype.getPoints=el.prototype.Ie,el.prototype.getType=el.prototype.T,el.prototype.intersectsExtent=el.prototype.Xa,el.prototype.setCoordinates=el.prototype.pa,i("ol.geom.MultiPolygon",ol),ol.prototype.appendPolygon=ol.prototype.Xj,ol.prototype.clone=ol.prototype.clone,ol.prototype.getArea=ol.prototype.Mm,ol.prototype.getCoordinates=ol.prototype.X,ol.prototype.getInteriorPoints=ol.prototype.zk,ol.prototype.getPolygon=ol.prototype.Pk,ol.prototype.getPolygons=ol.prototype.Od,ol.prototype.getType=ol.prototype.T,ol.prototype.intersectsExtent=ol.prototype.Xa,ol.prototype.setCoordinates=ol.prototype.pa,i("ol.geom.Point",Zi),Zi.prototype.clone=Zi.prototype.clone,Zi.prototype.getCoordinates=Zi.prototype.X,Zi.prototype.getType=Zi.prototype.T,Zi.prototype.intersectsExtent=Zi.prototype.Xa,Zi.prototype.setCoordinates=Zi.prototype.pa,i("ol.geom.Polygon",rr),rr.prototype.appendLinearRing=rr.prototype.Vj,rr.prototype.clone=rr.prototype.clone,rr.prototype.getArea=rr.prototype.Nm,rr.prototype.getCoordinates=rr.prototype.X,rr.prototype.getInteriorPoint=rr.prototype.yk,rr.prototype.getLinearRingCount=rr.prototype.Ek,rr.prototype.getLinearRing=rr.prototype.nh,rr.prototype.getLinearRings=rr.prototype.jd,rr.prototype.getType=rr.prototype.T,rr.prototype.intersectsExtent=rr.prototype.Xa,rr.prototype.setCoordinates=rr.prototype.pa,i("ol.geom.Polygon.circular",sr),i("ol.geom.Polygon.fromExtent",ar),i("ol.geom.Polygon.fromCircle",pr),i("ol.geom.SimpleGeometry",Ci),Ci.prototype.getFirstCoordinate=Ci.prototype.bc,Ci.prototype.getLastCoordinate=Ci.prototype.cc,Ci.prototype.getLayout=Ci.prototype.dc,Ci.prototype.applyTransform=Ci.prototype.Dc,Ci.prototype.translate=Ci.prototype.translate,i("ol.format.EsriJSON",al),al.prototype.readFeature=al.prototype.Ub,al.prototype.readFeatures=al.prototype.Qa,al.prototype.readGeometry=al.prototype.Tc,al.prototype.readProjection=al.prototype.kb,al.prototype.writeGeometry=al.prototype.bd,al.prototype.writeGeometryObject=al.prototype.ee,al.prototype.writeFeature=al.prototype.yd,al.prototype.writeFeatureObject=al.prototype.ad,al.prototype.writeFeatures=al.prototype.Xb,al.prototype.writeFeaturesObject=al.prototype.ce,i("ol.format.Feature",Xh),i("ol.format.filter.and",kl),i("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Il,e))}),i("ol.format.filter.not",function(t){return new jl(t)}),i("ol.format.filter.bbox",Dl),i("ol.format.filter.intersects",function(t,e,o){return new Pl(t,e,o)}),i("ol.format.filter.within",function(t,e,o){return new Nl(t,e,o)}),i("ol.format.filter.equalTo",function(t,e,o){return new wl(t,e,o)}),i("ol.format.filter.notEqualTo",function(t,e,o){return new Rl(t,e,o)}),i("ol.format.filter.lessThan",function(t,e){return new El(t,e)}),i("ol.format.filter.lessThanOrEqualTo",function(t,e){return new Tl(t,e)}),i("ol.format.filter.greaterThan",function(t,e){return new xl(t,e)}),i("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Ml(t,e)}),i("ol.format.filter.isNull",function(t){return new Al(t)}),i("ol.format.filter.between",function(t,e,o){return new Ll(t,e,o)}),i("ol.format.filter.like",function(t,e,o,i,r,n){return new Cl(t,e,o,i,r,n)}),i("ol.format.GeoJSON",Bl),Bl.prototype.readFeature=Bl.prototype.Ub,Bl.prototype.readFeatures=Bl.prototype.Qa,Bl.prototype.readGeometry=Bl.prototype.Tc,Bl.prototype.readProjection=Bl.prototype.kb,Bl.prototype.writeFeature=Bl.prototype.yd,Bl.prototype.writeFeatureObject=Bl.prototype.ad,Bl.prototype.writeFeatures=Bl.prototype.Xb,Bl.prototype.writeFeaturesObject=Bl.prototype.ce,Bl.prototype.writeGeometry=Bl.prototype.bd,Bl.prototype.writeGeometryObject=Bl.prototype.ee,i("ol.format.GML",pu),pu.prototype.writeFeatures=pu.prototype.Xb,pu.prototype.writeFeaturesNode=pu.prototype.Yb,i("ol.format.GML2",vu),i("ol.format.GML3",pu),pu.prototype.writeGeometryNode=pu.prototype.de,pu.prototype.writeFeatures=pu.prototype.Xb,pu.prototype.writeFeaturesNode=pu.prototype.Yb,Hl.prototype.readFeatures=Hl.prototype.Qa,i("ol.format.GPX",mu),mu.prototype.readFeature=mu.prototype.Ub,mu.prototype.readFeatures=mu.prototype.Qa,mu.prototype.readProjection=mu.prototype.kb,mu.prototype.writeFeatures=mu.prototype.Xb,mu.prototype.writeFeaturesNode=mu.prototype.Yb,i("ol.format.IGC",ec),ec.prototype.readFeature=ec.prototype.Ub,ec.prototype.readFeatures=ec.prototype.Qa,ec.prototype.readProjection=ec.prototype.kb,i("ol.format.KML",Lc),Lc.prototype.readFeature=Lc.prototype.Ub,Lc.prototype.readFeatures=Lc.prototype.Qa,Lc.prototype.readName=Lc.prototype.Ro,Lc.prototype.readNetworkLinks=Lc.prototype.So,Lc.prototype.readRegion=Lc.prototype.Vo,Lc.prototype.readRegionFromNode=Lc.prototype.$e,Lc.prototype.readProjection=Lc.prototype.kb,Lc.prototype.writeFeatures=Lc.prototype.Xb,Lc.prototype.writeFeaturesNode=Lc.prototype.Yb,i("ol.format.MVT",vf),vf.prototype.readFeatures=vf.prototype.Qa,vf.prototype.readProjection=vf.prototype.kb,vf.prototype.setLayers=vf.prototype.Hm,i("ol.format.OSMXML",bf),bf.prototype.readFeatures=bf.prototype.Qa,bf.prototype.readProjection=bf.prototype.kb,i("ol.format.Polyline",zf),i("ol.format.Polyline.encodeDeltas",$f),i("ol.format.Polyline.decodeDeltas",Zf),i("ol.format.Polyline.encodeFloats",Yf),i("ol.format.Polyline.decodeFloats",Hf),zf.prototype.readFeature=zf.prototype.Ub,zf.prototype.readFeatures=zf.prototype.Qa,zf.prototype.readGeometry=zf.prototype.Tc,zf.prototype.readProjection=zf.prototype.kb,zf.prototype.writeGeometry=zf.prototype.bd,i("ol.format.TopoJSON",Kf),Kf.prototype.readFeatures=Kf.prototype.Qa,Kf.prototype.readProjection=Kf.prototype.kb,i("ol.format.WFS",ed),ed.prototype.readFeatures=ed.prototype.Qa,ed.prototype.readTransactionResponse=ed.prototype.j,ed.prototype.readFeatureCollectionMetadata=ed.prototype.l,ed.prototype.writeGetFeature=ed.prototype.o,ed.prototype.writeTransaction=ed.prototype.v,ed.prototype.readProjection=ed.prototype.kb,i("ol.format.WKT",bd),bd.prototype.readFeature=bd.prototype.Ub,bd.prototype.readFeatures=bd.prototype.Qa,bd.prototype.readGeometry=bd.prototype.Tc,bd.prototype.writeFeature=bd.prototype.yd,bd.prototype.writeFeatures=bd.prototype.Xb,bd.prototype.writeGeometry=bd.prototype.bd,i("ol.format.WMSCapabilities",Od),Od.prototype.read=Od.prototype.read,i("ol.format.WMSGetFeatureInfo",ng),ng.prototype.readFeatures=ng.prototype.Qa,i("ol.format.WMTSCapabilities",sg),sg.prototype.read=sg.prototype.read,i("ol.format.filter.And",gl),i("ol.format.filter.Bbox",vl),i("ol.format.filter.Comparison",ml),i("ol.format.filter.ComparisonBinary",bl),i("ol.format.filter.EqualTo",wl),i("ol.format.filter.Filter",fl),i("ol.format.filter.GreaterThan",xl),i("ol.format.filter.GreaterThanOrEqualTo",Ml),i("ol.format.filter.Intersects",Pl),i("ol.format.filter.IsBetween",Ll),i("ol.format.filter.IsLike",Cl),i("ol.format.filter.IsNull",Al),i("ol.format.filter.LessThan",El),i("ol.format.filter.LessThanOrEqualTo",Tl),i("ol.format.filter.Not",jl),i("ol.format.filter.NotEqualTo",Rl),i("ol.format.filter.Or",Il),i("ol.format.filter.Spatial",Sl),i("ol.format.filter.Within",Nl),i("ol.events.condition.altKeyOnly",function(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}),i("ol.events.condition.altShiftKeysOnly",Ar),i("ol.events.condition.always",xi),i("ol.events.condition.click",function(t){return"click"==t.type}),i("ol.events.condition.never",Mi),i("ol.events.condition.pointerMove",Tr),i("ol.events.condition.singleClick",jr),i("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),i("ol.events.condition.noModifierKeys",Rr),i("ol.events.condition.platformModifierKeyOnly",function(t){return!(t=t.originalEvent).altKey&&(mo?t.metaKey:t.ctrlKey)&&!t.shiftKey}),i("ol.events.condition.shiftKeyOnly",Ir),i("ol.events.condition.targetNotEditable",Nr),i("ol.events.condition.mouseOnly",kr),i("ol.events.condition.primaryAction",Dr),he.prototype.type=he.prototype.type,he.prototype.target=he.prototype.target,he.prototype.preventDefault=he.prototype.preventDefault,he.prototype.stopPropagation=he.prototype.stopPropagation,i("ol.control.Attribution",Fe),i("ol.control.Attribution.render",Ge),Fe.prototype.getCollapsible=Fe.prototype.xm,Fe.prototype.setCollapsible=Fe.prototype.Am,Fe.prototype.setCollapsed=Fe.prototype.zm,Fe.prototype.getCollapsed=Fe.prototype.wm,i("ol.control.Control",Oe),Oe.prototype.getMap=Oe.prototype.g,Oe.prototype.setMap=Oe.prototype.setMap,Oe.prototype.setTarget=Oe.prototype.i,i("ol.control.FullScreen",He),i("ol.control.MousePosition",to),i("ol.control.MousePosition.render",eo),to.prototype.getCoordinateFormat=to.prototype.ih,to.prototype.getProjection=to.prototype.Lh,to.prototype.setCoordinateFormat=to.prototype.Fi,to.prototype.setProjection=to.prototype.Mh,i("ol.control.OverviewMap",Up),i("ol.control.OverviewMap.render",Bp),Up.prototype.getCollapsible=Up.prototype.Dm,Up.prototype.setCollapsible=Up.prototype.Gm,Up.prototype.setCollapsed=Up.prototype.Fm,Up.prototype.getCollapsed=Up.prototype.Cm,Up.prototype.getOverviewMap=Up.prototype.Mk,i("ol.control.Rotate",ze),i("ol.control.Rotate.render",$e),i("ol.control.ScaleLine",zp),zp.prototype.getUnits=zp.prototype.Jb,i("ol.control.ScaleLine.render",Zp),zp.prototype.setUnits=zp.prototype.G,i("ol.control.Zoom",Ze),i("ol.control.ZoomSlider",Kp),i("ol.control.ZoomSlider.render",_p),i("ol.control.ZoomToExtent",th),fe.prototype.changed=fe.prototype.s,fe.prototype.dispatchEvent=fe.prototype.b,fe.prototype.getRevision=fe.prototype.L,fe.prototype.on=fe.prototype.J,fe.prototype.once=fe.prototype.once,fe.prototype.un=fe.prototype.K,be.prototype.get=be.prototype.get,be.prototype.getKeys=be.prototype.O,be.prototype.getProperties=be.prototype.N,be.prototype.set=be.prototype.set,be.prototype.setProperties=be.prototype.H,be.prototype.unset=be.prototype.P,be.prototype.changed=be.prototype.s,be.prototype.dispatchEvent=be.prototype.b,be.prototype.getRevision=be.prototype.L,be.prototype.on=be.prototype.J,be.prototype.once=be.prototype.once,be.prototype.un=be.prototype.K,Me.prototype.type=Me.prototype.type,Me.prototype.target=Me.prototype.target,Me.prototype.preventDefault=Me.prototype.preventDefault,Me.prototype.stopPropagation=Me.prototype.stopPropagation,eh.prototype.get=eh.prototype.get,eh.prototype.getKeys=eh.prototype.O,eh.prototype.getProperties=eh.prototype.N,eh.prototype.set=eh.prototype.set,eh.prototype.setProperties=eh.prototype.H,eh.prototype.unset=eh.prototype.P,eh.prototype.changed=eh.prototype.s,eh.prototype.dispatchEvent=eh.prototype.b,eh.prototype.getRevision=eh.prototype.L,eh.prototype.on=eh.prototype.J,eh.prototype.once=eh.prototype.once,eh.prototype.un=eh.prototype.K,mh.prototype.get=mh.prototype.get,mh.prototype.getKeys=mh.prototype.O,mh.prototype.getProperties=mh.prototype.N,mh.prototype.set=mh.prototype.set,mh.prototype.setProperties=mh.prototype.H,mh.prototype.unset=mh.prototype.P,mh.prototype.changed=mh.prototype.s,mh.prototype.dispatchEvent=mh.prototype.b,mh.prototype.getRevision=mh.prototype.L,mh.prototype.on=mh.prototype.J,mh.prototype.once=mh.prototype.once,mh.prototype.un=mh.prototype.K,xg.prototype.get=xg.prototype.get,xg.prototype.getKeys=xg.prototype.O,xg.prototype.getProperties=xg.prototype.N,xg.prototype.set=xg.prototype.set,xg.prototype.setProperties=xg.prototype.H,xg.prototype.unset=xg.prototype.P,xg.prototype.changed=xg.prototype.s,xg.prototype.dispatchEvent=xg.prototype.b,xg.prototype.getRevision=xg.prototype.L,xg.prototype.on=xg.prototype.J,xg.prototype.once=xg.prototype.once,xg.prototype.un=xg.prototype.K,Dg.prototype.getTileCoord=Dg.prototype.i,Dg.prototype.load=Dg.prototype.load,Tp.prototype.get=Tp.prototype.get,Tp.prototype.getKeys=Tp.prototype.O,Tp.prototype.getProperties=Tp.prototype.N,Tp.prototype.set=Tp.prototype.set,Tp.prototype.setProperties=Tp.prototype.H,Tp.prototype.unset=Tp.prototype.P,Tp.prototype.changed=Tp.prototype.s,Tp.prototype.dispatchEvent=Tp.prototype.b,Tp.prototype.getRevision=Tp.prototype.L,Tp.prototype.on=Tp.prototype.J,Tp.prototype.once=Tp.prototype.once,Tp.prototype.un=Tp.prototype.K,no.prototype.type=no.prototype.type,no.prototype.target=no.prototype.target,no.prototype.preventDefault=no.prototype.preventDefault,no.prototype.stopPropagation=no.prototype.stopPropagation,so.prototype.map=so.prototype.map,so.prototype.frameState=so.prototype.frameState,so.prototype.type=so.prototype.type,so.prototype.target=so.prototype.target,so.prototype.preventDefault=so.prototype.preventDefault,so.prototype.stopPropagation=so.prototype.stopPropagation,po.prototype.originalEvent=po.prototype.originalEvent,po.prototype.pixel=po.prototype.pixel,po.prototype.coordinate=po.prototype.coordinate,po.prototype.dragging=po.prototype.dragging,po.prototype.preventDefault=po.prototype.preventDefault,po.prototype.stopPropagation=po.prototype.stopPropagation,po.prototype.map=po.prototype.map,po.prototype.frameState=po.prototype.frameState,po.prototype.type=po.prototype.type,po.prototype.target=po.prototype.target,me.prototype.type=me.prototype.type,me.prototype.target=me.prototype.target,me.prototype.preventDefault=me.prototype.preventDefault,me.prototype.stopPropagation=me.prototype.stopPropagation,jp.prototype.get=jp.prototype.get,jp.prototype.getKeys=jp.prototype.O,jp.prototype.getProperties=jp.prototype.N,jp.prototype.set=jp.prototype.set,jp.prototype.setProperties=jp.prototype.H,jp.prototype.unset=jp.prototype.P,jp.prototype.changed=jp.prototype.s,jp.prototype.dispatchEvent=jp.prototype.b,jp.prototype.getRevision=jp.prototype.L,jp.prototype.on=jp.prototype.J,jp.prototype.once=jp.prototype.once,jp.prototype.un=jp.prototype.K,Ww.prototype.getTileCoord=Ww.prototype.i,Ww.prototype.load=Ww.prototype.load,lr.prototype.get=lr.prototype.get,lr.prototype.getKeys=lr.prototype.O,lr.prototype.getProperties=lr.prototype.N,lr.prototype.set=lr.prototype.set,lr.prototype.setProperties=lr.prototype.H,lr.prototype.unset=lr.prototype.P,lr.prototype.changed=lr.prototype.s,lr.prototype.dispatchEvent=lr.prototype.b,lr.prototype.getRevision=lr.prototype.L,lr.prototype.on=lr.prototype.J,lr.prototype.once=lr.prototype.once,lr.prototype.un=lr.prototype.K,Zw.prototype.forEachTileCoord=Zw.prototype.eh,Zw.prototype.getMaxZoom=Zw.prototype.oh,Zw.prototype.getMinZoom=Zw.prototype.ph,Zw.prototype.getOrigin=Zw.prototype.Qc,Zw.prototype.getResolution=Zw.prototype.La,Zw.prototype.getResolutions=Zw.prototype.oi,Zw.prototype.getTileCoordExtent=Zw.prototype.Ta,Zw.prototype.getTileCoordForCoordAndResolution=Zw.prototype.we,Zw.prototype.getTileCoordForCoordAndZ=Zw.prototype.Pf,Zw.prototype.getTileSize=Zw.prototype.fb,Zw.prototype.getZForResolution=Zw.prototype.Mc,ph.prototype.getOpacity=ph.prototype.Pe,ph.prototype.getRotateWithView=ph.prototype.Qe,ph.prototype.getRotation=ph.prototype.Re,ph.prototype.getScale=ph.prototype.Se,ph.prototype.getSnapToPixel=ph.prototype.ve,ph.prototype.setOpacity=ph.prototype.rd,ph.prototype.setRotation=ph.prototype.Te,ph.prototype.setScale=ph.prototype.sd,lh.prototype.clone=lh.prototype.clone,lh.prototype.getAngle=lh.prototype.ki,lh.prototype.getFill=lh.prototype.Ca,lh.prototype.getPoints=lh.prototype.li,lh.prototype.getRadius=lh.prototype.mi,lh.prototype.getRadius2=lh.prototype.sh,lh.prototype.getStroke=lh.prototype.Da,lh.prototype.getOpacity=lh.prototype.Pe,lh.prototype.getRotateWithView=lh.prototype.Qe,lh.prototype.getRotation=lh.prototype.Re,lh.prototype.getScale=lh.prototype.Se,lh.prototype.getSnapToPixel=lh.prototype.ve,lh.prototype.setOpacity=lh.prototype.rd,lh.prototype.setRotation=lh.prototype.Te,lh.prototype.setScale=lh.prototype.sd,Sc.prototype.getOpacity=Sc.prototype.Pe,Sc.prototype.getRotateWithView=Sc.prototype.Qe,Sc.prototype.getRotation=Sc.prototype.Re,Sc.prototype.getScale=Sc.prototype.Se,Sc.prototype.getSnapToPixel=Sc.prototype.ve,Sc.prototype.setOpacity=Sc.prototype.rd,Sc.prototype.setRotation=Sc.prototype.Te,Sc.prototype.setScale=Sc.prototype.sd,Bv.prototype.get=Bv.prototype.get,Bv.prototype.getKeys=Bv.prototype.O,Bv.prototype.getProperties=Bv.prototype.N,Bv.prototype.set=Bv.prototype.set,Bv.prototype.setProperties=Bv.prototype.H,Bv.prototype.unset=Bv.prototype.P,Bv.prototype.changed=Bv.prototype.s,Bv.prototype.dispatchEvent=Bv.prototype.b,Bv.prototype.getRevision=Bv.prototype.L,Bv.prototype.on=Bv.prototype.J,Bv.prototype.once=Bv.prototype.once,Bv.prototype.un=Bv.prototype.K,Wb.prototype.getAttributions=Wb.prototype.xa,Wb.prototype.getLogo=Wb.prototype.wa,Wb.prototype.getProjection=Wb.prototype.ya,Wb.prototype.getState=Wb.prototype.V,Wb.prototype.refresh=Wb.prototype.va,Wb.prototype.setAttributions=Wb.prototype.ua,Wb.prototype.get=Wb.prototype.get,Wb.prototype.getKeys=Wb.prototype.O,Wb.prototype.getProperties=Wb.prototype.N,Wb.prototype.set=Wb.prototype.set,Wb.prototype.setProperties=Wb.prototype.H,Wb.prototype.unset=Wb.prototype.P,Wb.prototype.changed=Wb.prototype.s,Wb.prototype.dispatchEvent=Wb.prototype.b,Wb.prototype.getRevision=Wb.prototype.L,Wb.prototype.on=Wb.prototype.J,Wb.prototype.once=Wb.prototype.once,Wb.prototype.un=Wb.prototype.K,Hb.prototype.getTileGrid=Hb.prototype.ab,Hb.prototype.refresh=Hb.prototype.va,Hb.prototype.getAttributions=Hb.prototype.xa,Hb.prototype.getLogo=Hb.prototype.wa,Hb.prototype.getProjection=Hb.prototype.ya,Hb.prototype.getState=Hb.prototype.V,Hb.prototype.setAttributions=Hb.prototype.ua,Hb.prototype.get=Hb.prototype.get,Hb.prototype.getKeys=Hb.prototype.O,Hb.prototype.getProperties=Hb.prototype.N,Hb.prototype.set=Hb.prototype.set,Hb.prototype.setProperties=Hb.prototype.H,Hb.prototype.unset=Hb.prototype.P,Hb.prototype.changed=Hb.prototype.s,Hb.prototype.dispatchEvent=Hb.prototype.b,Hb.prototype.getRevision=Hb.prototype.L,Hb.prototype.on=Hb.prototype.J,Hb.prototype.once=Hb.prototype.once,Hb.prototype.un=Hb.prototype.K,Kb.prototype.getTileLoadFunction=Kb.prototype.ob,Kb.prototype.getTileUrlFunction=Kb.prototype.qb,Kb.prototype.getUrls=Kb.prototype.rb,Kb.prototype.setTileLoadFunction=Kb.prototype.xb,Kb.prototype.setTileUrlFunction=Kb.prototype.bb,Kb.prototype.setUrl=Kb.prototype.jb,Kb.prototype.setUrls=Kb.prototype.cb,Kb.prototype.getTileGrid=Kb.prototype.ab,Kb.prototype.refresh=Kb.prototype.va,Kb.prototype.getAttributions=Kb.prototype.xa,Kb.prototype.getLogo=Kb.prototype.wa,Kb.prototype.getProjection=Kb.prototype.ya,Kb.prototype.getState=Kb.prototype.V,Kb.prototype.setAttributions=Kb.prototype.ua,Kb.prototype.get=Kb.prototype.get,Kb.prototype.getKeys=Kb.prototype.O,Kb.prototype.getProperties=Kb.prototype.N,Kb.prototype.set=Kb.prototype.set,Kb.prototype.setProperties=Kb.prototype.H,Kb.prototype.unset=Kb.prototype.P,Kb.prototype.changed=Kb.prototype.s,Kb.prototype.dispatchEvent=Kb.prototype.b,Kb.prototype.getRevision=Kb.prototype.L,Kb.prototype.on=Kb.prototype.J,Kb.prototype.once=Kb.prototype.once,Kb.prototype.un=Kb.prototype.K,Qb.prototype.setRenderReprojectionEdges=Qb.prototype.Nb,Qb.prototype.setTileGridForProjection=Qb.prototype.Ob,Qb.prototype.getTileLoadFunction=Qb.prototype.ob,Qb.prototype.getTileUrlFunction=Qb.prototype.qb,Qb.prototype.getUrls=Qb.prototype.rb,Qb.prototype.setTileLoadFunction=Qb.prototype.xb,Qb.prototype.setTileUrlFunction=Qb.prototype.bb,Qb.prototype.setUrl=Qb.prototype.jb,Qb.prototype.setUrls=Qb.prototype.cb,Qb.prototype.getTileGrid=Qb.prototype.ab,Qb.prototype.refresh=Qb.prototype.va,Qb.prototype.getAttributions=Qb.prototype.xa,Qb.prototype.getLogo=Qb.prototype.wa,Qb.prototype.getProjection=Qb.prototype.ya,Qb.prototype.getState=Qb.prototype.V,Qb.prototype.setAttributions=Qb.prototype.ua,Qb.prototype.get=Qb.prototype.get,Qb.prototype.getKeys=Qb.prototype.O,Qb.prototype.getProperties=Qb.prototype.N,Qb.prototype.set=Qb.prototype.set,Qb.prototype.setProperties=Qb.prototype.H,Qb.prototype.unset=Qb.prototype.P,Qb.prototype.changed=Qb.prototype.s,Qb.prototype.dispatchEvent=Qb.prototype.b,Qb.prototype.getRevision=Qb.prototype.L,Qb.prototype.on=Qb.prototype.J,Qb.prototype.once=Qb.prototype.once,Qb.prototype.un=Qb.prototype.K,ew.prototype.setRenderReprojectionEdges=ew.prototype.Nb,ew.prototype.setTileGridForProjection=ew.prototype.Ob,ew.prototype.getTileLoadFunction=ew.prototype.ob,ew.prototype.getTileUrlFunction=ew.prototype.qb,ew.prototype.getUrls=ew.prototype.rb,ew.prototype.setTileLoadFunction=ew.prototype.xb,ew.prototype.setTileUrlFunction=ew.prototype.bb,ew.prototype.setUrl=ew.prototype.jb,ew.prototype.setUrls=ew.prototype.cb,ew.prototype.getTileGrid=ew.prototype.ab,ew.prototype.refresh=ew.prototype.va,ew.prototype.getAttributions=ew.prototype.xa,ew.prototype.getLogo=ew.prototype.wa,ew.prototype.getProjection=ew.prototype.ya,ew.prototype.getState=ew.prototype.V,ew.prototype.setAttributions=ew.prototype.ua,ew.prototype.get=ew.prototype.get,ew.prototype.getKeys=ew.prototype.O,ew.prototype.getProperties=ew.prototype.N,ew.prototype.set=ew.prototype.set,ew.prototype.setProperties=ew.prototype.H,ew.prototype.unset=ew.prototype.P,ew.prototype.changed=ew.prototype.s,ew.prototype.dispatchEvent=ew.prototype.b,ew.prototype.getRevision=ew.prototype.L,ew.prototype.on=ew.prototype.J,ew.prototype.once=ew.prototype.once,ew.prototype.un=ew.prototype.K,ow.prototype.setRenderReprojectionEdges=ow.prototype.Nb,ow.prototype.setTileGridForProjection=ow.prototype.Ob,ow.prototype.getTileLoadFunction=ow.prototype.ob,ow.prototype.getTileUrlFunction=ow.prototype.qb,ow.prototype.getUrls=ow.prototype.rb,ow.prototype.setTileLoadFunction=ow.prototype.xb,ow.prototype.setTileUrlFunction=ow.prototype.bb,ow.prototype.setUrl=ow.prototype.jb,ow.prototype.setUrls=ow.prototype.cb,ow.prototype.getTileGrid=ow.prototype.ab,ow.prototype.refresh=ow.prototype.va,ow.prototype.getAttributions=ow.prototype.xa,ow.prototype.getLogo=ow.prototype.wa,ow.prototype.getProjection=ow.prototype.ya,ow.prototype.getState=ow.prototype.V,ow.prototype.setAttributions=ow.prototype.ua,ow.prototype.get=ow.prototype.get,ow.prototype.getKeys=ow.prototype.O,ow.prototype.getProperties=ow.prototype.N,ow.prototype.set=ow.prototype.set,ow.prototype.setProperties=ow.prototype.H,ow.prototype.unset=ow.prototype.P,ow.prototype.changed=ow.prototype.s,ow.prototype.dispatchEvent=ow.prototype.b,ow.prototype.getRevision=ow.prototype.L,ow.prototype.on=ow.prototype.J,ow.prototype.once=ow.prototype.once,ow.prototype.un=ow.prototype.K,Wv.prototype.getAttributions=Wv.prototype.xa,Wv.prototype.getLogo=Wv.prototype.wa,Wv.prototype.getProjection=Wv.prototype.ya,Wv.prototype.getState=Wv.prototype.V,Wv.prototype.refresh=Wv.prototype.va,Wv.prototype.setAttributions=Wv.prototype.ua,Wv.prototype.get=Wv.prototype.get,Wv.prototype.getKeys=Wv.prototype.O,Wv.prototype.getProperties=Wv.prototype.N,Wv.prototype.set=Wv.prototype.set,Wv.prototype.setProperties=Wv.prototype.H,Wv.prototype.unset=Wv.prototype.P,Wv.prototype.changed=Wv.prototype.s,Wv.prototype.dispatchEvent=Wv.prototype.b,Wv.prototype.getRevision=Wv.prototype.L,Wv.prototype.on=Wv.prototype.J,Wv.prototype.once=Wv.prototype.once,Wv.prototype.un=Wv.prototype.K,nw.prototype.addFeature=nw.prototype.zb,nw.prototype.addFeatures=nw.prototype.dd,nw.prototype.clear=nw.prototype.clear,nw.prototype.forEachFeature=nw.prototype.bh,nw.prototype.forEachFeatureInExtent=nw.prototype.ac,nw.prototype.forEachFeatureIntersectingExtent=nw.prototype.dh,nw.prototype.getFeaturesCollection=nw.prototype.lh,nw.prototype.getFeatures=nw.prototype.Ne,nw.prototype.getFeaturesAtCoordinate=nw.prototype.kh,nw.prototype.getFeaturesInExtent=nw.prototype.Hf,nw.prototype.getClosestFeatureToCoordinate=nw.prototype.gh,nw.prototype.getExtent=nw.prototype.D,nw.prototype.getFeatureById=nw.prototype.jh,nw.prototype.getFormat=nw.prototype.hi,nw.prototype.getUrl=nw.prototype.ii,nw.prototype.removeFeature=nw.prototype.Db,nw.prototype.getAttributions=nw.prototype.xa,nw.prototype.getLogo=nw.prototype.wa,nw.prototype.getProjection=nw.prototype.ya,nw.prototype.getState=nw.prototype.V,nw.prototype.refresh=nw.prototype.va,nw.prototype.setAttributions=nw.prototype.ua,nw.prototype.get=nw.prototype.get,nw.prototype.getKeys=nw.prototype.O,nw.prototype.getProperties=nw.prototype.N,nw.prototype.set=nw.prototype.set,nw.prototype.setProperties=nw.prototype.H,nw.prototype.unset=nw.prototype.P,nw.prototype.changed=nw.prototype.s,nw.prototype.dispatchEvent=nw.prototype.b,nw.prototype.getRevision=nw.prototype.L,nw.prototype.on=nw.prototype.J,nw.prototype.once=nw.prototype.once,nw.prototype.un=nw.prototype.K,pb.prototype.getAttributions=pb.prototype.xa,pb.prototype.getLogo=pb.prototype.wa,pb.prototype.getProjection=pb.prototype.ya,pb.prototype.getState=pb.prototype.V,pb.prototype.refresh=pb.prototype.va,pb.prototype.setAttributions=pb.prototype.ua,pb.prototype.get=pb.prototype.get,pb.prototype.getKeys=pb.prototype.O,pb.prototype.getProperties=pb.prototype.N,pb.prototype.set=pb.prototype.set,pb.prototype.setProperties=pb.prototype.H,pb.prototype.unset=pb.prototype.P,pb.prototype.changed=pb.prototype.s,pb.prototype.dispatchEvent=pb.prototype.b,pb.prototype.getRevision=pb.prototype.L,pb.prototype.on=pb.prototype.J,pb.prototype.once=pb.prototype.once,pb.prototype.un=pb.prototype.K,ub.prototype.type=ub.prototype.type,ub.prototype.target=ub.prototype.target,ub.prototype.preventDefault=ub.prototype.preventDefault,ub.prototype.stopPropagation=ub.prototype.stopPropagation,hw.prototype.getAttributions=hw.prototype.xa,hw.prototype.getLogo=hw.prototype.wa,hw.prototype.getProjection=hw.prototype.ya,hw.prototype.getState=hw.prototype.V,hw.prototype.refresh=hw.prototype.va,hw.prototype.setAttributions=hw.prototype.ua,hw.prototype.get=hw.prototype.get,hw.prototype.getKeys=hw.prototype.O,hw.prototype.getProperties=hw.prototype.N,hw.prototype.set=hw.prototype.set,hw.prototype.setProperties=hw.prototype.H,hw.prototype.unset=hw.prototype.P,hw.prototype.changed=hw.prototype.s,hw.prototype.dispatchEvent=hw.prototype.b,hw.prototype.getRevision=hw.prototype.L,hw.prototype.on=hw.prototype.J,hw.prototype.once=hw.prototype.once,hw.prototype.un=hw.prototype.K,db.prototype.getAttributions=db.prototype.xa,db.prototype.getLogo=db.prototype.wa,db.prototype.getProjection=db.prototype.ya,db.prototype.getState=db.prototype.V,db.prototype.refresh=db.prototype.va,db.prototype.setAttributions=db.prototype.ua,db.prototype.get=db.prototype.get,db.prototype.getKeys=db.prototype.O,db.prototype.getProperties=db.prototype.N,db.prototype.set=db.prototype.set,db.prototype.setProperties=db.prototype.H,db.prototype.unset=db.prototype.P,db.prototype.changed=db.prototype.s,db.prototype.dispatchEvent=db.prototype.b,db.prototype.getRevision=db.prototype.L,db.prototype.on=db.prototype.J,db.prototype.once=db.prototype.once,db.prototype.un=db.prototype.K,lw.prototype.getAttributions=lw.prototype.xa,lw.prototype.getLogo=lw.prototype.wa,lw.prototype.getProjection=lw.prototype.ya,lw.prototype.getState=lw.prototype.V,lw.prototype.refresh=lw.prototype.va,lw.prototype.setAttributions=lw.prototype.ua,lw.prototype.get=lw.prototype.get,lw.prototype.getKeys=lw.prototype.O,lw.prototype.getProperties=lw.prototype.N,lw.prototype.set=lw.prototype.set,lw.prototype.setProperties=lw.prototype.H,lw.prototype.unset=lw.prototype.P,lw.prototype.changed=lw.prototype.s,lw.prototype.dispatchEvent=lw.prototype.b,lw.prototype.getRevision=lw.prototype.L,lw.prototype.on=lw.prototype.J,lw.prototype.once=lw.prototype.once,lw.prototype.un=lw.prototype.K,uw.prototype.getAttributions=uw.prototype.xa,uw.prototype.getLogo=uw.prototype.wa,uw.prototype.getProjection=uw.prototype.ya,uw.prototype.getState=uw.prototype.V,uw.prototype.refresh=uw.prototype.va,uw.prototype.setAttributions=uw.prototype.ua,uw.prototype.get=uw.prototype.get,uw.prototype.getKeys=uw.prototype.O,uw.prototype.getProperties=uw.prototype.N,uw.prototype.set=uw.prototype.set,uw.prototype.setProperties=uw.prototype.H,uw.prototype.unset=uw.prototype.P,uw.prototype.changed=uw.prototype.s,uw.prototype.dispatchEvent=uw.prototype.b,uw.prototype.getRevision=uw.prototype.L,uw.prototype.on=uw.prototype.J,uw.prototype.once=uw.prototype.once,uw.prototype.un=uw.prototype.K,gb.prototype.getAttributions=gb.prototype.xa,gb.prototype.getLogo=gb.prototype.wa,gb.prototype.getProjection=gb.prototype.ya,gb.prototype.getState=gb.prototype.V,gb.prototype.refresh=gb.prototype.va,gb.prototype.setAttributions=gb.prototype.ua,gb.prototype.get=gb.prototype.get,gb.prototype.getKeys=gb.prototype.O,gb.prototype.getProperties=gb.prototype.N,gb.prototype.set=gb.prototype.set,gb.prototype.setProperties=gb.prototype.H,gb.prototype.unset=gb.prototype.P,gb.prototype.changed=gb.prototype.s,gb.prototype.dispatchEvent=gb.prototype.b,gb.prototype.getRevision=gb.prototype.L,gb.prototype.on=gb.prototype.J,gb.prototype.once=gb.prototype.once,gb.prototype.un=gb.prototype.K,cw.prototype.getAttributions=cw.prototype.xa,cw.prototype.getLogo=cw.prototype.wa,cw.prototype.getProjection=cw.prototype.ya,cw.prototype.getState=cw.prototype.V,cw.prototype.refresh=cw.prototype.va,cw.prototype.setAttributions=cw.prototype.ua,cw.prototype.get=cw.prototype.get,cw.prototype.getKeys=cw.prototype.O,cw.prototype.getProperties=cw.prototype.N,cw.prototype.set=cw.prototype.set,cw.prototype.setProperties=cw.prototype.H,cw.prototype.unset=cw.prototype.P,cw.prototype.changed=cw.prototype.s,cw.prototype.dispatchEvent=cw.prototype.b,cw.prototype.getRevision=cw.prototype.L,cw.prototype.on=cw.prototype.J,cw.prototype.once=cw.prototype.once,cw.prototype.un=cw.prototype.K,gw.prototype.setRenderReprojectionEdges=gw.prototype.Nb,gw.prototype.setTileGridForProjection=gw.prototype.Ob,gw.prototype.getTileLoadFunction=gw.prototype.ob,gw.prototype.getTileUrlFunction=gw.prototype.qb,gw.prototype.getUrls=gw.prototype.rb,gw.prototype.setTileLoadFunction=gw.prototype.xb,gw.prototype.setTileUrlFunction=gw.prototype.bb,gw.prototype.setUrl=gw.prototype.jb,gw.prototype.setUrls=gw.prototype.cb,gw.prototype.getTileGrid=gw.prototype.ab,gw.prototype.refresh=gw.prototype.va,gw.prototype.getAttributions=gw.prototype.xa,gw.prototype.getLogo=gw.prototype.wa,gw.prototype.getProjection=gw.prototype.ya,gw.prototype.getState=gw.prototype.V,gw.prototype.setAttributions=gw.prototype.ua,gw.prototype.get=gw.prototype.get,gw.prototype.getKeys=gw.prototype.O,gw.prototype.getProperties=gw.prototype.N,gw.prototype.set=gw.prototype.set,gw.prototype.setProperties=gw.prototype.H,gw.prototype.unset=gw.prototype.P,gw.prototype.changed=gw.prototype.s,gw.prototype.dispatchEvent=gw.prototype.b,gw.prototype.getRevision=gw.prototype.L,gw.prototype.on=gw.prototype.J,gw.prototype.once=gw.prototype.once,gw.prototype.un=gw.prototype.K,ww.prototype.getAttributions=ww.prototype.xa,ww.prototype.getLogo=ww.prototype.wa,ww.prototype.getProjection=ww.prototype.ya,ww.prototype.getState=ww.prototype.V,ww.prototype.refresh=ww.prototype.va,ww.prototype.setAttributions=ww.prototype.ua,ww.prototype.get=ww.prototype.get,ww.prototype.getKeys=ww.prototype.O,ww.prototype.getProperties=ww.prototype.N,ww.prototype.set=ww.prototype.set,ww.prototype.setProperties=ww.prototype.H,ww.prototype.unset=ww.prototype.P,ww.prototype.changed=ww.prototype.s,ww.prototype.dispatchEvent=ww.prototype.b,ww.prototype.getRevision=ww.prototype.L,ww.prototype.on=ww.prototype.J,ww.prototype.once=ww.prototype.once,ww.prototype.un=ww.prototype.K,Sw.prototype.type=Sw.prototype.type,Sw.prototype.target=Sw.prototype.target,Sw.prototype.preventDefault=Sw.prototype.preventDefault,Sw.prototype.stopPropagation=Sw.prototype.stopPropagation,Cw.prototype.setRenderReprojectionEdges=Cw.prototype.Nb,Cw.prototype.setTileGridForProjection=Cw.prototype.Ob,Cw.prototype.getTileLoadFunction=Cw.prototype.ob,Cw.prototype.getTileUrlFunction=Cw.prototype.qb,Cw.prototype.getUrls=Cw.prototype.rb,Cw.prototype.setTileLoadFunction=Cw.prototype.xb,Cw.prototype.setTileUrlFunction=Cw.prototype.bb,Cw.prototype.setUrl=Cw.prototype.jb,Cw.prototype.setUrls=Cw.prototype.cb,Cw.prototype.getTileGrid=Cw.prototype.ab,Cw.prototype.refresh=Cw.prototype.va,Cw.prototype.getAttributions=Cw.prototype.xa,Cw.prototype.getLogo=Cw.prototype.wa,Cw.prototype.getProjection=Cw.prototype.ya,Cw.prototype.getState=Cw.prototype.V,Cw.prototype.setAttributions=Cw.prototype.ua,Cw.prototype.get=Cw.prototype.get,Cw.prototype.getKeys=Cw.prototype.O,Cw.prototype.getProperties=Cw.prototype.N,Cw.prototype.set=Cw.prototype.set,Cw.prototype.setProperties=Cw.prototype.H,Cw.prototype.unset=Cw.prototype.P,Cw.prototype.changed=Cw.prototype.s,Cw.prototype.dispatchEvent=Cw.prototype.b,Cw.prototype.getRevision=Cw.prototype.L,Cw.prototype.on=Cw.prototype.J,Cw.prototype.once=Cw.prototype.once,Cw.prototype.un=Cw.prototype.K,Yb.prototype.type=Yb.prototype.type,Yb.prototype.target=Yb.prototype.target,Yb.prototype.preventDefault=Yb.prototype.preventDefault,Yb.prototype.stopPropagation=Yb.prototype.stopPropagation,jw.prototype.setRenderReprojectionEdges=jw.prototype.Nb,jw.prototype.setTileGridForProjection=jw.prototype.Ob,jw.prototype.getTileLoadFunction=jw.prototype.ob,jw.prototype.getTileUrlFunction=jw.prototype.qb,jw.prototype.getUrls=jw.prototype.rb,jw.prototype.setTileLoadFunction=jw.prototype.xb,jw.prototype.setTileUrlFunction=jw.prototype.bb,jw.prototype.setUrl=jw.prototype.jb,jw.prototype.setUrls=jw.prototype.cb,jw.prototype.getTileGrid=jw.prototype.ab,jw.prototype.refresh=jw.prototype.va,jw.prototype.getAttributions=jw.prototype.xa,jw.prototype.getLogo=jw.prototype.wa,jw.prototype.getProjection=jw.prototype.ya,jw.prototype.getState=jw.prototype.V,jw.prototype.setAttributions=jw.prototype.ua,jw.prototype.get=jw.prototype.get,jw.prototype.getKeys=jw.prototype.O,jw.prototype.getProperties=jw.prototype.N,jw.prototype.set=jw.prototype.set,jw.prototype.setProperties=jw.prototype.H,jw.prototype.unset=jw.prototype.P,jw.prototype.changed=jw.prototype.s,jw.prototype.dispatchEvent=jw.prototype.b,jw.prototype.getRevision=jw.prototype.L,jw.prototype.on=jw.prototype.J,jw.prototype.once=jw.prototype.once,jw.prototype.un=jw.prototype.K,Iw.prototype.getTileGrid=Iw.prototype.ab,Iw.prototype.refresh=Iw.prototype.va,Iw.prototype.getAttributions=Iw.prototype.xa,Iw.prototype.getLogo=Iw.prototype.wa,Iw.prototype.getProjection=Iw.prototype.ya,Iw.prototype.getState=Iw.prototype.V,Iw.prototype.setAttributions=Iw.prototype.ua,Iw.prototype.get=Iw.prototype.get,Iw.prototype.getKeys=Iw.prototype.O,Iw.prototype.getProperties=Iw.prototype.N,Iw.prototype.set=Iw.prototype.set,Iw.prototype.setProperties=Iw.prototype.H,Iw.prototype.unset=Iw.prototype.P,Iw.prototype.changed=Iw.prototype.s,Iw.prototype.dispatchEvent=Iw.prototype.b,Iw.prototype.getRevision=Iw.prototype.L,Iw.prototype.on=Iw.prototype.J,Iw.prototype.once=Iw.prototype.once,Iw.prototype.un=Iw.prototype.K,kw.prototype.setRenderReprojectionEdges=kw.prototype.Nb,kw.prototype.setTileGridForProjection=kw.prototype.Ob,kw.prototype.getTileLoadFunction=kw.prototype.ob,kw.prototype.getTileUrlFunction=kw.prototype.qb,kw.prototype.getUrls=kw.prototype.rb,kw.prototype.setTileLoadFunction=kw.prototype.xb,kw.prototype.setTileUrlFunction=kw.prototype.bb,kw.prototype.setUrl=kw.prototype.jb,kw.prototype.setUrls=kw.prototype.cb,kw.prototype.getTileGrid=kw.prototype.ab,kw.prototype.refresh=kw.prototype.va,kw.prototype.getAttributions=kw.prototype.xa,kw.prototype.getLogo=kw.prototype.wa,kw.prototype.getProjection=kw.prototype.ya,kw.prototype.getState=kw.prototype.V,kw.prototype.setAttributions=kw.prototype.ua,kw.prototype.get=kw.prototype.get,kw.prototype.getKeys=kw.prototype.O,kw.prototype.getProperties=kw.prototype.N,kw.prototype.set=kw.prototype.set,kw.prototype.setProperties=kw.prototype.H,kw.prototype.unset=kw.prototype.P,kw.prototype.changed=kw.prototype.s,kw.prototype.dispatchEvent=kw.prototype.b,kw.prototype.getRevision=kw.prototype.L,kw.prototype.on=kw.prototype.J,kw.prototype.once=kw.prototype.once,kw.prototype.un=kw.prototype.K,Dw.prototype.getTileGrid=Dw.prototype.ab,Dw.prototype.refresh=Dw.prototype.va,Dw.prototype.getAttributions=Dw.prototype.xa,Dw.prototype.getLogo=Dw.prototype.wa,Dw.prototype.getProjection=Dw.prototype.ya,Dw.prototype.getState=Dw.prototype.V,Dw.prototype.setAttributions=Dw.prototype.ua,Dw.prototype.get=Dw.prototype.get,Dw.prototype.getKeys=Dw.prototype.O,Dw.prototype.getProperties=Dw.prototype.N,Dw.prototype.set=Dw.prototype.set,Dw.prototype.setProperties=Dw.prototype.H,Dw.prototype.unset=Dw.prototype.P,Dw.prototype.changed=Dw.prototype.s,Dw.prototype.dispatchEvent=Dw.prototype.b,Dw.prototype.getRevision=Dw.prototype.L,Dw.prototype.on=Dw.prototype.J,Dw.prototype.once=Dw.prototype.once,Dw.prototype.un=Dw.prototype.K,Gw.prototype.setRenderReprojectionEdges=Gw.prototype.Nb,Gw.prototype.setTileGridForProjection=Gw.prototype.Ob,Gw.prototype.getTileLoadFunction=Gw.prototype.ob,Gw.prototype.getTileUrlFunction=Gw.prototype.qb,Gw.prototype.getUrls=Gw.prototype.rb,Gw.prototype.setTileLoadFunction=Gw.prototype.xb,Gw.prototype.setTileUrlFunction=Gw.prototype.bb,Gw.prototype.setUrl=Gw.prototype.jb,Gw.prototype.setUrls=Gw.prototype.cb,Gw.prototype.getTileGrid=Gw.prototype.ab,Gw.prototype.refresh=Gw.prototype.va,Gw.prototype.getAttributions=Gw.prototype.xa,Gw.prototype.getLogo=Gw.prototype.wa,Gw.prototype.getProjection=Gw.prototype.ya,Gw.prototype.getState=Gw.prototype.V,Gw.prototype.setAttributions=Gw.prototype.ua,Gw.prototype.get=Gw.prototype.get,Gw.prototype.getKeys=Gw.prototype.O,Gw.prototype.getProperties=Gw.prototype.N,Gw.prototype.set=Gw.prototype.set,Gw.prototype.setProperties=Gw.prototype.H,Gw.prototype.unset=Gw.prototype.P,Gw.prototype.changed=Gw.prototype.s,Gw.prototype.dispatchEvent=Gw.prototype.b,Gw.prototype.getRevision=Gw.prototype.L,Gw.prototype.on=Gw.prototype.J,Gw.prototype.once=Gw.prototype.once,Gw.prototype.un=Gw.prototype.K,Hv.prototype.type=Hv.prototype.type,Hv.prototype.target=Hv.prototype.target,Hv.prototype.preventDefault=Hv.prototype.preventDefault,Hv.prototype.stopPropagation=Hv.prototype.stopPropagation,$w.prototype.getTileLoadFunction=$w.prototype.ob,$w.prototype.getTileUrlFunction=$w.prototype.qb,$w.prototype.getUrls=$w.prototype.rb,$w.prototype.setTileLoadFunction=$w.prototype.xb,$w.prototype.setTileUrlFunction=$w.prototype.bb,$w.prototype.setUrl=$w.prototype.jb,$w.prototype.setUrls=$w.prototype.cb,$w.prototype.getTileGrid=$w.prototype.ab,$w.prototype.refresh=$w.prototype.va,$w.prototype.getAttributions=$w.prototype.xa,$w.prototype.getLogo=$w.prototype.wa,$w.prototype.getProjection=$w.prototype.ya,$w.prototype.getState=$w.prototype.V,$w.prototype.setAttributions=$w.prototype.ua,$w.prototype.get=$w.prototype.get,$w.prototype.getKeys=$w.prototype.O,$w.prototype.getProperties=$w.prototype.N,$w.prototype.set=$w.prototype.set,$w.prototype.setProperties=$w.prototype.H,$w.prototype.unset=$w.prototype.P,$w.prototype.changed=$w.prototype.s,$w.prototype.dispatchEvent=$w.prototype.b,$w.prototype.getRevision=$w.prototype.L,$w.prototype.on=$w.prototype.J,$w.prototype.once=$w.prototype.once,$w.prototype.un=$w.prototype.K,Hw.prototype.setRenderReprojectionEdges=Hw.prototype.Nb,Hw.prototype.setTileGridForProjection=Hw.prototype.Ob,Hw.prototype.getTileLoadFunction=Hw.prototype.ob,Hw.prototype.getTileUrlFunction=Hw.prototype.qb,Hw.prototype.getUrls=Hw.prototype.rb,Hw.prototype.setTileLoadFunction=Hw.prototype.xb,Hw.prototype.setTileUrlFunction=Hw.prototype.bb,Hw.prototype.setUrl=Hw.prototype.jb,Hw.prototype.setUrls=Hw.prototype.cb,Hw.prototype.getTileGrid=Hw.prototype.ab,Hw.prototype.refresh=Hw.prototype.va,Hw.prototype.getAttributions=Hw.prototype.xa,Hw.prototype.getLogo=Hw.prototype.wa,Hw.prototype.getProjection=Hw.prototype.ya,Hw.prototype.getState=Hw.prototype.V,Hw.prototype.setAttributions=Hw.prototype.ua,Hw.prototype.get=Hw.prototype.get,Hw.prototype.getKeys=Hw.prototype.O,Hw.prototype.getProperties=Hw.prototype.N,Hw.prototype.set=Hw.prototype.set,Hw.prototype.setProperties=Hw.prototype.H,Hw.prototype.unset=Hw.prototype.P,Hw.prototype.changed=Hw.prototype.s,Hw.prototype.dispatchEvent=Hw.prototype.b,Hw.prototype.getRevision=Hw.prototype.L,Hw.prototype.on=Hw.prototype.J,Hw.prototype.once=Hw.prototype.once,Hw.prototype.un=Hw.prototype.K,Jw.prototype.setRenderReprojectionEdges=Jw.prototype.Nb,Jw.prototype.setTileGridForProjection=Jw.prototype.Ob,Jw.prototype.getTileLoadFunction=Jw.prototype.ob,Jw.prototype.getTileUrlFunction=Jw.prototype.qb,Jw.prototype.getUrls=Jw.prototype.rb,Jw.prototype.setTileLoadFunction=Jw.prototype.xb,Jw.prototype.setTileUrlFunction=Jw.prototype.bb,Jw.prototype.setUrl=Jw.prototype.jb,Jw.prototype.setUrls=Jw.prototype.cb,Jw.prototype.getTileGrid=Jw.prototype.ab,Jw.prototype.refresh=Jw.prototype.va,Jw.prototype.getAttributions=Jw.prototype.xa,Jw.prototype.getLogo=Jw.prototype.wa,Jw.prototype.getProjection=Jw.prototype.ya,Jw.prototype.getState=Jw.prototype.V,Jw.prototype.setAttributions=Jw.prototype.ua,Jw.prototype.get=Jw.prototype.get,Jw.prototype.getKeys=Jw.prototype.O,Jw.prototype.getProperties=Jw.prototype.N,Jw.prototype.set=Jw.prototype.set,Jw.prototype.setProperties=Jw.prototype.H,Jw.prototype.unset=Jw.prototype.P,Jw.prototype.changed=Jw.prototype.s,Jw.prototype.dispatchEvent=Jw.prototype.b,Jw.prototype.getRevision=Jw.prototype.L,Jw.prototype.on=Jw.prototype.J,Jw.prototype.once=Jw.prototype.once,Jw.prototype.un=Jw.prototype.K,Db.prototype.getTileCoord=Db.prototype.i,Db.prototype.load=Db.prototype.load,cv.prototype.changed=cv.prototype.s,cv.prototype.dispatchEvent=cv.prototype.b,cv.prototype.getRevision=cv.prototype.L,cv.prototype.on=cv.prototype.J,cv.prototype.once=cv.prototype.once,cv.prototype.un=cv.prototype.K,kv.prototype.changed=kv.prototype.s,kv.prototype.dispatchEvent=kv.prototype.b,kv.prototype.getRevision=kv.prototype.L,kv.prototype.on=kv.prototype.J,kv.prototype.once=kv.prototype.once,kv.prototype.un=kv.prototype.K,vb.prototype.changed=vb.prototype.s,vb.prototype.dispatchEvent=vb.prototype.b,vb.prototype.getRevision=vb.prototype.L,vb.prototype.on=vb.prototype.J,vb.prototype.once=vb.prototype.once,vb.prototype.un=vb.prototype.K,Cb.prototype.changed=Cb.prototype.s,Cb.prototype.dispatchEvent=Cb.prototype.b,Cb.prototype.getRevision=Cb.prototype.L,Cb.prototype.on=Cb.prototype.J,Cb.prototype.once=Cb.prototype.once,Cb.prototype.un=Cb.prototype.K,Ov.prototype.changed=Ov.prototype.s,Ov.prototype.dispatchEvent=Ov.prototype.b,Ov.prototype.getRevision=Ov.prototype.L,Ov.prototype.on=Ov.prototype.J,Ov.prototype.once=Ov.prototype.once,Ov.prototype.un=Ov.prototype.K,wv.prototype.changed=wv.prototype.s,wv.prototype.dispatchEvent=wv.prototype.b,wv.prototype.getRevision=wv.prototype.L,wv.prototype.on=wv.prototype.J,wv.prototype.once=wv.prototype.once,wv.prototype.un=wv.prototype.K,tb.prototype.changed=tb.prototype.s,tb.prototype.dispatchEvent=tb.prototype.b,tb.prototype.getRevision=tb.prototype.L,tb.prototype.on=tb.prototype.J,tb.prototype.once=tb.prototype.once,tb.prototype.un=tb.prototype.K,eb.prototype.changed=eb.prototype.s,eb.prototype.dispatchEvent=eb.prototype.b,eb.prototype.getRevision=eb.prototype.L,eb.prototype.on=eb.prototype.J,eb.prototype.once=eb.prototype.once,eb.prototype.un=eb.prototype.K,bb.prototype.changed=bb.prototype.s,bb.prototype.dispatchEvent=bb.prototype.b,bb.prototype.getRevision=bb.prototype.L,bb.prototype.on=bb.prototype.J,bb.prototype.once=bb.prototype.once,bb.prototype.un=bb.prototype.K,Ev.prototype.changed=Ev.prototype.s,Ev.prototype.dispatchEvent=Ev.prototype.b,Ev.prototype.getRevision=Ev.prototype.L,Ev.prototype.on=Ev.prototype.J,Ev.prototype.once=Ev.prototype.once,Ev.prototype.un=Ev.prototype.K,Eb.prototype.changed=Eb.prototype.s,Eb.prototype.dispatchEvent=Eb.prototype.b,Eb.prototype.getRevision=Eb.prototype.L,Eb.prototype.on=Eb.prototype.J,Eb.prototype.once=Eb.prototype.once,Eb.prototype.un=Eb.prototype.K,ps.prototype.type=ps.prototype.type,ps.prototype.target=ps.prototype.target,ps.prototype.preventDefault=ps.prototype.preventDefault,ps.prototype.stopPropagation=ps.prototype.stopPropagation,Fo.prototype.type=Fo.prototype.type,Fo.prototype.target=Fo.prototype.target,Fo.prototype.preventDefault=Fo.prototype.preventDefault,Fo.prototype.stopPropagation=Fo.prototype.stopPropagation,Pn.prototype.get=Pn.prototype.get,Pn.prototype.getKeys=Pn.prototype.O,Pn.prototype.getProperties=Pn.prototype.N,Pn.prototype.set=Pn.prototype.set,Pn.prototype.setProperties=Pn.prototype.H,Pn.prototype.unset=Pn.prototype.P,Pn.prototype.changed=Pn.prototype.s,Pn.prototype.dispatchEvent=Pn.prototype.b,Pn.prototype.getRevision=Pn.prototype.L,Pn.prototype.on=Pn.prototype.J,Pn.prototype.once=Pn.prototype.once,Pn.prototype.un=Pn.prototype.K,Cn.prototype.getExtent=Cn.prototype.D,Cn.prototype.getMaxResolution=Cn.prototype.gc,Cn.prototype.getMinResolution=Cn.prototype.hc,Cn.prototype.getOpacity=Cn.prototype.ic,Cn.prototype.getVisible=Cn.prototype.Kb,Cn.prototype.getZIndex=Cn.prototype.za,Cn.prototype.setExtent=Cn.prototype.uc,Cn.prototype.setMaxResolution=Cn.prototype.zc,Cn.prototype.setMinResolution=Cn.prototype.Ac,Cn.prototype.setOpacity=Cn.prototype.vc,Cn.prototype.setVisible=Cn.prototype.wc,Cn.prototype.setZIndex=Cn.prototype.Wb,Cn.prototype.get=Cn.prototype.get,Cn.prototype.getKeys=Cn.prototype.O,Cn.prototype.getProperties=Cn.prototype.N,Cn.prototype.set=Cn.prototype.set,Cn.prototype.setProperties=Cn.prototype.H,Cn.prototype.unset=Cn.prototype.P,Cn.prototype.changed=Cn.prototype.s,Cn.prototype.dispatchEvent=Cn.prototype.b,Cn.prototype.getRevision=Cn.prototype.L,Cn.prototype.on=Cn.prototype.J,Cn.prototype.once=Cn.prototype.once,Cn.prototype.un=Cn.prototype.K,Vn.prototype.getExtent=Vn.prototype.D,Vn.prototype.getMaxResolution=Vn.prototype.gc,Vn.prototype.getMinResolution=Vn.prototype.hc,Vn.prototype.getOpacity=Vn.prototype.ic,Vn.prototype.getVisible=Vn.prototype.Kb,Vn.prototype.getZIndex=Vn.prototype.za,Vn.prototype.setExtent=Vn.prototype.uc,Vn.prototype.setMaxResolution=Vn.prototype.zc,Vn.prototype.setMinResolution=Vn.prototype.Ac,Vn.prototype.setOpacity=Vn.prototype.vc,Vn.prototype.setVisible=Vn.prototype.wc,Vn.prototype.setZIndex=Vn.prototype.Wb,Vn.prototype.get=Vn.prototype.get,Vn.prototype.getKeys=Vn.prototype.O,Vn.prototype.getProperties=Vn.prototype.N,Vn.prototype.set=Vn.prototype.set,Vn.prototype.setProperties=Vn.prototype.H,Vn.prototype.unset=Vn.prototype.P,Vn.prototype.changed=Vn.prototype.s,Vn.prototype.dispatchEvent=Vn.prototype.b,Vn.prototype.getRevision=Vn.prototype.L,Vn.prototype.on=Vn.prototype.J,Vn.prototype.once=Vn.prototype.once,Vn.prototype.un=Vn.prototype.K,Fv.prototype.setMap=Fv.prototype.setMap,Fv.prototype.setSource=Fv.prototype.Yc,Fv.prototype.getExtent=Fv.prototype.D,Fv.prototype.getMaxResolution=Fv.prototype.gc,Fv.prototype.getMinResolution=Fv.prototype.hc,Fv.prototype.getOpacity=Fv.prototype.ic,Fv.prototype.getVisible=Fv.prototype.Kb,Fv.prototype.getZIndex=Fv.prototype.za,Fv.prototype.setExtent=Fv.prototype.uc,Fv.prototype.setMaxResolution=Fv.prototype.zc,Fv.prototype.setMinResolution=Fv.prototype.Ac,Fv.prototype.setOpacity=Fv.prototype.vc,Fv.prototype.setVisible=Fv.prototype.wc,Fv.prototype.setZIndex=Fv.prototype.Wb,Fv.prototype.get=Fv.prototype.get,Fv.prototype.getKeys=Fv.prototype.O,Fv.prototype.getProperties=Fv.prototype.N,Fv.prototype.set=Fv.prototype.set,Fv.prototype.setProperties=Fv.prototype.H,Fv.prototype.unset=Fv.prototype.P,Fv.prototype.changed=Fv.prototype.s,Fv.prototype.dispatchEvent=Fv.prototype.b,Fv.prototype.getRevision=Fv.prototype.L,Fv.prototype.on=Fv.prototype.J,Fv.prototype.once=Fv.prototype.once,Fv.prototype.un=Fv.prototype.K,Km.prototype.getSource=Km.prototype.la,Km.prototype.getStyle=Km.prototype.C,Km.prototype.getStyleFunction=Km.prototype.G,Km.prototype.setStyle=Km.prototype.g,Km.prototype.setMap=Km.prototype.setMap,Km.prototype.setSource=Km.prototype.Yc,Km.prototype.getExtent=Km.prototype.D,Km.prototype.getMaxResolution=Km.prototype.gc,Km.prototype.getMinResolution=Km.prototype.hc,Km.prototype.getOpacity=Km.prototype.ic,Km.prototype.getVisible=Km.prototype.Kb,Km.prototype.getZIndex=Km.prototype.za,Km.prototype.setExtent=Km.prototype.uc,Km.prototype.setMaxResolution=Km.prototype.zc,Km.prototype.setMinResolution=Km.prototype.Ac,Km.prototype.setOpacity=Km.prototype.vc,Km.prototype.setVisible=Km.prototype.wc,Km.prototype.setZIndex=Km.prototype.Wb,Km.prototype.get=Km.prototype.get,Km.prototype.getKeys=Km.prototype.O,Km.prototype.getProperties=Km.prototype.N,Km.prototype.set=Km.prototype.set,Km.prototype.setProperties=Km.prototype.H,Km.prototype.unset=Km.prototype.P,Km.prototype.changed=Km.prototype.s,Km.prototype.dispatchEvent=Km.prototype.b,Km.prototype.getRevision=Km.prototype.L,Km.prototype.on=Km.prototype.J,Km.prototype.once=Km.prototype.once,Km.prototype.un=Km.prototype.K,mb.prototype.setMap=mb.prototype.setMap,mb.prototype.setSource=mb.prototype.Yc,mb.prototype.getExtent=mb.prototype.D,mb.prototype.getMaxResolution=mb.prototype.gc,mb.prototype.getMinResolution=mb.prototype.hc,mb.prototype.getOpacity=mb.prototype.ic,mb.prototype.getVisible=mb.prototype.Kb,mb.prototype.getZIndex=mb.prototype.za,mb.prototype.setExtent=mb.prototype.uc,mb.prototype.setMaxResolution=mb.prototype.zc,mb.prototype.setMinResolution=mb.prototype.Ac,mb.prototype.setOpacity=mb.prototype.vc,mb.prototype.setVisible=mb.prototype.wc,mb.prototype.setZIndex=mb.prototype.Wb,mb.prototype.get=mb.prototype.get,mb.prototype.getKeys=mb.prototype.O,mb.prototype.getProperties=mb.prototype.N,mb.prototype.set=mb.prototype.set,mb.prototype.setProperties=mb.prototype.H,mb.prototype.unset=mb.prototype.P,mb.prototype.changed=mb.prototype.s,mb.prototype.dispatchEvent=mb.prototype.b,mb.prototype.getRevision=mb.prototype.L,mb.prototype.on=mb.prototype.J,mb.prototype.once=mb.prototype.once,mb.prototype.un=mb.prototype.K,Ab.prototype.setMap=Ab.prototype.setMap,Ab.prototype.setSource=Ab.prototype.Yc,Ab.prototype.getExtent=Ab.prototype.D,Ab.prototype.getMaxResolution=Ab.prototype.gc,Ab.prototype.getMinResolution=Ab.prototype.hc,Ab.prototype.getOpacity=Ab.prototype.ic,Ab.prototype.getVisible=Ab.prototype.Kb,Ab.prototype.getZIndex=Ab.prototype.za,Ab.prototype.setExtent=Ab.prototype.uc,Ab.prototype.setMaxResolution=Ab.prototype.zc,Ab.prototype.setMinResolution=Ab.prototype.Ac,Ab.prototype.setOpacity=Ab.prototype.vc,Ab.prototype.setVisible=Ab.prototype.wc,Ab.prototype.setZIndex=Ab.prototype.Wb,Ab.prototype.get=Ab.prototype.get,Ab.prototype.getKeys=Ab.prototype.O,Ab.prototype.getProperties=Ab.prototype.N,Ab.prototype.set=Ab.prototype.set,Ab.prototype.setProperties=Ab.prototype.H,Ab.prototype.unset=Ab.prototype.P,Ab.prototype.changed=Ab.prototype.s,Ab.prototype.dispatchEvent=Ab.prototype.b,Ab.prototype.getRevision=Ab.prototype.L,Ab.prototype.on=Ab.prototype.J,Ab.prototype.once=Ab.prototype.once,Ab.prototype.un=Ab.prototype.K,Rb.prototype.getSource=Rb.prototype.la,Rb.prototype.getStyle=Rb.prototype.C,Rb.prototype.getStyleFunction=Rb.prototype.G,Rb.prototype.setStyle=Rb.prototype.g,Rb.prototype.setMap=Rb.prototype.setMap,Rb.prototype.setSource=Rb.prototype.Yc,Rb.prototype.getExtent=Rb.prototype.D,Rb.prototype.getMaxResolution=Rb.prototype.gc,Rb.prototype.getMinResolution=Rb.prototype.hc,Rb.prototype.getOpacity=Rb.prototype.ic,Rb.prototype.getVisible=Rb.prototype.Kb,Rb.prototype.getZIndex=Rb.prototype.za,Rb.prototype.setExtent=Rb.prototype.uc,Rb.prototype.setMaxResolution=Rb.prototype.zc,Rb.prototype.setMinResolution=Rb.prototype.Ac,Rb.prototype.setOpacity=Rb.prototype.vc,Rb.prototype.setVisible=Rb.prototype.wc,Rb.prototype.setZIndex=Rb.prototype.Wb,Rb.prototype.get=Rb.prototype.get,Rb.prototype.getKeys=Rb.prototype.O,Rb.prototype.getProperties=Rb.prototype.N,Rb.prototype.set=Rb.prototype.set,Rb.prototype.setProperties=Rb.prototype.H,Rb.prototype.unset=Rb.prototype.P,Rb.prototype.changed=Rb.prototype.s,Rb.prototype.dispatchEvent=Rb.prototype.b,Rb.prototype.getRevision=Rb.prototype.L,Rb.prototype.on=Rb.prototype.J,Rb.prototype.once=Rb.prototype.once,Rb.prototype.un=Rb.prototype.K,xr.prototype.get=xr.prototype.get,xr.prototype.getKeys=xr.prototype.O,xr.prototype.getProperties=xr.prototype.N,xr.prototype.set=xr.prototype.set,xr.prototype.setProperties=xr.prototype.H,xr.prototype.unset=xr.prototype.P,xr.prototype.changed=xr.prototype.s,xr.prototype.dispatchEvent=xr.prototype.b,xr.prototype.getRevision=xr.prototype.L,xr.prototype.on=xr.prototype.J,xr.prototype.once=xr.prototype.once,xr.prototype.un=xr.prototype.K,Lr.prototype.getActive=Lr.prototype.c,Lr.prototype.getMap=Lr.prototype.i,Lr.prototype.setActive=Lr.prototype.Ia,Lr.prototype.get=Lr.prototype.get,Lr.prototype.getKeys=Lr.prototype.O,Lr.prototype.getProperties=Lr.prototype.N,Lr.prototype.set=Lr.prototype.set,Lr.prototype.setProperties=Lr.prototype.H,Lr.prototype.unset=Lr.prototype.P,Lr.prototype.changed=Lr.prototype.s,Lr.prototype.dispatchEvent=Lr.prototype.b,Lr.prototype.getRevision=Lr.prototype.L,Lr.prototype.on=Lr.prototype.J,Lr.prototype.once=Lr.prototype.once,Lr.prototype.un=Lr.prototype.K,Fg.prototype.getActive=Fg.prototype.c,Fg.prototype.getMap=Fg.prototype.i,Fg.prototype.setActive=Fg.prototype.Ia,Fg.prototype.get=Fg.prototype.get,Fg.prototype.getKeys=Fg.prototype.O,Fg.prototype.getProperties=Fg.prototype.N,Fg.prototype.set=Fg.prototype.set,Fg.prototype.setProperties=Fg.prototype.H,Fg.prototype.unset=Fg.prototype.P,Fg.prototype.changed=Fg.prototype.s,Fg.prototype.dispatchEvent=Fg.prototype.b,Fg.prototype.getRevision=Fg.prototype.L,Fg.prototype.on=Fg.prototype.J,Fg.prototype.once=Fg.prototype.once,Fg.prototype.un=Fg.prototype.K,Vg.prototype.type=Vg.prototype.type,Vg.prototype.target=Vg.prototype.target,Vg.prototype.preventDefault=Vg.prototype.preventDefault,Vg.prototype.stopPropagation=Vg.prototype.stopPropagation,Or.prototype.getActive=Or.prototype.c,Or.prototype.getMap=Or.prototype.i,Or.prototype.setActive=Or.prototype.Ia,Or.prototype.get=Or.prototype.get,Or.prototype.getKeys=Or.prototype.O,Or.prototype.getProperties=Or.prototype.N,Or.prototype.set=Or.prototype.set,Or.prototype.setProperties=Or.prototype.H,Or.prototype.unset=Or.prototype.P,Or.prototype.changed=Or.prototype.s,Or.prototype.dispatchEvent=Or.prototype.b,Or.prototype.getRevision=Or.prototype.L,Or.prototype.on=Or.prototype.J,Or.prototype.once=Or.prototype.once,Or.prototype.un=Or.prototype.K,Jr.prototype.getActive=Jr.prototype.c,Jr.prototype.getMap=Jr.prototype.i,Jr.prototype.setActive=Jr.prototype.Ia,Jr.prototype.get=Jr.prototype.get,Jr.prototype.getKeys=Jr.prototype.O,Jr.prototype.getProperties=Jr.prototype.N,Jr.prototype.set=Jr.prototype.set,Jr.prototype.setProperties=Jr.prototype.H,Jr.prototype.unset=Jr.prototype.P,Jr.prototype.changed=Jr.prototype.s,Jr.prototype.dispatchEvent=Jr.prototype.b,Jr.prototype.getRevision=Jr.prototype.L,Jr.prototype.on=Jr.prototype.J,Jr.prototype.once=Jr.prototype.once,Jr.prototype.un=Jr.prototype.K,nn.prototype.type=nn.prototype.type,nn.prototype.target=nn.prototype.target,nn.prototype.preventDefault=nn.prototype.preventDefault,nn.prototype.stopPropagation=nn.prototype.stopPropagation,Ur.prototype.getActive=Ur.prototype.c,Ur.prototype.getMap=Ur.prototype.i,Ur.prototype.setActive=Ur.prototype.Ia,Ur.prototype.get=Ur.prototype.get,Ur.prototype.getKeys=Ur.prototype.O,Ur.prototype.getProperties=Ur.prototype.N,Ur.prototype.set=Ur.prototype.set,Ur.prototype.setProperties=Ur.prototype.H,Ur.prototype.unset=Ur.prototype.P,Ur.prototype.changed=Ur.prototype.s,Ur.prototype.dispatchEvent=Ur.prototype.b,Ur.prototype.getRevision=Ur.prototype.L,Ur.prototype.on=Ur.prototype.J,Ur.prototype.once=Ur.prototype.once,Ur.prototype.un=Ur.prototype.K,Wr.prototype.getActive=Wr.prototype.c,Wr.prototype.getMap=Wr.prototype.i,Wr.prototype.setActive=Wr.prototype.Ia,Wr.prototype.get=Wr.prototype.get,Wr.prototype.getKeys=Wr.prototype.O,Wr.prototype.getProperties=Wr.prototype.N,Wr.prototype.set=Wr.prototype.set,Wr.prototype.setProperties=Wr.prototype.H,Wr.prototype.unset=Wr.prototype.P,Wr.prototype.changed=Wr.prototype.s,Wr.prototype.dispatchEvent=Wr.prototype.b,Wr.prototype.getRevision=Wr.prototype.L,Wr.prototype.on=Wr.prototype.J,Wr.prototype.once=Wr.prototype.once,Wr.prototype.un=Wr.prototype.K,Xg.prototype.getActive=Xg.prototype.c,Xg.prototype.getMap=Xg.prototype.i,Xg.prototype.setActive=Xg.prototype.Ia,Xg.prototype.get=Xg.prototype.get,Xg.prototype.getKeys=Xg.prototype.O,Xg.prototype.getProperties=Xg.prototype.N,Xg.prototype.set=Xg.prototype.set,Xg.prototype.setProperties=Xg.prototype.H,Xg.prototype.unset=Xg.prototype.P,Xg.prototype.changed=Xg.prototype.s,Xg.prototype.dispatchEvent=Xg.prototype.b,Xg.prototype.getRevision=Xg.prototype.L,Xg.prototype.on=Xg.prototype.J,Xg.prototype.once=Xg.prototype.once,Xg.prototype.un=Xg.prototype.K,sn.prototype.getGeometry=sn.prototype.U,sn.prototype.getActive=sn.prototype.c,sn.prototype.getMap=sn.prototype.i,sn.prototype.setActive=sn.prototype.Ia,sn.prototype.get=sn.prototype.get,sn.prototype.getKeys=sn.prototype.O,sn.prototype.getProperties=sn.prototype.N,sn.prototype.set=sn.prototype.set,sn.prototype.setProperties=sn.prototype.H,sn.prototype.unset=sn.prototype.P,sn.prototype.changed=sn.prototype.s,sn.prototype.dispatchEvent=sn.prototype.b,sn.prototype.getRevision=sn.prototype.L,sn.prototype.on=sn.prototype.J,sn.prototype.once=sn.prototype.once,sn.prototype.un=sn.prototype.K,Kv.prototype.getActive=Kv.prototype.c,Kv.prototype.getMap=Kv.prototype.i,Kv.prototype.setActive=Kv.prototype.Ia,Kv.prototype.get=Kv.prototype.get,Kv.prototype.getKeys=Kv.prototype.O,Kv.prototype.getProperties=Kv.prototype.N,Kv.prototype.set=Kv.prototype.set,Kv.prototype.setProperties=Kv.prototype.H,Kv.prototype.unset=Kv.prototype.P,Kv.prototype.changed=Kv.prototype.s,Kv.prototype.dispatchEvent=Kv.prototype.b,Kv.prototype.getRevision=Kv.prototype.L,Kv.prototype.on=Kv.prototype.J,Kv.prototype.once=Kv.prototype.once,Kv.prototype.un=Kv.prototype.K,hm.prototype.type=hm.prototype.type,hm.prototype.target=hm.prototype.target,hm.prototype.preventDefault=hm.prototype.preventDefault,hm.prototype.stopPropagation=hm.prototype.stopPropagation,lm.prototype.getActive=lm.prototype.c,lm.prototype.getMap=lm.prototype.i,lm.prototype.setActive=lm.prototype.Ia,lm.prototype.get=lm.prototype.get,lm.prototype.getKeys=lm.prototype.O,lm.prototype.getProperties=lm.prototype.N,lm.prototype.set=lm.prototype.set,lm.prototype.setProperties=lm.prototype.H,lm.prototype.unset=lm.prototype.P,lm.prototype.changed=lm.prototype.s,lm.prototype.dispatchEvent=lm.prototype.b,lm.prototype.getRevision=lm.prototype.L,lm.prototype.on=lm.prototype.J,lm.prototype.once=lm.prototype.once,lm.prototype.un=lm.prototype.K,bm.prototype.type=bm.prototype.type,bm.prototype.target=bm.prototype.target,bm.prototype.preventDefault=bm.prototype.preventDefault,bm.prototype.stopPropagation=bm.prototype.stopPropagation,an.prototype.getActive=an.prototype.c,an.prototype.getMap=an.prototype.i,an.prototype.setActive=an.prototype.Ia,an.prototype.get=an.prototype.get,an.prototype.getKeys=an.prototype.O,an.prototype.getProperties=an.prototype.N,an.prototype.set=an.prototype.set,an.prototype.setProperties=an.prototype.H,an.prototype.unset=an.prototype.P,an.prototype.changed=an.prototype.s,an.prototype.dispatchEvent=an.prototype.b,an.prototype.getRevision=an.prototype.L,an.prototype.on=an.prototype.J,an.prototype.once=an.prototype.once,an.prototype.un=an.prototype.K,hn.prototype.getActive=hn.prototype.c,hn.prototype.getMap=hn.prototype.i,hn.prototype.setActive=hn.prototype.Ia,hn.prototype.get=hn.prototype.get,hn.prototype.getKeys=hn.prototype.O,hn.prototype.getProperties=hn.prototype.N,hn.prototype.set=hn.prototype.set,hn.prototype.setProperties=hn.prototype.H,hn.prototype.unset=hn.prototype.P,hn.prototype.changed=hn.prototype.s,hn.prototype.dispatchEvent=hn.prototype.b,hn.prototype.getRevision=hn.prototype.L,hn.prototype.on=hn.prototype.J,hn.prototype.once=hn.prototype.once,hn.prototype.un=hn.prototype.K,xm.prototype.getActive=xm.prototype.c,xm.prototype.getMap=xm.prototype.i,xm.prototype.setActive=xm.prototype.Ia,xm.prototype.get=xm.prototype.get,xm.prototype.getKeys=xm.prototype.O,xm.prototype.getProperties=xm.prototype.N,xm.prototype.set=xm.prototype.set,xm.prototype.setProperties=xm.prototype.H,xm.prototype.unset=xm.prototype.P,xm.prototype.changed=xm.prototype.s,xm.prototype.dispatchEvent=xm.prototype.b,xm.prototype.getRevision=xm.prototype.L,xm.prototype.on=xm.prototype.J,xm.prototype.once=xm.prototype.once,xm.prototype.un=xm.prototype.K,km.prototype.type=km.prototype.type,km.prototype.target=km.prototype.target,km.prototype.preventDefault=km.prototype.preventDefault,km.prototype.stopPropagation=km.prototype.stopPropagation,un.prototype.getActive=un.prototype.c,un.prototype.getMap=un.prototype.i,un.prototype.setActive=un.prototype.Ia,un.prototype.get=un.prototype.get,un.prototype.getKeys=un.prototype.O,un.prototype.getProperties=un.prototype.N,un.prototype.set=un.prototype.set,un.prototype.setProperties=un.prototype.H,un.prototype.unset=un.prototype.P,un.prototype.changed=un.prototype.s,un.prototype.dispatchEvent=un.prototype.b,un.prototype.getRevision=un.prototype.L,un.prototype.on=un.prototype.J,un.prototype.once=un.prototype.once,un.prototype.un=un.prototype.K,dn.prototype.getActive=dn.prototype.c,dn.prototype.getMap=dn.prototype.i,dn.prototype.setActive=dn.prototype.Ia,dn.prototype.get=dn.prototype.get,dn.prototype.getKeys=dn.prototype.O,dn.prototype.getProperties=dn.prototype.N,dn.prototype.set=dn.prototype.set,dn.prototype.setProperties=dn.prototype.H,dn.prototype.unset=dn.prototype.P,dn.prototype.changed=dn.prototype.s,dn.prototype.dispatchEvent=dn.prototype.b,dn.prototype.getRevision=dn.prototype.L,dn.prototype.on=dn.prototype.J,dn.prototype.once=dn.prototype.once,dn.prototype.un=dn.prototype.K,bn.prototype.getActive=bn.prototype.c,bn.prototype.getMap=bn.prototype.i,bn.prototype.setActive=bn.prototype.Ia,bn.prototype.get=bn.prototype.get,bn.prototype.getKeys=bn.prototype.O,bn.prototype.getProperties=bn.prototype.N,bn.prototype.set=bn.prototype.set,bn.prototype.setProperties=bn.prototype.H,bn.prototype.unset=bn.prototype.P,bn.prototype.changed=bn.prototype.s,bn.prototype.dispatchEvent=bn.prototype.b,bn.prototype.getRevision=bn.prototype.L,bn.prototype.on=bn.prototype.J,bn.prototype.once=bn.prototype.once,bn.prototype.un=bn.prototype.K,Dm.prototype.getActive=Dm.prototype.c,Dm.prototype.getMap=Dm.prototype.i,Dm.prototype.setActive=Dm.prototype.Ia,Dm.prototype.get=Dm.prototype.get,Dm.prototype.getKeys=Dm.prototype.O,Dm.prototype.getProperties=Dm.prototype.N,Dm.prototype.set=Dm.prototype.set,Dm.prototype.setProperties=Dm.prototype.H,Dm.prototype.unset=Dm.prototype.P,Dm.prototype.changed=Dm.prototype.s,Dm.prototype.dispatchEvent=Dm.prototype.b,Dm.prototype.getRevision=Dm.prototype.L,Dm.prototype.on=Dm.prototype.J,Dm.prototype.once=Dm.prototype.once,Dm.prototype.un=Dm.prototype.K,Fm.prototype.type=Fm.prototype.type,Fm.prototype.target=Fm.prototype.target,Fm.prototype.preventDefault=Fm.prototype.preventDefault,Fm.prototype.stopPropagation=Fm.prototype.stopPropagation,Um.prototype.getActive=Um.prototype.c,Um.prototype.getMap=Um.prototype.i,Um.prototype.setActive=Um.prototype.Ia,Um.prototype.get=Um.prototype.get,Um.prototype.getKeys=Um.prototype.O,Um.prototype.getProperties=Um.prototype.N,Um.prototype.set=Um.prototype.set,Um.prototype.setProperties=Um.prototype.H,Um.prototype.unset=Um.prototype.P,Um.prototype.changed=Um.prototype.s,Um.prototype.dispatchEvent=Um.prototype.b,Um.prototype.getRevision=Um.prototype.L,Um.prototype.on=Um.prototype.J,Um.prototype.once=Um.prototype.once,Um.prototype.un=Um.prototype.K,Xm.prototype.getActive=Xm.prototype.c,Xm.prototype.getMap=Xm.prototype.i,Xm.prototype.setActive=Xm.prototype.Ia,Xm.prototype.get=Xm.prototype.get,Xm.prototype.getKeys=Xm.prototype.O,Xm.prototype.getProperties=Xm.prototype.N,Xm.prototype.set=Xm.prototype.set,Xm.prototype.setProperties=Xm.prototype.H,Xm.prototype.unset=Xm.prototype.P,Xm.prototype.changed=Xm.prototype.s,Xm.prototype.dispatchEvent=Xm.prototype.b,Xm.prototype.getRevision=Xm.prototype.L,Xm.prototype.on=Xm.prototype.J,Xm.prototype.once=Xm.prototype.once,Xm.prototype.un=Xm.prototype.K,Hm.prototype.type=Hm.prototype.type,Hm.prototype.target=Hm.prototype.target,Hm.prototype.preventDefault=Hm.prototype.preventDefault,Hm.prototype.stopPropagation=Hm.prototype.stopPropagation,Si.prototype.get=Si.prototype.get,Si.prototype.getKeys=Si.prototype.O,Si.prototype.getProperties=Si.prototype.N,Si.prototype.set=Si.prototype.set,Si.prototype.setProperties=Si.prototype.H,Si.prototype.unset=Si.prototype.P,Si.prototype.changed=Si.prototype.s,Si.prototype.dispatchEvent=Si.prototype.b,Si.prototype.getRevision=Si.prototype.L,Si.prototype.on=Si.prototype.J,Si.prototype.once=Si.prototype.once,Si.prototype.un=Si.prototype.K,Ci.prototype.getClosestPoint=Ci.prototype.Ab,Ci.prototype.intersectsCoordinate=Ci.prototype.sb,Ci.prototype.getExtent=Ci.prototype.D,Ci.prototype.rotate=Ci.prototype.rotate,Ci.prototype.scale=Ci.prototype.scale,Ci.prototype.simplify=Ci.prototype.Pb,Ci.prototype.transform=Ci.prototype.tb,Ci.prototype.get=Ci.prototype.get,Ci.prototype.getKeys=Ci.prototype.O,Ci.prototype.getProperties=Ci.prototype.N,Ci.prototype.set=Ci.prototype.set,Ci.prototype.setProperties=Ci.prototype.H,Ci.prototype.unset=Ci.prototype.P,Ci.prototype.changed=Ci.prototype.s,Ci.prototype.dispatchEvent=Ci.prototype.b,Ci.prototype.getRevision=Ci.prototype.L,Ci.prototype.on=Ci.prototype.J,Ci.prototype.once=Ci.prototype.once,Ci.prototype.un=Ci.prototype.K,Mg.prototype.getFirstCoordinate=Mg.prototype.bc,Mg.prototype.getLastCoordinate=Mg.prototype.cc,Mg.prototype.getLayout=Mg.prototype.dc,Mg.prototype.rotate=Mg.prototype.rotate,Mg.prototype.scale=Mg.prototype.scale,Mg.prototype.getClosestPoint=Mg.prototype.Ab,Mg.prototype.intersectsCoordinate=Mg.prototype.sb,Mg.prototype.getExtent=Mg.prototype.D,Mg.prototype.simplify=Mg.prototype.Pb,Mg.prototype.get=Mg.prototype.get,Mg.prototype.getKeys=Mg.prototype.O,Mg.prototype.getProperties=Mg.prototype.N,Mg.prototype.set=Mg.prototype.set,Mg.prototype.setProperties=Mg.prototype.H,Mg.prototype.unset=Mg.prototype.P,Mg.prototype.changed=Mg.prototype.s,Mg.prototype.dispatchEvent=Mg.prototype.b,Mg.prototype.getRevision=Mg.prototype.L,Mg.prototype.on=Mg.prototype.J,Mg.prototype.once=Mg.prototype.once,Mg.prototype.un=Mg.prototype.K,Ol.prototype.getClosestPoint=Ol.prototype.Ab,Ol.prototype.intersectsCoordinate=Ol.prototype.sb,Ol.prototype.getExtent=Ol.prototype.D,Ol.prototype.rotate=Ol.prototype.rotate,Ol.prototype.scale=Ol.prototype.scale,Ol.prototype.simplify=Ol.prototype.Pb,Ol.prototype.transform=Ol.prototype.tb,Ol.prototype.get=Ol.prototype.get,Ol.prototype.getKeys=Ol.prototype.O,Ol.prototype.getProperties=Ol.prototype.N,Ol.prototype.set=Ol.prototype.set,Ol.prototype.setProperties=Ol.prototype.H,Ol.prototype.unset=Ol.prototype.P,Ol.prototype.changed=Ol.prototype.s,Ol.prototype.dispatchEvent=Ol.prototype.b,Ol.prototype.getRevision=Ol.prototype.L,Ol.prototype.on=Ol.prototype.J,Ol.prototype.once=Ol.prototype.once,Ol.prototype.un=Ol.prototype.K,zi.prototype.getFirstCoordinate=zi.prototype.bc,zi.prototype.getLastCoordinate=zi.prototype.cc,zi.prototype.getLayout=zi.prototype.dc,zi.prototype.rotate=zi.prototype.rotate,zi.prototype.scale=zi.prototype.scale,zi.prototype.getClosestPoint=zi.prototype.Ab,zi.prototype.intersectsCoordinate=zi.prototype.sb,zi.prototype.getExtent=zi.prototype.D,zi.prototype.simplify=zi.prototype.Pb,zi.prototype.transform=zi.prototype.tb,zi.prototype.get=zi.prototype.get,zi.prototype.getKeys=zi.prototype.O,zi.prototype.getProperties=zi.prototype.N,zi.prototype.set=zi.prototype.set,zi.prototype.setProperties=zi.prototype.H,zi.prototype.unset=zi.prototype.P,zi.prototype.changed=zi.prototype.s,zi.prototype.dispatchEvent=zi.prototype.b,zi.prototype.getRevision=zi.prototype.L,zi.prototype.on=zi.prototype.J,zi.prototype.once=zi.prototype.once,zi.prototype.un=zi.prototype.K,Jh.prototype.getFirstCoordinate=Jh.prototype.bc,Jh.prototype.getLastCoordinate=Jh.prototype.cc,Jh.prototype.getLayout=Jh.prototype.dc,Jh.prototype.rotate=Jh.prototype.rotate,Jh.prototype.scale=Jh.prototype.scale,Jh.prototype.getClosestPoint=Jh.prototype.Ab,Jh.prototype.intersectsCoordinate=Jh.prototype.sb,Jh.prototype.getExtent=Jh.prototype.D,Jh.prototype.simplify=Jh.prototype.Pb,Jh.prototype.transform=Jh.prototype.tb,Jh.prototype.get=Jh.prototype.get,Jh.prototype.getKeys=Jh.prototype.O,Jh.prototype.getProperties=Jh.prototype.N,Jh.prototype.set=Jh.prototype.set,Jh.prototype.setProperties=Jh.prototype.H,Jh.prototype.unset=Jh.prototype.P,Jh.prototype.changed=Jh.prototype.s,Jh.prototype.dispatchEvent=Jh.prototype.b,Jh.prototype.getRevision=Jh.prototype.L,Jh.prototype.on=Jh.prototype.J,Jh.prototype.once=Jh.prototype.once,Jh.prototype.un=Jh.prototype.K,qh.prototype.getFirstCoordinate=qh.prototype.bc,qh.prototype.getLastCoordinate=qh.prototype.cc,qh.prototype.getLayout=qh.prototype.dc,qh.prototype.rotate=qh.prototype.rotate,qh.prototype.scale=qh.prototype.scale,qh.prototype.getClosestPoint=qh.prototype.Ab,qh.prototype.intersectsCoordinate=qh.prototype.sb,qh.prototype.getExtent=qh.prototype.D,qh.prototype.simplify=qh.prototype.Pb,qh.prototype.transform=qh.prototype.tb,qh.prototype.get=qh.prototype.get,qh.prototype.getKeys=qh.prototype.O,qh.prototype.getProperties=qh.prototype.N,qh.prototype.set=qh.prototype.set,qh.prototype.setProperties=qh.prototype.H,qh.prototype.unset=qh.prototype.P,qh.prototype.changed=qh.prototype.s,qh.prototype.dispatchEvent=qh.prototype.b,qh.prototype.getRevision=qh.prototype.L,qh.prototype.on=qh.prototype.J,qh.prototype.once=qh.prototype.once,qh.prototype.un=qh.prototype.K,el.prototype.getFirstCoordinate=el.prototype.bc,el.prototype.getLastCoordinate=el.prototype.cc,el.prototype.getLayout=el.prototype.dc,el.prototype.rotate=el.prototype.rotate,el.prototype.scale=el.prototype.scale,el.prototype.getClosestPoint=el.prototype.Ab,el.prototype.intersectsCoordinate=el.prototype.sb,el.prototype.getExtent=el.prototype.D,el.prototype.simplify=el.prototype.Pb,el.prototype.transform=el.prototype.tb,el.prototype.get=el.prototype.get,el.prototype.getKeys=el.prototype.O,el.prototype.getProperties=el.prototype.N,el.prototype.set=el.prototype.set,el.prototype.setProperties=el.prototype.H,el.prototype.unset=el.prototype.P,el.prototype.changed=el.prototype.s,el.prototype.dispatchEvent=el.prototype.b,el.prototype.getRevision=el.prototype.L,el.prototype.on=el.prototype.J,el.prototype.once=el.prototype.once,el.prototype.un=el.prototype.K,ol.prototype.getFirstCoordinate=ol.prototype.bc,ol.prototype.getLastCoordinate=ol.prototype.cc,ol.prototype.getLayout=ol.prototype.dc,ol.prototype.rotate=ol.prototype.rotate,ol.prototype.scale=ol.prototype.scale,ol.prototype.getClosestPoint=ol.prototype.Ab,ol.prototype.intersectsCoordinate=ol.prototype.sb,ol.prototype.getExtent=ol.prototype.D,ol.prototype.simplify=ol.prototype.Pb,ol.prototype.transform=ol.prototype.tb,ol.prototype.get=ol.prototype.get,ol.prototype.getKeys=ol.prototype.O,ol.prototype.getProperties=ol.prototype.N,ol.prototype.set=ol.prototype.set,ol.prototype.setProperties=ol.prototype.H,ol.prototype.unset=ol.prototype.P,ol.prototype.changed=ol.prototype.s,ol.prototype.dispatchEvent=ol.prototype.b,ol.prototype.getRevision=ol.prototype.L,ol.prototype.on=ol.prototype.J,ol.prototype.once=ol.prototype.once,ol.prototype.un=ol.prototype.K,Zi.prototype.getFirstCoordinate=Zi.prototype.bc,Zi.prototype.getLastCoordinate=Zi.prototype.cc,Zi.prototype.getLayout=Zi.prototype.dc,Zi.prototype.rotate=Zi.prototype.rotate,Zi.prototype.scale=Zi.prototype.scale,Zi.prototype.getClosestPoint=Zi.prototype.Ab,Zi.prototype.intersectsCoordinate=Zi.prototype.sb,Zi.prototype.getExtent=Zi.prototype.D,Zi.prototype.simplify=Zi.prototype.Pb,Zi.prototype.transform=Zi.prototype.tb,Zi.prototype.get=Zi.prototype.get,Zi.prototype.getKeys=Zi.prototype.O,Zi.prototype.getProperties=Zi.prototype.N,Zi.prototype.set=Zi.prototype.set,Zi.prototype.setProperties=Zi.prototype.H,Zi.prototype.unset=Zi.prototype.P,Zi.prototype.changed=Zi.prototype.s,Zi.prototype.dispatchEvent=Zi.prototype.b,Zi.prototype.getRevision=Zi.prototype.L,Zi.prototype.on=Zi.prototype.J,Zi.prototype.once=Zi.prototype.once,Zi.prototype.un=Zi.prototype.K,rr.prototype.getFirstCoordinate=rr.prototype.bc,rr.prototype.getLastCoordinate=rr.prototype.cc,rr.prototype.getLayout=rr.prototype.dc,rr.prototype.rotate=rr.prototype.rotate,rr.prototype.scale=rr.prototype.scale,rr.prototype.getClosestPoint=rr.prototype.Ab,rr.prototype.intersectsCoordinate=rr.prototype.sb,rr.prototype.getExtent=rr.prototype.D,rr.prototype.simplify=rr.prototype.Pb,rr.prototype.transform=rr.prototype.tb,rr.prototype.get=rr.prototype.get,rr.prototype.getKeys=rr.prototype.O,rr.prototype.getProperties=rr.prototype.N,rr.prototype.set=rr.prototype.set,rr.prototype.setProperties=rr.prototype.H,rr.prototype.unset=rr.prototype.P,rr.prototype.changed=rr.prototype.s,rr.prototype.dispatchEvent=rr.prototype.b,rr.prototype.getRevision=rr.prototype.L,rr.prototype.on=rr.prototype.J,rr.prototype.once=rr.prototype.once,rr.prototype.un=rr.prototype.K,pu.prototype.readFeatures=pu.prototype.Qa,vu.prototype.readFeatures=vu.prototype.Qa,pu.prototype.readFeatures=pu.prototype.Qa,Oe.prototype.get=Oe.prototype.get,Oe.prototype.getKeys=Oe.prototype.O,Oe.prototype.getProperties=Oe.prototype.N,Oe.prototype.set=Oe.prototype.set,Oe.prototype.setProperties=Oe.prototype.H,Oe.prototype.unset=Oe.prototype.P,Oe.prototype.changed=Oe.prototype.s,Oe.prototype.dispatchEvent=Oe.prototype.b,Oe.prototype.getRevision=Oe.prototype.L,Oe.prototype.on=Oe.prototype.J,Oe.prototype.once=Oe.prototype.once,Oe.prototype.un=Oe.prototype.K,Fe.prototype.getMap=Fe.prototype.g,Fe.prototype.setMap=Fe.prototype.setMap,Fe.prototype.setTarget=Fe.prototype.i,Fe.prototype.get=Fe.prototype.get,Fe.prototype.getKeys=Fe.prototype.O,Fe.prototype.getProperties=Fe.prototype.N,Fe.prototype.set=Fe.prototype.set,Fe.prototype.setProperties=Fe.prototype.H,Fe.prototype.unset=Fe.prototype.P,Fe.prototype.changed=Fe.prototype.s,Fe.prototype.dispatchEvent=Fe.prototype.b,Fe.prototype.getRevision=Fe.prototype.L,Fe.prototype.on=Fe.prototype.J,Fe.prototype.once=Fe.prototype.once,Fe.prototype.un=Fe.prototype.K,He.prototype.getMap=He.prototype.g,He.prototype.setMap=He.prototype.setMap,He.prototype.setTarget=He.prototype.i,He.prototype.get=He.prototype.get,He.prototype.getKeys=He.prototype.O,He.prototype.getProperties=He.prototype.N,He.prototype.set=He.prototype.set,He.prototype.setProperties=He.prototype.H,He.prototype.unset=He.prototype.P,He.prototype.changed=He.prototype.s,He.prototype.dispatchEvent=He.prototype.b,He.prototype.getRevision=He.prototype.L,He.prototype.on=He.prototype.J,He.prototype.once=He.prototype.once,He.prototype.un=He.prototype.K,to.prototype.getMap=to.prototype.g,to.prototype.setMap=to.prototype.setMap,to.prototype.setTarget=to.prototype.i,to.prototype.get=to.prototype.get,to.prototype.getKeys=to.prototype.O,to.prototype.getProperties=to.prototype.N,to.prototype.set=to.prototype.set,to.prototype.setProperties=to.prototype.H,to.prototype.unset=to.prototype.P,to.prototype.changed=to.prototype.s,to.prototype.dispatchEvent=to.prototype.b,to.prototype.getRevision=to.prototype.L,to.prototype.on=to.prototype.J,to.prototype.once=to.prototype.once,to.prototype.un=to.prototype.K,Up.prototype.getMap=Up.prototype.g,Up.prototype.setMap=Up.prototype.setMap,Up.prototype.setTarget=Up.prototype.i,Up.prototype.get=Up.prototype.get,Up.prototype.getKeys=Up.prototype.O,Up.prototype.getProperties=Up.prototype.N,Up.prototype.set=Up.prototype.set,Up.prototype.setProperties=Up.prototype.H,Up.prototype.unset=Up.prototype.P,Up.prototype.changed=Up.prototype.s,Up.prototype.dispatchEvent=Up.prototype.b,Up.prototype.getRevision=Up.prototype.L,Up.prototype.on=Up.prototype.J,Up.prototype.once=Up.prototype.once,Up.prototype.un=Up.prototype.K,ze.prototype.getMap=ze.prototype.g,ze.prototype.setMap=ze.prototype.setMap,ze.prototype.setTarget=ze.prototype.i,ze.prototype.get=ze.prototype.get,ze.prototype.getKeys=ze.prototype.O,ze.prototype.getProperties=ze.prototype.N,ze.prototype.set=ze.prototype.set,ze.prototype.setProperties=ze.prototype.H,ze.prototype.unset=ze.prototype.P,ze.prototype.changed=ze.prototype.s,ze.prototype.dispatchEvent=ze.prototype.b,ze.prototype.getRevision=ze.prototype.L,ze.prototype.on=ze.prototype.J,ze.prototype.once=ze.prototype.once,ze.prototype.un=ze.prototype.K,zp.prototype.getMap=zp.prototype.g,zp.prototype.setMap=zp.prototype.setMap,zp.prototype.setTarget=zp.prototype.i,zp.prototype.get=zp.prototype.get,zp.prototype.getKeys=zp.prototype.O,zp.prototype.getProperties=zp.prototype.N,zp.prototype.set=zp.prototype.set,zp.prototype.setProperties=zp.prototype.H,zp.prototype.unset=zp.prototype.P,zp.prototype.changed=zp.prototype.s,zp.prototype.dispatchEvent=zp.prototype.b,zp.prototype.getRevision=zp.prototype.L,zp.prototype.on=zp.prototype.J,zp.prototype.once=zp.prototype.once,zp.prototype.un=zp.prototype.K,Ze.prototype.getMap=Ze.prototype.g,Ze.prototype.setMap=Ze.prototype.setMap,Ze.prototype.setTarget=Ze.prototype.i,Ze.prototype.get=Ze.prototype.get,Ze.prototype.getKeys=Ze.prototype.O,Ze.prototype.getProperties=Ze.prototype.N,Ze.prototype.set=Ze.prototype.set,Ze.prototype.setProperties=Ze.prototype.H,Ze.prototype.unset=Ze.prototype.P,Ze.prototype.changed=Ze.prototype.s,Ze.prototype.dispatchEvent=Ze.prototype.b,Ze.prototype.getRevision=Ze.prototype.L,Ze.prototype.on=Ze.prototype.J,Ze.prototype.once=Ze.prototype.once,Ze.prototype.un=Ze.prototype.K,Kp.prototype.getMap=Kp.prototype.g,Kp.prototype.setMap=Kp.prototype.setMap,Kp.prototype.setTarget=Kp.prototype.i,Kp.prototype.get=Kp.prototype.get,Kp.prototype.getKeys=Kp.prototype.O,Kp.prototype.getProperties=Kp.prototype.N,Kp.prototype.set=Kp.prototype.set,Kp.prototype.setProperties=Kp.prototype.H,Kp.prototype.unset=Kp.prototype.P,Kp.prototype.changed=Kp.prototype.s,Kp.prototype.dispatchEvent=Kp.prototype.b,Kp.prototype.getRevision=Kp.prototype.L,Kp.prototype.on=Kp.prototype.J,Kp.prototype.once=Kp.prototype.once,Kp.prototype.un=Kp.prototype.K,th.prototype.getMap=th.prototype.g,th.prototype.setMap=th.prototype.setMap,th.prototype.setTarget=th.prototype.i,th.prototype.get=th.prototype.get,th.prototype.getKeys=th.prototype.O,th.prototype.getProperties=th.prototype.N,th.prototype.set=th.prototype.set,th.prototype.setProperties=th.prototype.H,th.prototype.unset=th.prototype.P,th.prototype.changed=th.prototype.s,th.prototype.dispatchEvent=th.prototype.b,th.prototype.getRevision=th.prototype.L,th.prototype.on=th.prototype.J,th.prototype.once=th.prototype.once,th.prototype.un=th.prototype.K,n.ol});var saveLoadMap=function(t,e,o,i){o=o,t=t,e=e,i=i;var r,n=$("#"+t).append("<div id='saveModal'></div>").find("#saveModal"),s=$("#"+t).append("<div id='loadModal'></div>").find("#loadModal");this.init=function(){n.append(h()),s.append(l()),$.each(e,function(t,e){s.find("#listMap").append('<option value="'+e.id+'">'+e.mapname+"</option>")}),n.find("#modalSaveMap").find("#btn-save-map").click(function(){var t=n.find("#modalSaveMap").find("#nameMapSave").val(),e=n.find("#modalSaveMap").find("#jsonMapSave").val();a(t+".json",e),n.find("#modalSaveMap").modal("hide"),n.find("#formJsonMapSave")[0].reset()}),s.find("#modalLoadMap").find("#btn-load-map").click(function(){p(r),s.find("#loadJsonFile")[0].reset()})},this.openSaveMapModal=function(t){n.find("#modalSaveMap").modal("show"),n.find("#modalSaveMap").find("#jsonMapSave").val(t)};var a=function(t,e){var o=document.createElement("a");if(o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download",t),document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),o.dispatchEvent(i)}else o.click()};this.openLoadMapModal=function(t){r=t,s.find("#modalLoadMap").modal("show")};var p=function(e){var t,o,i;"function"==typeof window.FileReader?(t=document.getElementById("files"))&&(t.files?t.files[0]?(o=t.files[0],(i=new FileReader).onload=function(t){lines=t.target.result,e(lines)},i.readAsText(o)):alert(trans.errorSelectFile):alert(trans.browserNotSupported)):alert(trans.apiNotSupported)},h=function(){return'<div class="modal fade" id="modalSaveMap" role="dialog" aria-labelledby="myModalSaveLabel" aria-hidden="true">         <div class="modal-dialog">             <div class="modal-content">                 <form id="formJsonMapSave" role="form" method="POST" action="'+o+'">                     <div class="modal-header">                         <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">'+trans.close+'</span></button>                         <h4 class="modal-title" id="myModalSaveLabel">'+trans.saveMap+'</h4>                     </div>                     <div class="modal-body">                         <input type="text" name="nameMapSave" id="nameMapSave" class="form-control" maxlength="200" />                          <input type="hidden" name="jsonMapSave" id="jsonMapSave" class="form-control" />                         <input type="hidden" name="statusSave" id="statusSave" class="form-control" value="public"/>                          <input type="hidden" name="idCurrentSave" id="idCurrentSave" class="form-control" value="1"/>                          <input type="hidden" name="_token" value="'+i+'">                    </div>                     <div class="modal-footer">                         <button type="button" class="btn btn-default pull-left" data-dismiss="modal">'+trans.cancel+'</button>                         <button type="button" id="btn-save-map" class="btn btn-primary pull-right">'+trans.save+"</button>                     </div>                 </form>             </div>         </div>     </div>"},l=function(){return'<div class="modal fade" id="modalLoadMap" role="dialog" aria-labelledby="myModalLoadLabel" aria-hidden="true">         <div class="modal-dialog">             <div class="modal-content"> \t\t\t\t<form id="loadJsonFile" name="jsonFile" enctype="multipart/form-data" method="post"> \t\t\t\t\t<div class="modal-header"> \t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">'+trans.close+'</span></button> \t\t\t\t\t\t<h4 class="modal-title" id="myModalLoadLabel">'+trans.loadMap+'</h4> \t\t\t\t\t</div> \t\t\t\t\t<div class="modal-body"> \t\t\t\t\t\t\t<input type="file" id="files" name="file" /> \t\t\t\t\t</div> \t\t\t\t\t<div class="modal-footer"> \t\t\t\t\t\t<button type="button" class="btn btn-default pull-left" data-dismiss="modal">'+trans.cancel+'</button> \t\t\t\t\t\t<button type="button" id="btn-load-map" data-dismiss="modal" class="btn btn-primary pull-right">'+trans.load+"</button> \t\t\t\t\t</div> \t\t\t\t</form>             </div>         </div>     </div>"}},majNameInputFile=function(t,e,o){var i=$("#"+t);if(!(i.val().length<=0)){var r=i.val().replace(/\\/g,"/").replace(/.*\//,"");$("#"+e).text(" - "+r),$("#"+o).show()}};function progress(t,e,o){var i=Math.floor(100*o/e);$("#"+t+" span").html(trans.Uploadinprogress+" : "+i+"%"),100<=i&&$("#"+t+" span").text(trans.ServerTreatment)}var uploadFile=function(t){$("form#"+t).submit(function(t){var e=$(this).attr("action");if(0!=$("#inputfile").get(0).files.length){var o=new FormData(this);$(this).find(":input").each(function(){$(this).prop("disabled",!0)}),$.ajax({url:e,cache:!1,contentType:!1,processData:!1,data:o,type:"post",headers:{"X-XSRF-TOKEN":$('form#upload_file_form input[name="_token"]').val()},xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){progress("sbmitUpload",t.total,t.loaded)},!1),t},success:function(){$("#sbmitUpload span").text(trans.successTreatment),$("#loader-finsh-spinner").show()},fail:function(){$("#loader-error-spinner").show(),console.log("Upload error")}}).always(function(){console.log("FIN"),$("#sbmitUpload span").text(trans.Uploadnewfile),$("form#upload_file_form :input").each(function(){$(this).prop("disabled",!1)})})}})};